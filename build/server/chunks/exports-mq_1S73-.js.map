{"version":3,"file":"exports-mq_1S73-.js","sources":["../../../../node_modules/@sveltejs/kit/src/utils/exports.js","../../../../node_modules/@sveltejs/kit/src/utils/url.js"],"sourcesContent":["/**\n * @param {Set<string>} expected\n */\nfunction validator(expected) {\n\t/**\n\t * @param {any} module\n\t * @param {string} [file]\n\t */\n\tfunction validate(module, file) {\n\t\tif (!module) return;\n\n\t\tfor (const key in module) {\n\t\t\tif (key[0] === '_' || expected.has(key)) continue; // key is valid in this module\n\n\t\t\tconst values = [...expected.values()];\n\n\t\t\tconst hint =\n\t\t\t\thint_for_supported_files(key, file?.slice(file.lastIndexOf('.'))) ??\n\t\t\t\t`valid exports are ${values.join(', ')}, or anything with a '_' prefix`;\n\n\t\t\tthrow new Error(`Invalid export '${key}'${file ? ` in ${file}` : ''} (${hint})`);\n\t\t}\n\t}\n\n\treturn validate;\n}\n\n/**\n * @param {string} key\n * @param {string} ext\n * @returns {string | void}\n */\nfunction hint_for_supported_files(key, ext = '.js') {\n\tconst supported_files = [];\n\n\tif (valid_layout_exports.has(key)) {\n\t\tsupported_files.push(`+layout${ext}`);\n\t}\n\n\tif (valid_page_exports.has(key)) {\n\t\tsupported_files.push(`+page${ext}`);\n\t}\n\n\tif (valid_layout_server_exports.has(key)) {\n\t\tsupported_files.push(`+layout.server${ext}`);\n\t}\n\n\tif (valid_page_server_exports.has(key)) {\n\t\tsupported_files.push(`+page.server${ext}`);\n\t}\n\n\tif (valid_server_exports.has(key)) {\n\t\tsupported_files.push(`+server${ext}`);\n\t}\n\n\tif (supported_files.length > 0) {\n\t\treturn `'${key}' is a valid export in ${supported_files.slice(0, -1).join(', ')}${\n\t\t\tsupported_files.length > 1 ? ' or ' : ''\n\t\t}${supported_files.at(-1)}`;\n\t}\n}\n\nconst valid_layout_exports = new Set([\n\t'load',\n\t'prerender',\n\t'csr',\n\t'ssr',\n\t'trailingSlash',\n\t'config'\n]);\nconst valid_page_exports = new Set([...valid_layout_exports, 'entries']);\nconst valid_layout_server_exports = new Set([...valid_layout_exports]);\nconst valid_page_server_exports = new Set([...valid_layout_server_exports, 'actions', 'entries']);\nconst valid_server_exports = new Set([\n\t'GET',\n\t'POST',\n\t'PATCH',\n\t'PUT',\n\t'DELETE',\n\t'OPTIONS',\n\t'HEAD',\n\t'fallback',\n\t'prerender',\n\t'trailingSlash',\n\t'config',\n\t'entries'\n]);\n\nexport const validate_layout_exports = validator(valid_layout_exports);\nexport const validate_page_exports = validator(valid_page_exports);\nexport const validate_layout_server_exports = validator(valid_layout_server_exports);\nexport const validate_page_server_exports = validator(valid_page_server_exports);\nexport const validate_server_exports = validator(valid_server_exports);\n","import { BROWSER, DEV } from 'esm-env';\n\n/**\n * Matches a URI scheme. See https://www.rfc-editor.org/rfc/rfc3986#section-3.1\n * @type {RegExp}\n */\nexport const SCHEME = /^[a-z][a-z\\d+\\-.]+:/i;\n\nconst internal = new URL('sveltekit-internal://');\n\n/**\n * @param {string} base\n * @param {string} path\n */\nexport function resolve(base, path) {\n\t// special case\n\tif (path[0] === '/' && path[1] === '/') return path;\n\n\tlet url = new URL(base, internal);\n\turl = new URL(path, url);\n\n\treturn url.protocol === internal.protocol ? url.pathname + url.search + url.hash : url.href;\n}\n\n/** @param {string} path */\nexport function is_root_relative(path) {\n\treturn path[0] === '/' && path[1] !== '/';\n}\n\n/**\n * @param {string} path\n * @param {import('types').TrailingSlash} trailing_slash\n */\nexport function normalize_path(path, trailing_slash) {\n\tif (path === '/' || trailing_slash === 'ignore') return path;\n\n\tif (trailing_slash === 'never') {\n\t\treturn path.endsWith('/') ? path.slice(0, -1) : path;\n\t} else if (trailing_slash === 'always' && !path.endsWith('/')) {\n\t\treturn path + '/';\n\t}\n\n\treturn path;\n}\n\n/**\n * Decode pathname excluding %25 to prevent further double decoding of params\n * @param {string} pathname\n */\nexport function decode_pathname(pathname) {\n\treturn pathname.split('%25').map(decodeURI).join('%25');\n}\n\n/** @param {Record<string, string>} params */\nexport function decode_params(params) {\n\tfor (const key in params) {\n\t\t// input has already been decoded by decodeURI\n\t\t// now handle the rest\n\t\tparams[key] = decodeURIComponent(params[key]);\n\t}\n\n\treturn params;\n}\n\n/**\n * The error when a URL is malformed is not very helpful, so we augment it with the URI\n * @param {string} uri\n */\nexport function decode_uri(uri) {\n\ttry {\n\t\treturn decodeURI(uri);\n\t} catch (e) {\n\t\tif (e instanceof Error) {\n\t\t\te.message = `Failed to decode URI: ${uri}\\n` + e.message;\n\t\t}\n\t\tthrow e;\n\t}\n}\n\n/**\n * Returns everything up to the first `#` in a URL\n * @param {{href: string}} url_like\n */\nexport function strip_hash({ href }) {\n\treturn href.split('#')[0];\n}\n\n/**\n * URL properties that could change during the lifetime of the page,\n * which excludes things like `origin`\n */\nconst tracked_url_properties = /** @type {const} */ ([\n\t'href',\n\t'pathname',\n\t'search',\n\t'toString',\n\t'toJSON'\n]);\n\n/**\n * @param {URL} url\n * @param {() => void} callback\n * @param {(search_param: string) => void} search_params_callback\n */\nexport function make_trackable(url, callback, search_params_callback) {\n\tconst tracked = new URL(url);\n\n\tObject.defineProperty(tracked, 'searchParams', {\n\t\tvalue: new Proxy(tracked.searchParams, {\n\t\t\tget(obj, key) {\n\t\t\t\tif (key === 'get' || key === 'getAll' || key === 'has') {\n\t\t\t\t\treturn (/**@type {string}*/ param) => {\n\t\t\t\t\t\tsearch_params_callback(param);\n\t\t\t\t\t\treturn obj[key](param);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// if they try to access something different from what is in `tracked_search_params_properties`\n\t\t\t\t// we track the whole url (entries, values, keys etc)\n\t\t\t\tcallback();\n\n\t\t\t\tconst value = Reflect.get(obj, key);\n\t\t\t\treturn typeof value === 'function' ? value.bind(obj) : value;\n\t\t\t}\n\t\t}),\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t});\n\n\tfor (const property of tracked_url_properties) {\n\t\tObject.defineProperty(tracked, property, {\n\t\t\tget() {\n\t\t\t\tcallback();\n\t\t\t\treturn url[property];\n\t\t\t},\n\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true\n\t\t});\n\t}\n\n\tif (!BROWSER) {\n\t\t// @ts-ignore\n\t\ttracked[Symbol.for('nodejs.util.inspect.custom')] = (depth, opts, inspect) => {\n\t\t\treturn inspect(url, opts);\n\t\t};\n\t}\n\n\tif (DEV || !BROWSER) {\n\t\tdisable_hash(tracked);\n\t}\n\n\treturn tracked;\n}\n\n/**\n * Disallow access to `url.hash` on the server and in `load`\n * @param {URL} url\n */\nfunction disable_hash(url) {\n\tallow_nodejs_console_log(url);\n\n\tObject.defineProperty(url, 'hash', {\n\t\tget() {\n\t\t\tthrow new Error(\n\t\t\t\t'Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead'\n\t\t\t);\n\t\t}\n\t});\n}\n\n/**\n * Disallow access to `url.search` and `url.searchParams` during prerendering\n * @param {URL} url\n */\nexport function disable_search(url) {\n\tallow_nodejs_console_log(url);\n\n\tfor (const property of ['search', 'searchParams']) {\n\t\tObject.defineProperty(url, property, {\n\t\t\tget() {\n\t\t\t\tthrow new Error(`Cannot access url.${property} on a page with prerendering enabled`);\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * Allow URL to be console logged, bypassing disabled properties.\n * @param {URL} url\n */\nfunction allow_nodejs_console_log(url) {\n\tif (!BROWSER) {\n\t\t// @ts-ignore\n\t\turl[Symbol.for('nodejs.util.inspect.custom')] = (depth, opts, inspect) => {\n\t\t\treturn inspect(new URL(url), opts);\n\t\t};\n\t}\n}\n\nconst DATA_SUFFIX = '/__data.json';\nconst HTML_DATA_SUFFIX = '.html__data.json';\n\n/** @param {string} pathname */\nexport function has_data_suffix(pathname) {\n\treturn pathname.endsWith(DATA_SUFFIX) || pathname.endsWith(HTML_DATA_SUFFIX);\n}\n\n/** @param {string} pathname */\nexport function add_data_suffix(pathname) {\n\tif (pathname.endsWith('.html')) return pathname.replace(/\\.html$/, HTML_DATA_SUFFIX);\n\treturn pathname.replace(/\\/$/, '') + DATA_SUFFIX;\n}\n\n/** @param {string} pathname */\nexport function strip_data_suffix(pathname) {\n\tif (pathname.endsWith(HTML_DATA_SUFFIX)) {\n\t\treturn pathname.slice(0, -HTML_DATA_SUFFIX.length) + '.html';\n\t}\n\n\treturn pathname.slice(0, -DATA_SUFFIX.length);\n}\n"],"names":[],"mappings":"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"}
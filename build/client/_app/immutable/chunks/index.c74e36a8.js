import{s as E}from"./index.d820e4cb.js";function w(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,I(n.key),n)}}function p(r,t,e){return t&&w(r.prototype,t),e&&w(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function M(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,d(r,t)}function d(r,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},d(r,t)}function P(r,t){if(typeof r!="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function I(r){var t=P(r,"string");return typeof t=="symbol"?t:String(t)}var v=function(){function r(){}var t=r.prototype;return t._seed=function(n,o){if(n===(n||0))return n;for(var i=""+n,s=0,u=0;u<i.length;++u)s^=i.charCodeAt(u)|0;return s},r}(),y=function(r){M(t,r);function t(n,o){var i;return i=r.call(this)||this,i._rng=void 0,i.seed(n,o),i}var e=t.prototype;return e.next=function(){return this._rng()},e.seed=function(o,i){this._rng=o},e.clone=function(o,i){return new t(this._rng,i)},p(t,[{key:"name",get:function(){return"function"}}]),t}(v),m=function(){var r=[].slice.call(arguments),t=r,e=t[0],n=e===void 0?"default":e;switch(typeof n){case"object":if(n instanceof v)return n;break;case"function":return new y(n);case"number":case"string":default:return new y(E.apply(void 0,r))}throw new Error('invalid RNG "'+n+'"')},O=function(r,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),function(){return r.next()*(e-t)+t}};function h(r){return new T(r)}var T=function(t){var e=this;this.n=void 0,this.isInt=function(){if(Number.isInteger(e.n))return e;throw new Error("Expected number to be an integer, got "+e.n)},this.isPositive=function(){if(e.n>0)return e;throw new Error("Expected number to be positive, got "+e.n)},this.lessThan=function(n){if(e.n<n)return e;throw new Error("Expected number to be less than "+n+", got "+e.n)},this.greaterThanOrEqual=function(n){if(e.n>=n)return e;throw new Error("Expected number to be greater than or equal to "+n+", got "+e.n)},this.greaterThan=function(n){if(e.n>n)return e;throw new Error("Expected number to be greater than "+n+", got "+e.n)},this.n=t},N=function(r,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),e===void 0&&(e=t===void 0?1:t,t=0),h(t).isInt(),h(e).isInt(),function(){return Math.floor(r.next()*(e-t+1)+t)}},j=function(r){return function(){return r.next()>=.5}},q=function(r,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),function(){var n,o,i;do n=r.next()*2-1,o=r.next()*2-1,i=n*n+o*o;while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}},R=function(r,t,e){t===void 0&&(t=0),e===void 0&&(e=1);var n=r.normal(t,e);return function(){return Math.exp(n())}},F=function(r,t){return t===void 0&&(t=.5),h(t).greaterThanOrEqual(0).lessThan(1),function(){return Math.floor(r.next()+t)}},G=function(r,t,e){return t===void 0&&(t=1),e===void 0&&(e=.5),h(t).isInt().isPositive(),h(e).greaterThanOrEqual(0).lessThan(1),function(){for(var n=0,o=0;n++<t;)r.next()<e&&o++;return o}},z=function(r,t){t===void 0&&(t=.5),h(t).greaterThan(0).lessThan(1);var e=1/Math.log(1-t);return function(){return Math.floor(1+Math.log(r.next())*e)}},B=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],S=function(t){return B[t]},A=.9189385332046727,H=function(r,t){if(t===void 0&&(t=1),h(t).isPositive(),t<10){var e=Math.exp(-t);return function(){for(var a=e,c=0,l=r.next();l>a;)l=l-a,a=t*a/++c;return c}}else{var n=Math.sqrt(t),o=.931+2.53*n,i=-.059+.02483*o,s=1.1239+1.1328/(o-3.4),u=.9277-3.6224/(o-2);return function(){for(;;){var a=void 0,c=r.next();if(c<=.86*u)return a=c/u-.43,Math.floor((2*i/(.5-Math.abs(a))+o)*a+t+.445);c>=u?a=r.next()-.5:(a=c/u-.93,a=(a<0?-.5:.5)-a,c=r.next()*u);var l=.5-Math.abs(a);if(!(l<.013&&c>l)){var f=Math.floor((2*i/l+o)*a+t+.445);if(c=c*s/(i/(l*l)+o),f>=10){var x=(f+.5)*Math.log(t/f)-t-A+f-(.08333333333333333-(.002777777777777778-1/(1260*f*f))/(f*f))/f;if(Math.log(c*n)<=x)return f}else if(f>=0){var _,b=(_=S(f))!=null?_:0;if(Math.log(c)<=f*Math.log(t)-t-b)return f}}}}}},V=function(r,t){return t===void 0&&(t=1),h(t).isPositive(),function(){return-Math.log(1-r.next())/t}},L=function(r,t){return t===void 0&&(t=1),h(t).isInt().greaterThanOrEqual(0),function(){for(var e=0,n=0;n<t;++n)e+=r.next();return e}},$=function(r,t){t===void 0&&(t=1),h(t).isInt().isPositive();var e=r.irwinHall(t);return function(){return e()/t}},K=function(r,t){t===void 0&&(t=1),h(t).greaterThanOrEqual(0);var e=1/t;return function(){return 1/Math.pow(1-r.next(),e)}},D=function(r){M(t,r);function t(){return r.apply(this,arguments)||this}var e=t.prototype;return e.next=function(){return Math.random()},e.seed=function(o,i){},e.clone=function(){return new t},p(t,[{key:"name",get:function(){return"default"}}]),t}(v),J=function(){function r(e){var n=this;this._rng=void 0,this._patch=void 0,this._cache={},this.next=function(){return n._rng.next()},this.float=function(o,i){return n.uniform(o,i)()},this.int=function(o,i){return n.uniformInt(o,i)()},this.integer=function(o,i){return n.uniformInt(o,i)()},this.bool=function(){return n.uniformBoolean()()},this.boolean=function(){return n.uniformBoolean()()},this.uniform=function(o,i){return n._memoize("uniform",O,o,i)},this.uniformInt=function(o,i){return n._memoize("uniformInt",N,o,i)},this.uniformBoolean=function(){return n._memoize("uniformBoolean",j)},this.normal=function(o,i){return q(n,o,i)},this.logNormal=function(o,i){return R(n,o,i)},this.bernoulli=function(o){return F(n,o)},this.binomial=function(o,i){return G(n,o,i)},this.geometric=function(o){return z(n,o)},this.poisson=function(o){return H(n,o)},this.exponential=function(o){return V(n,o)},this.irwinHall=function(o){return L(n,o)},this.bates=function(o){return $(n,o)},this.pareto=function(o){return K(n,o)},e&&e instanceof v?this.use(e):this.use(new D),this._cache={}}var t=r.prototype;return t.clone=function(){var n=[].slice.call(arguments);return n.length?new r(m.apply(void 0,n)):new r(this.rng.clone())},t.use=function(){this._rng=m.apply(void 0,[].slice.call(arguments))},t.patch=function(){if(this._patch)throw new Error("Math.random already patched");this._patch=Math.random,Math.random=this.uniform()},t.unpatch=function(){this._patch&&(Math.random=this._patch,delete this._patch)},t.choice=function(n){if(!Array.isArray(n))throw new Error("Random.choice expected input to be an array, got "+typeof n);var o=n==null?void 0:n.length;if(o>0){var i=this.uniformInt(0,o-1)();return n[i]}else return},t._memoize=function(n,o){var i=[].slice.call(arguments,2),s=""+i.join(";"),u=this._cache[n];return(u===void 0||u.key!==s)&&(u={key:s,distribution:o.apply(void 0,[this].concat(i))},this._cache[n]=u),u.distribution},p(r,[{key:"rng",get:function(){return this._rng}}]),r}(),g=new J;function U(r){return g.int(1,r)}function W(r){return r[g.int(0,r.length-1)]}function X(r,t){const e=(t-r)/3;let n=r;for(let o=0;o<3;o++)n+=g.float(0,e);return n}function Y(r){let t="";for(let e=0;e<r;e++)t+=Math.random().toString(36).slice(2)[0];return t}function Z(r){for(let t=r.length-1;t>0;t--){const e=Math.floor(Math.random()*t),n=r[t];r[t]=r[e],r[e]=n}return r}function k(r){let t=0;if(r.length==1)return r[0];r.forEach(function(n){t+=n.commonality});let e=g.int(0,t);for(let n=0;n<r.length;n++){const o=r[n];if(e-=o.commonality,e<=0)return o}throw new Error(`Tried to get weighted result from array with length ${r.length}, failed to get anything back`)}export{U as a,X as b,W as i,Y as r,Z as s,k as w};
//# sourceMappingURL=index.c74e36a8.js.map

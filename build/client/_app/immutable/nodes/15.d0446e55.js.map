{"version":3,"file":"15.d0446e55.js","sources":["../../../../../../src/routes/fantasy/religion/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { getContext } from 'svelte';\n  import * as MUN from \"@ironarachne/made-up-names\";\n  import * as RND from \"@ironarachne/rng\";\n  import * as FantasySpecies from \"$lib/species/fantasy.js\";\n  import * as CommonSpecies from \"$lib/species/common.js\";\n  import * as ReligionCategories from \"$lib/religion/categories/categories.js\";\n  import type Species from \"$lib/species/species\";\n  import random from \"random\";\n  import ReligionGenerator from \"$lib/religion/generator\";\n  import ReligionGeneratorConfig from \"$lib/religion/generatorconfig\";\n  import seedrandom from \"seedrandom\";\n  import type Culture from '$lib/culture/culture';\n\n  const user = getContext('user');\n\n  let humanNameGenSet = new MUN.HumanSet();\n  let savedCulture: string;\n  let useSavedCulture: boolean = false;\n  let culture: Culture;\n\n  let seed = RND.randomString(13);\n  random.use(seedrandom(seed));\n  let genConfig = new ReligionGeneratorConfig();\n  let generator = new ReligionGenerator(genConfig);\n  let religion = generator.generate();\n  let allSpeciesNames: string[] = [];\n  const allSpecies = FantasySpecies.all();\n  const allReligionCategories = ReligionCategories.all();\n  let allReligionCategoriesNames: string[] = [];\n\n  for (let i = 0; i < allSpecies.length; i++) {\n    allSpeciesNames.push(allSpecies[i].name);\n  }\n\n  for (let i = 0; i < allReligionCategories.length; i++) {\n    allReligionCategoriesNames.push(allReligionCategories[i].name);\n  }\n\n  let selectedSpecies: string[] = [\"human\"];\n  let selectedCategories: string[] = [\"polytheism\"];\n\n  function generate() {\n    random.use(seedrandom(seed));\n    if (humanNameGenSet.family === null) {\n      throw new Error(\"Name set does not have a family name generator.\")\n    }\n    if (humanNameGenSet.female === null) {\n      throw new Error(\"Name set does not have a female name generator.\")\n    }\n    if (humanNameGenSet.male === null) {\n      throw new Error(\"Name set does not have a male name generator.\")\n    }\n    let speciesOptions: Species[] = [];\n    for (let i=0;i<selectedSpecies.length;i++) {\n      speciesOptions.push(CommonSpecies.byName(selectedSpecies[i], allSpecies));\n    }\n\n    let categoryOptions = [];\n    for (let i=0;i<selectedCategories.length;i++) {\n      categoryOptions.push(ReligionCategories.byName(selectedCategories[i], allReligionCategories));\n    }\n\n    generator.config.deitySpeciesOptions = speciesOptions;\n    generator.config.categories = categoryOptions;\n    generator.config.nameGenerator = humanNameGenSet.family;\n    generator.config.femaleNameGenerator = humanNameGenSet.female;\n    generator.config.maleNameGenerator = humanNameGenSet.male;\n\n    if (useSavedCulture) {\n      loadSavedCulture();\n\n      if (culture.generatorSet.family !== null) {\n        generator.config.nameGenerator = culture.generatorSet.family;\n      }\n      if (culture.generatorSet.female !== null) {\n        generator.config.femaleNameGenerator = culture.generatorSet.female;\n      }\n      if (culture.generatorSet.male !== null) {\n        generator.config.maleNameGenerator = culture.generatorSet.male;\n      }\n    } else {\n      generator.config.nameGenerator = humanNameGenSet.family;\n      generator.config.femaleNameGenerator = humanNameGenSet.female;\n      generator.config.maleNameGenerator = humanNameGenSet.male;\n    }\n\n    religion = generator.generate();\n  }\n\n  function loadSavedCulture() {\n    for (let i = 0; i < user.savedCultures.length; i++) {\n      if (user.savedCultures[i].name === savedCulture) {\n        culture = user.savedCultures[i];\n      }\n    }\n  }\n\n  function newSeed() {\n    seed = RND.randomString(13);\n    generate();\n  }\n</script>\n\n<style lang=\"scss\">\n  @import \"$lib/styles/reset.scss\";\n  @import \"$lib/styles/main.scss\";\n  @import '$lib/styles/global.scss';\n  @import '$lib/styles/fantasy.scss';\n\n  .input-group {\n    ul > li {\n      list-style: none;\n    }\n  }\n</style>\n\n<svelte:head>\n  <title>Religion Generator | Iron Arachne</title>\n</svelte:head>\n\n<section class=\"fantasy main\">\n  <h1>Fantasy Religion Generator</h1>\n\n  <p>Generate a fictional fantasy religion.</p>\n\n  <div class=\"input-group\">\n    <label for=\"seed\">Random Seed</label>\n    <input type=\"text\" name=\"seed\" bind:value={seed} id=\"seed\" />\n  </div>\n\n  <div class=\"input-group\">\n    <label for=\"selected-categories\">Allow these religion categories</label>\n    {#each allReligionCategoriesNames as categoryName}\n    <ul>\n      <li><input type=\"checkbox\" name=\"selected-categories\" bind:group={selectedCategories} id=\"selected-categories\" value={categoryName} /> {categoryName}</li>\n    </ul>\n    {/each}\n  </div>\n\n  <div class=\"input-group\">\n    <label for=\"selected-species\">Allow deities of these species</label>\n    {#each allSpeciesNames as speciesName}\n    <ul>\n      <li><input type=\"checkbox\" name=\"selected-species\" bind:group={selectedSpecies} id=\"selected-species\" value={speciesName} /> {speciesName}</li>\n    </ul>\n    {/each}\n  </div>\n\n  {#if user.savedCultures !== undefined && user.savedCultures.length > 0}\n  <div class=\"input-group\">\n    <label for=\"useSavedCulture\">Use a saved culture for naming?</label>\n    <input type=\"checkbox\" name=\"useSavedCulture\" bind:checked={useSavedCulture} id=\"useSavedCulture\" />\n  </div>\n\n  <div class=\"input-group\">\n    <label for=\"savedCulture\">Select a saved culture to load</label>\n    <select bind:value={savedCulture}>\n      {#each user.savedCultures as saved}\n      <option value={saved.name}>{ saved.name }</option>\n      {/each}\n    </select>\n  </div>\n  {/if}\n\n  <button on:click={generate}>Generate From Seed</button>\n  <button on:click={newSeed}>Random Seed (and Generate)</button>\n\n  <h2>{religion.name}</h2>\n\n  <p>{religion.description}</p>\n\n  <h3>Realms</h3>\n\n  {#each religion.realms as realm}\n    <div>\n      <h4>{realm.name}</h4>\n      <p>{realm.description}</p>\n    </div>\n  {/each}\n\n  {#if religion.pantheon !== null}\n  <h3>Deities</h3>\n\n  <p>{religion.pantheon.description}</p>\n\n  {#each religion.pantheon.members as member}\n    <div>\n      <h4>{member.deity.name}</h4>\n\n      <p>{member.deity.titles.join(\",\")}</p>\n\n      <p><strong>Holy Item:</strong> {member.deity.holyItem}</p>\n      <p><strong>Holy Symbol:</strong> {member.deity.holySymbol}</p>\n\n      <p>{member.deity.description}</p>\n    </div>\n  {/each}\n  {/if}\n</section>\n"],"names":["ctx","insert_hydration","target","ul","anchor","append_hydration","li","input","each_value_2","ensure_array_like","i","add_render_callback","select","div0","label0","div1","label1","t_value","option","t0_value","t2_value","div","h4","p","dirty","set_data","t0","t2","h3","p0","p1","strong0","p2","strong1","p3","t6","t6_value","t10","t10_value","t12","t12_value","t19_value","t21_value","create_if_block_1","each_value_1","create_if_block","section","h1","div2","label2","button0","button1","h2","if_block0","t19","t21","user","getContext","humanNameGenSet","MUN.HumanSet","savedCulture","useSavedCulture","culture","seed","RND.randomString","random","seedrandom","genConfig","ReligionGeneratorConfig","generator","ReligionGenerator","religion","allSpeciesNames","allSpecies","FantasySpecies.all","allReligionCategories","ReligionCategories.all","allReligionCategoriesNames","selectedSpecies","selectedCategories","generate","speciesOptions","CommonSpecies.byName","categoryOptions","ReligionCategories.byName","loadSavedCulture","$$invalidate","newSeed","get_binding_group_value","$$binding_groups","select_value"],"mappings":"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"}
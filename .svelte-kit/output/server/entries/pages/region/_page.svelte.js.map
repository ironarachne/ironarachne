{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/lib/environment/environments.ts","../../../../../../src/lib/realms/realm_types.ts","../../../../../../src/lib/realms/realms.ts","../../../../../../src/lib/settlements/categories/borough.ts","../../../../../../src/lib/settlements/categories/city.ts","../../../../../../src/lib/settlements/categories/hamlet.ts","../../../../../../src/lib/settlements/categories/metropolis.ts","../../../../../../src/lib/settlements/categories/town.ts","../../../../../../src/lib/settlements/categories/village.ts","../../../../../../src/lib/settlements/settlement_categories.ts","../../../../../../src/lib/settlements/settlements.ts","../../../../../../src/lib/regions/regions.ts","../../../../../../src/routes/region/+page.svelte"],"sourcesContent":["import * as RND from \"@ironarachne/rng\";\nimport * as Biomes from \"./biomes/biomes\";\nimport * as Climates from \"./climates/climates\";\nimport type Environment from \"./environment\";\n\nexport function generate(): Environment {\n  let climate = RND.item(Climates.all());\n  climate.description = Climates.describe(climate);\n  let config = Biomes.getDefaultConfig();\n  config.climate = climate;\n  const biome = Biomes.generate(config);\n\n  let environment: Environment = { biome, climate, description: \"\" };\n\n  environment.description = `${RND.item(biome.descriptions)} ${RND.item(biome.features)}`;\n  environment.description += \" \" + environment.climate.description;\n\n  return environment;\n}\n","import type RealmType from \"./realm_type.js\";\n\nexport function all(): RealmType[] {\n  let kingdom = {\n    name: \"kingdom\",\n    minTiles: 10,\n    maxTiles: 50,\n    grantedTitle: {\n      femaleTitle: \"Queen\",\n      maleTitle: \"King\",\n      femaleHonorific: \"Queen\",\n      maleHonorific: \"King\",\n      hasLands: true,\n      landName: \"Kingdom of\",\n      precedence: 7,\n    },\n    commonality: 5,\n    isStandalone: true,\n    parentType: null,\n  };\n  let empire = {\n    name: \"empire\",\n    minTiles: 50,\n    maxTiles: 100,\n    grantedTitle: {\n      femaleTitle: \"Empress\",\n      maleTitle: \"Emperor\",\n      femaleHonorific: \"Empress\",\n      maleHonorific: \"Emperor\",\n      hasLands: true,\n      landName: \"Empire of\",\n      precedence: 8,\n    },\n    commonality: 5,\n    isStandalone: true,\n    parentType: null,\n  };\n\n  return [\n    {\n      name: \"earldom\",\n      minTiles: 2,\n      maxTiles: 4,\n      grantedTitle: {\n        femaleTitle: \"Earl\",\n        maleTitle: \"Earl\",\n        femaleHonorific: \"Lady\",\n        maleHonorific: \"Lord\",\n        hasLands: true,\n        landName: \"Earldom of\",\n        precedence: 2,\n      },\n      commonality: 5,\n      isStandalone: false,\n      parentType: kingdom,\n    },\n    {\n      name: \"county\",\n      minTiles: 4,\n      maxTiles: 6,\n      grantedTitle: {\n        femaleTitle: \"Countess\",\n        maleTitle: \"Count\",\n        femaleHonorific: \"Countess\",\n        maleHonorific: \"Count\",\n        hasLands: true,\n        landName: \"County of\",\n        precedence: 3,\n      },\n      commonality: 20,\n      isStandalone: false,\n      parentType: kingdom,\n    },\n    {\n      name: \"barony\",\n      minTiles: 6,\n      maxTiles: 8,\n      grantedTitle: {\n        femaleTitle: \"Baroness\",\n        maleTitle: \"Baron\",\n        femaleHonorific: \"Baroness\",\n        maleHonorific: \"Baron\",\n        hasLands: true,\n        landName: \"Barony of\",\n        precedence: 4,\n      },\n      commonality: 10,\n      isStandalone: false,\n      parentType: kingdom,\n    },\n    {\n      name: \"duchy\",\n      minTiles: 8,\n      maxTiles: 10,\n      grantedTitle: {\n        femaleTitle: \"Duchess\",\n        maleTitle: \"Duke\",\n        femaleHonorific: \"Duchess\",\n        maleHonorific: \"Duke\",\n        hasLands: true,\n        landName: \"Duchy of\",\n        precedence: 5,\n      },\n      commonality: 5,\n      isStandalone: false,\n      parentType: kingdom,\n    },\n    {\n      name: \"grand duchy\",\n      minTiles: 10,\n      maxTiles: 12,\n      grantedTitle: {\n        femaleTitle: \"Grand Duchess\",\n        maleTitle: \"Grand Duke\",\n        femaleHonorific: \"Grand Duchess\",\n        maleHonorific: \"Grand Duke\",\n        hasLands: true,\n        landName: \"Grand Duchy of\",\n        precedence: 6,\n      },\n      commonality: 2,\n      isStandalone: false,\n      parentType: kingdom,\n    },\n    {\n      name: \"principality\",\n      minTiles: 12,\n      maxTiles: 14,\n      grantedTitle: {\n        femaleTitle: \"Princess\",\n        maleTitle: \"Prince\",\n        femaleHonorific: \"Princess\",\n        maleHonorific: \"Prince\",\n        hasLands: true,\n        landName: \"Principality of\",\n        precedence: 7,\n      },\n      commonality: 2,\n      isStandalone: false,\n      parentType: kingdom,\n    },\n    {\n      name: \"province\",\n      minTiles: 12,\n      maxTiles: 14,\n      grantedTitle: {\n        femaleTitle: \"Governor\",\n        maleTitle: \"Governor\",\n        femaleHonorific: \"Governor\",\n        maleHonorific: \"Governor\",\n        hasLands: true,\n        landName: \"Province of\",\n        precedence: 7,\n      },\n      commonality: 1,\n      isStandalone: false,\n      parentType: empire,\n    },\n    kingdom,\n    empire,\n  ];\n}\n","import type Character from \"$lib/characters/character.js\";\nimport * as Characters from \"$lib/characters/characters.js\";\nimport * as PremadeConfigs from \"$lib/characters/premade_configs.js\";\nimport HeraldryGenerator from \"$lib/heraldry/generator.js\";\nimport type { GeneratorSet } from \"@ironarachne/made-up-names\";\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport * as RND from \"@ironarachne/rng\";\nimport * as Words from \"@ironarachne/words\";\nimport type Realm from \"./realm.js\";\nimport type RealmGeneratorConfig from \"./realm_generator_config.js\";\nimport type RealmType from \"./realm_type.js\";\nimport * as RealmTypes from \"./realm_types.js\";\n\nexport function generate(config: RealmGeneratorConfig): Realm {\n  let realmType = RND.weighted(config.realmTypes);\n\n  if (config.nameGeneratorSet.country === null) {\n    throw new Error(\"RealmGenerator requires a country name generator set.\");\n  }\n\n  let name = config.nameGeneratorSet.country.generate(1)[0];\n  name = `the ${Words.title(realmType.name)} of ${name}`;\n  let herGen = new HeraldryGenerator();\n  let heraldry = herGen.generate();\n  let authority = randomAuthority(realmType, config.nameGeneratorSet);\n\n  return {\n    name: name,\n    adjective: name,\n    description: \"\",\n    heraldry: heraldry,\n    authority: authority,\n    grantedTitle: realmType.grantedTitle,\n    tiles: [],\n    claims: [],\n    parent: -1,\n    realmType: realmType,\n  };\n}\n\nexport function getDefaultConfig(): RealmGeneratorConfig {\n  return {\n    nameGeneratorSet: MUN.getSetByName(\"human\", MUN.fantasyRaceSets()),\n    realmTypes: RealmTypes.all(),\n    mapWidth: 40,\n    mapHeight: 30,\n    mapTiles: [],\n  };\n}\n\nfunction randomAuthority(realmType: RealmType, nameGeneratorSet: GeneratorSet): Character {\n  let charGenConfig = PremadeConfigs.getFantasy();\n  charGenConfig.ageCategoryNames = [\"adult\"];\n\n  charGenConfig.familyNameGenerator = nameGeneratorSet.family;\n  charGenConfig.femaleNameGenerator = nameGeneratorSet.female;\n  charGenConfig.maleNameGenerator = nameGeneratorSet.male;\n  charGenConfig.useAdaptiveNames = false;\n\n  let authority = Characters.generate(charGenConfig);\n  authority.titles.push(realmType.grantedTitle);\n  let herGen = new HeraldryGenerator();\n  authority.heraldry = herGen.generate();\n\n  return authority;\n}\n","import type SettlementCategory from \"../settlement_category.js\";\n\nexport default <SettlementCategory> {\n  name: \"borough\",\n  minSize: 10000,\n  maxSize: 19999,\n  sizeClass: \"medium\",\n  possibleDescriptions: [\n    \"The buildings here are tall and tightly packed together, with narrow streets winding between them.\",\n    \"This borough is divided into several distinct districts, each with its own unique architecture and atmosphere.\",\n    \"The center of this borough is dominated by a massive marketplace, surrounded by a ring of shops and residences.\",\n    \"There are many factories and mills in this borough, with tall chimneys belching smoke into the air.\",\n    \"The buildings here are mostly made of stone or brick, and are quite ornate and impressive.\",\n    \"The streets of this borough are lined with small shops and stalls, selling all manner of goods.\",\n    \"There are many parks and gardens scattered throughout this borough, offering a welcome respite from the hustle and bustle of city life.\",\n    \"The buildings here are a mix of old and new, with modern high-rises standing next to ancient, crumbling ruins.\",\n    \"This borough is known for its grand architecture, with many magnificent cathedrals and government buildings.\",\n  ],\n};\n","import type SettlementCategory from \"../settlement_category.js\";\n\nexport default <SettlementCategory> {\n  name: \"city\",\n  minSize: 20000,\n  maxSize: 49999,\n  sizeClass: \"large\",\n  possibleDescriptions: [\n    \"This city is built around a grand castle, with towers that pierce the sky and walls that have withstood the test of time.\",\n    \"The streets of this city are lined with buildings of every shape and size, from towering spires to humble cottages.\",\n    \"This city is a marvel of engineering, with aqueducts, bridges, and tunnels that connect its various districts.\",\n    \"The buildings in this city are a testament to the skill and artistry of its craftsmen, with intricate carvings and decorations adorning their facades.\",\n    \"This city is surrounded by a sturdy wall, with guard towers and gates that keep out unwanted visitors.\",\n    \"The center of this city is dominated by a grand cathedral, with stained-glass windows and soaring arches that inspire awe in all who see them.\",\n    \"The main square of this city is a bustling hub of activity, with market stalls and street performers vying for attention.\",\n    \"The winding alleys of this city are lit by lanterns at night, creating a mysterious and romantic atmosphere.\",\n    \"This city is a patchwork of different architectural styles, with each district showcasing its own unique character and flair.\",\n  ],\n};\n","import type SettlementCategory from \"../settlement_category.js\";\n\nexport default <SettlementCategory> {\n  name: \"hamlet\",\n  minSize: 10,\n  maxSize: 49,\n  sizeClass: \"small\",\n  possibleDescriptions: [\n    \"Buildings here are scattered and small, with thatched roofs and walls of rough-hewn timber.\",\n    \"The farms here are clustered together, their fields carefully tended and surrounded by low stone walls.\",\n    \"There are only a handful of farms scattered around a single community building here, which serves as the center of local life.\",\n    \"The hamlet is surrounded by wilderness, with a few clearings where buildings and fields have been established.\",\n    \"The buildings in the hamlet are simple but sturdy, with chimneys belching smoke into the crisp morning air.\",\n    \"This hamlet is situated on a hilltop, with commanding views of the surrounding countryside.\",\n    \"The hamlet consists of a small cluster of houses and barns, with a narrow dirt road leading off into the distance.\",\n    \"There is a small stream running through the hamlet, providing water for the villagers and their crops.\",\n  ],\n};\n","import type SettlementCategory from \"../settlement_category.js\";\n\nexport default <SettlementCategory> {\n  name: \"metropolis\",\n  minSize: 50000,\n  maxSize: 3000000,\n  sizeClass: \"large\",\n  possibleDescriptions: [\n    \"This grand metropolis is a center of culture and learning, with renowned universities and libraries that draw scholars from across the land.\",\n    \"The winding streets of this ancient metropolis are lined with taverns, inns, and shops selling all manner of exotic goods.\",\n    \"Despite its immense size, this metropolis is a tightly-knit community where everyone knows their neighbors and traditions are deeply rooted.\",\n    \"This sprawling metropolis is surrounded by towering walls and fortified gates, protecting it from invaders and marauders.\",\n    \"The grand castle at the heart of this metropolis is the seat of the ruling monarch, and its knights are famed for their valor and chivalry.\",\n    \"This metropolis is a hub of trade and commerce, with bustling markets and guilds that wield immense power.\",\n    \"The streets of this metropolis are lit by torches and lined with ancient stone buildings, some of which have stood for centuries.\",\n    \"This metropolis is renowned for its skilled craftsmen, who produce exquisite works of art and fine weaponry.\",\n    \"The dark alleys and hidden courtyards of this metropolis are home to thieves, assassins, and other unsavory characters.\",\n    \"Despite the challenges it faces, this metropolis is a beacon of hope and civilization in a world full of danger and chaos.\",\n  ],\n};\n","import type SettlementCategory from \"../settlement_category.js\";\n\nexport default <SettlementCategory> {\n  name: \"town\",\n  minSize: 500,\n  maxSize: 9999,\n  sizeClass: \"medium\",\n  possibleDescriptions: [\n    \"There are multiple inns and taverns here, with brightly colored signs swinging in the breeze.\",\n    \"The town is surrounded by fields and orchards, with the smell of ripe fruit and vegetables wafting through the air.\",\n    \"There is a city hall, a town square, and a number of stores and shops, all housed in buildings of stone and wood.\",\n    \"The town is located on the banks of a river, with a busy dock where barges unload their wares.\",\n    \"The buildings in the town are tightly packed together, with narrow streets winding between them.\",\n    \"The town is known for its skilled craftsmen, and their workshops and forges ring with the sound of hammers on metal.\",\n    \"Many farms surround a dense core of community buildings here.\",\n    \"The town is famous for its annual fair, where vendors from all over the kingdom come to sell their wares.\",\n    \"The town is dominated by a tall clock tower, which chimes the hour with a melodious tune.\",\n    \"Despite its size, the town is peaceful and orderly, with a watchful eye kept on outsiders who might cause trouble.\",\n  ],\n};\n","import type SettlementCategory from \"../settlement_category.js\";\n\nexport default <SettlementCategory> {\n  name: \"village\",\n  minSize: 50,\n  maxSize: 499,\n  sizeClass: \"small\",\n  possibleDescriptions: [\n    \"There is a single inn, a blacksmith, and a few houses in town, with farms surrounding it. Smoke rises from the chimneys, and the sound of animals can be heard in the distance.\",\n    \"This is a dense collection of farms with a number of communal buildings in the center, including a mill and a chapel. The farms are surrounded by low stone walls to protect them from marauding animals.\",\n    \"A knot of communal buildings marks the center of this village, including a town hall and a small market. The farms radiate out in a rough circle around it, with a stream running through the center of the village.\",\n    \"The village is nestled in a valley, surrounded by rolling hills covered in fields of wheat and barley. A small stream winds through the center of town, and the air is fragrant with the smell of fresh-baked bread.\",\n    \"The village is built on the side of a hill, with narrow paths winding between the houses. The buildings are made of wood and thatch, and are tightly packed together for warmth and protection from the wind.\",\n    \"The village is known for its skilled weavers, and the sound of looms can be heard from many of the houses. The weavers work with colorful threads, creating intricate patterns in their textiles.\",\n    \"Despite its small size, the village has a strong sense of community, with neighbors looking out for one another and coming together for festivals and celebrations throughout the year.\",\n  ],\n};\n","import * as RND from \"@ironarachne/rng\";\nimport random from \"random\";\nimport Borough from \"./categories/borough.js\";\nimport City from \"./categories/city.js\";\nimport Hamlet from \"./categories/hamlet.js\";\nimport Metropolis from \"./categories/metropolis.js\";\nimport Town from \"./categories/town.js\";\nimport Village from \"./categories/village.js\";\nimport type SettlementCategory from \"./settlement_category.js\";\n\nexport function all(): SettlementCategory[] {\n  return [Hamlet, Village, Town, Borough, City, Metropolis];\n}\n\nexport function bySizeClass(sizeClass: string): SettlementCategory[] {\n  const options = all();\n  let result: SettlementCategory[] = [];\n\n  for (let i = 0; i < options.length; i++) {\n    if (options[i].sizeClass == sizeClass) {\n      result.push(options[i]);\n    }\n  }\n\n  return result;\n}\n\nexport function small(): SettlementCategory[] {\n  return bySizeClass(\"small\");\n}\n\nexport function medium(): SettlementCategory[] {\n  return bySizeClass(\"medium\");\n}\n\nexport function large(): SettlementCategory[] {\n  return bySizeClass(\"large\");\n}\n\nexport function randomCategory(categories: SettlementCategory[]): SettlementCategory {\n  return RND.item(categories);\n}\n\nexport function randomDescription(category: SettlementCategory): string {\n  let description = RND.item(category.possibleDescriptions);\n  return description;\n}\n\nexport function randomPopulation(category: SettlementCategory): number {\n  return random.int(category.minSize, category.maxSize);\n}\n","import * as Environments from \"$lib/environment/environments.js\";\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport * as RND from \"@ironarachne/rng\";\nimport * as Dice from \"../dice.js\";\nimport type Settlement from \"./settlement.js\";\nimport * as Categories from \"./settlement_categories.js\";\nimport type SettlementGeneratorConfig from \"./settlement_generator_config.js\";\n\nexport function generate(config: SettlementGeneratorConfig): Settlement {\n  const settlementName = (config.nameGenerator !== null)\n    ? config.nameGenerator.generate(1)[0]\n    : \"Settlement\";\n  const settlementCategory = RND.item(Categories.bySizeClass(config.size));\n  const settlement: Settlement = {\n    name: settlementName,\n    category: settlementCategory,\n    environment: config.environment,\n    description: \"\",\n    population: Categories.randomPopulation(settlementCategory),\n    prosperity: Dice.roll(\"2d6\"),\n  };\n\n  settlement.description = randomDescription(settlement);\n\n  return settlement;\n}\n\nexport function getDefaultConfig(): SettlementGeneratorConfig {\n  let environment = Environments.generate();\n\n  let genSet = MUN.getSetByName(\"fantasy\", MUN.cultureSets());\n\n  let nameGenerator = genSet.town;\n  let size = \"any\";\n\n  return {\n    environment,\n    nameGenerator,\n    size,\n  };\n}\n\nfunction randomDescription(settlement: Settlement): string {\n  let description = RND.item([\n    \"{name} is a {category} of {population} people.\",\n    \"The {category} of {name} has {population} people.\",\n  ]);\n\n  description = description.replace(\"{category}\", settlement.category.name);\n  description = description.replace(\n    \"{population}\",\n    new Intl.NumberFormat().format(settlement.population),\n  );\n  description = description.replace(\"{name}\", settlement.name);\n  description += \" \" + Categories.randomDescription(settlement.category);\n  description += \" \" + randomProsperity(settlement.prosperity);\n  description += \" \" + randomReputation();\n  description += \" \" + RND.item(settlement.environment.biome.features);\n\n  return description;\n}\n\nfunction randomProsperity(prosperity: number): string {\n  let prefixes = [\n    \"The people here\",\n    \"Most people here\",\n    \"Folks here\",\n    \"Most folks here\",\n    \"People here\",\n  ];\n\n  let suffixes = [];\n\n  if (prosperity < 4) {\n    suffixes = [\n      \"have little more than what they need to survive\",\n      \"struggle to make ends meet\",\n      \"struggle to have enough to survive\",\n    ];\n  } else if (prosperity < 8) {\n    suffixes = [\n      \"have enough to meet their needs\",\n      \"have just enough to meet their needs\",\n      \"seem to be doing well\",\n      \"have their needs met\",\n    ];\n  } else {\n    suffixes = [\"have more wealth than most\", \"are prosperous\", \"have more than they need\"];\n  }\n\n  let options = [];\n\n  for (let i = 0; i < prefixes.length; i++) {\n    for (let j = 0; j < suffixes.length; j++) {\n      options.push(`${prefixes[i]} ${suffixes[j]}.`);\n    }\n  }\n\n  return RND.item(options);\n}\n\nfunction randomReputation(): string {\n  let prefixes = [\n    \"The people are known for\",\n    \"The people are regarded as\",\n    \"Folk here have a reputation for\",\n    \"People here are regarded as\",\n    \"The folk here are known for\",\n    \"They are known for\",\n    \"They are well known for\",\n    \"They are sometimes known for\",\n    \"Some other places regard the people here as\",\n    \"Some places regard the people here as\",\n    \"Some places regard them as\",\n    \"Some regard them as\",\n    \"Some folks regard them as\",\n  ];\n\n  let suffixes = [\n    \"being aloof\",\n    \"being suspicious of others\",\n    \"being suspicious of outsiders\",\n    \"being friendly and open\",\n    \"being friendly but devious\",\n    \"being friendly\",\n    \"being greedy\",\n    \"being altruistic\",\n    \"being trusting\",\n    \"being mistrustful\",\n    \"being miserly\",\n    \"being obsessed with status\",\n    \"being hardworking\",\n    \"being devious\",\n    \"being unfriendly\",\n    \"being trustworthy\",\n    \"being lazy\",\n    \"spending too much time making merry\",\n    \"spending too much time slacking off\",\n    \"working hard\",\n    \"working too hard\",\n    \"being unruly\",\n    \"being belligerent\",\n  ];\n\n  let reputations: string[] = [];\n\n  for (let i = 0; i < prefixes.length; i++) {\n    for (let j = 0; j < suffixes.length; j++) {\n      reputations.push(`${prefixes[i]} ${suffixes[j]}.`);\n    }\n  }\n\n  return RND.item(reputations);\n}\n","import type Character from \"$lib/characters/character.js\";\nimport type Culture from \"$lib/culture/culture.js\";\nimport type Environment from \"$lib/environment/environment.js\";\nimport * as Environments from \"$lib/environment/environments.js\";\nimport * as Organizations from \"$lib/organizations/fantasy.js\";\nimport type Organization from \"$lib/organizations/organization.js\";\nimport type Realm from \"$lib/realms/realm.js\";\nimport * as Realms from \"$lib/realms/realms.js\";\nimport type Settlement from \"$lib/settlements/settlement.js\";\nimport * as Settlements from \"$lib/settlements/settlements.js\";\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport * as RND from \"@ironarachne/rng\";\nimport random from \"random\";\nimport type Region from \"./region.js\";\nimport type RegionGeneratorConfig from \"./region_generator_config.js\";\n\nexport function generate(config: RegionGeneratorConfig): Region {\n  let region: Region = {\n    name: \"\",\n    environment: {} as Environment,\n    description: \"\",\n    dominantCulture: {} as Culture,\n    settlements: [] as Settlement[],\n    mainRealm: 0,\n    realms: [] as Realm[],\n    authority: {} as Character,\n    organizations: [] as Organization[],\n    settlementTiles: [] as number[][],\n    terrainTiles: [] as number[][],\n  };\n\n  let nameGenSet;\n\n  if (config.dominantCulture != null) {\n    region.dominantCulture = config.dominantCulture;\n    nameGenSet = region.dominantCulture.generatorSet;\n  } else {\n    nameGenSet = config.nameGeneratorSet;\n  }\n\n  region.environment = Environments.generate();\n  region.settlements = randomSettlements(region.environment, nameGenSet);\n  region.organizations = randomOrganizations();\n  region.description = region.environment.description;\n\n  let realmGenConfig = Realms.getDefaultConfig();\n  realmGenConfig.nameGeneratorSet = nameGenSet;\n\n  let mainRealm = Realms.generate(realmGenConfig);\n  region.realms.push(mainRealm);\n  region.mainRealm = 0;\n\n  if (!mainRealm.realmType.isStandalone) {\n    let parentRealmConfig = Realms.getDefaultConfig();\n    parentRealmConfig.nameGeneratorSet = realmGenConfig.nameGeneratorSet;\n    if (mainRealm.realmType.parentType == null) {\n      throw new Error(\"Realm type has no parent type.\");\n    }\n    parentRealmConfig.realmTypes = [mainRealm.realmType.parentType];\n\n    let parentRealm = Realms.generate(parentRealmConfig);\n\n    region.realms.push(parentRealm);\n    mainRealm.parent = 1;\n  }\n\n  let numberOfNeighbors = random.int(config.minRealms, config.maxRealms);\n  for (let i = 0; i < numberOfNeighbors; i++) {\n    realmGenConfig.nameGeneratorSet = MUN.getSetByName(\"fantasy\", MUN.allSets());\n    if (RND.simple(100) > 70) {\n      let neighborNameGenSet = RND.item(MUN.cultureSets());\n      realmGenConfig.nameGeneratorSet = neighborNameGenSet;\n    }\n    let neighbor = Realms.generate(realmGenConfig);\n    if (!neighbor.realmType.isStandalone) {\n      if (RND.simple(100) > 50) {\n        neighbor.parent = mainRealm.parent;\n      } else {\n        let parentRealmConfig = Realms.getDefaultConfig();\n        if (neighbor.realmType.parentType == null) {\n          throw new Error(\"Realm type has no parent type.\");\n        }\n        parentRealmConfig.realmTypes = [neighbor.realmType.parentType];\n        parentRealmConfig.nameGeneratorSet = realmGenConfig.nameGeneratorSet;\n\n        let parentRealm = Realms.generate(parentRealmConfig);\n        region.realms.push(parentRealm);\n        neighbor.parent = region.realms.length - 1;\n      }\n    }\n    region.realms.push(neighbor);\n  }\n\n  region.authority = mainRealm.authority;\n  region.name = mainRealm.name;\n\n  return region;\n}\n\nexport function getDefaultConfig(): RegionGeneratorConfig {\n  return {\n    nameGeneratorSet: MUN.getSetByName(\"fantasy\", MUN.cultureSets()),\n    dominantCulture: null,\n    mapWidth: 40,\n    mapHeight: 30,\n    minRealms: 2,\n    maxRealms: 4,\n  };\n}\n\nfunction randomOrganizations(): Organization[] {\n  const orgs: Organization[] = [];\n  const numberOfOrganizations = random.int(1, 3);\n\n  for (let i = 0; i < numberOfOrganizations; i++) {\n    orgs.push(Organizations.generate());\n  }\n\n  return orgs;\n}\n\nfunction randomSettlements(environment: Environment, nameGeneratorSet: MUN.GeneratorSet): Settlement[] {\n  let settlementGenConfig = Settlements.getDefaultConfig();\n  settlementGenConfig.nameGenerator = nameGeneratorSet.town;\n  settlementGenConfig.size = \"large\";\n  settlementGenConfig.environment = environment;\n  const capital = Settlements.generate(settlementGenConfig);\n\n  const numberOfMediumTowns = random.int(1, 3);\n  const numberOfSmallTowns = random.int(3, 5);\n  const towns = [];\n\n  capital.description += \" This is the capital of the region.\";\n  towns.push(capital);\n\n  for (let i = 0; i < numberOfMediumTowns; i++) {\n    settlementGenConfig.size = \"medium\";\n    const town = Settlements.generate(settlementGenConfig);\n    towns.push(town);\n  }\n\n  for (let i = 0; i < numberOfSmallTowns; i++) {\n    settlementGenConfig.size = \"small\";\n    const town = Settlements.generate(settlementGenConfig);\n    towns.push(town);\n  }\n\n  return towns;\n}\n","<script lang=\"ts\">\n  import { getContext } from 'svelte';\n  import * as RND from \"@ironarachne/rng\";\n  import * as Regions from \"$lib/regions/regions.js\";\n  import * as Words from \"@ironarachne/words\";\n  import * as Characters from \"$lib/characters/characters.js\";\n  import * as MUN from \"@ironarachne/made-up-names\";\n  import { renderSVGAsPNG } from \"$lib/images/svg\";\n  import random from \"random\";\n  import seedrandom from \"seedrandom\";\n  import HeraldrySVGRenderer from \"$lib/heraldry/renderers/svg\";\n  import type Culture from '$lib/culture/culture';\n\n  const user = getContext('user');\n  let savedCulture: string;\n  let useSavedCulture: boolean = false;\n  let culture: Culture;\n\n  let seed = RND.randomString(13);\n  let nameSetName = 'any';\n  let nameSet = RND.item(MUN.cultureSets());\n  let nameSets = MUN.cultureSets();\n  random.use(seedrandom(seed));\n  let config = Regions.getDefaultConfig();\n  config.nameGeneratorSet = nameSet;\n\n  let heraldryRenderer = new HeraldrySVGRenderer();\n  let region = Regions.generate(config);\n  let ruler = region.authority;\n\n  function generate() {\n    random.use(seedrandom(seed));\n\n    config.dominantCulture = null;\n    if (useSavedCulture) {\n      loadSavedCulture();\n      config.dominantCulture = culture;\n      nameSet = culture.generatorSet;\n    } else {\n      if (nameSetName == 'any') {\n        nameSet = RND.item(MUN.cultureSets());\n      } else {\n        MUN.cultureSets().forEach(element => {\n          if (element.name == nameSetName) {\n            nameSet = element;\n          }\n        });\n      }\n    }\n\n    config.nameGeneratorSet = nameSet;\n\n    region = Regions.generate(config);\n    ruler = region.authority;\n\n    let rulerSVG = heraldryRenderer.render(ruler.heraldry.device, 200, 220);\n    renderSVGAsPNG(rulerSVG, 200, 220, \"ruler-arms\");\n  }\n\n  function loadSavedCulture() {\n    for (let i = 0; i < user.savedCultures.length; i++) {\n      if (user.savedCultures[i].name === savedCulture) {\n        culture = user.savedCultures[i];\n      }\n    }\n  }\n\n  function newSeed() {\n    seed = RND.randomString(13);\n    generate();\n  }\n</script>\n\n<svelte:head>\n  <title>Region Generator | Iron Arachne</title>\n</svelte:head>\n\n<section class=\"fantasy main\">\n  <h1>Region Generator</h1>\n\n  <p>Generate fantasy regions.</p>\n\n  <div class=\"input-group\">\n    <label for=\"seed\">Random Seed</label>\n    <input type=\"text\" name=\"seed\" bind:value={seed} id=\"seed\" />\n  </div>\n\n  <div class=\"input-group\">\n    <label for=\"names\">Name Set</label>\n    <select name=\"names\" bind:value={nameSetName} id=\"nameSet\">\n      <option>any</option>\n      {#each nameSets as nameSet}\n        <option>{nameSet.name}</option>\n      {/each}\n    </select>\n  </div>\n\n  {#if user.savedCultures !== undefined && user.savedCultures.length > 0}\n  <div class=\"input-group\">\n    <label for=\"useSavedCulture\">Use a saved culture for naming?</label>\n    <input type=\"checkbox\" name=\"useSavedCulture\" bind:checked={useSavedCulture} id=\"useSavedCulture\" />\n  </div>\n\n  <div class=\"input-group\">\n    <label for=\"savedCulture\">Select a saved culture to load</label>\n    <select bind:value={savedCulture}>\n      {#each user.savedCultures as saved}\n      <option value={saved.name}>{ saved.name }</option>\n      {/each}\n    </select>\n  </div>\n  {/if}\n\n  <button on:click={generate}>Generate From Seed</button>\n  <button on:click={newSeed}>Random Seed (and Generate)</button>\n\n  <h2>{Words.capitalize(region.name)}</h2>\n\n  <p>{region.description}</p>\n\n  {#if region.dominantCulture.name !== undefined}\n\n  <p>The dominant culture here is the {region.dominantCulture.name}.</p>\n\n  {/if}\n\n  {#if region.realms[region.mainRealm].parent != -1}\n  <div class=\"parent-realm\">\n    <p>{Words.title(region.name)} is part of {region.realms[region.realms[region.mainRealm].parent].name} {@html heraldryRenderer.render(region.realms[region.realms[region.mainRealm].parent].heraldry.device, 20, 22)}.</p>\n  </div>\n  {/if}\n\n  <h3>Ruler: {Characters.getHonorific(ruler)} {ruler.firstName} {ruler.lastName}</h3>\n\n  <div class=\"ruler\">\n    {#if ruler.heraldry !== null}\n    <div class=\"ruler-arms\"><img alt=\"Ruler heraldry\" id=\"ruler-arms\" /></div>\n    {/if}\n    <div><p>{Words.capitalize(region.name)} is ruled by {Characters.getHonorific(ruler)} {ruler.firstName} {ruler.lastName}. {ruler.description}</p></div>\n  </div>\n\n  <h3>Nearby Sovereignties</h3>\n\n  {#each region.realms as neighbor, index}\n    {#if index != region.mainRealm && neighbor.parent == -1}\n    <div class=\"neighbor\">\n      <div class=\"neighbor-arms\">{@html heraldryRenderer.render(neighbor.heraldry.device, 80, 88)}</div>\n      <div>\n        <p><strong>{Words.title(neighbor.name)}</strong></p>\n        <p>Ruled by {Characters.getHonorific(neighbor.authority)} {neighbor.authority.name}, {Words.article(neighbor.authority.species.adjective)} {neighbor.authority.species.adjective} {neighbor.authority.ageCategory.noun}.</p>\n        {#if region.realms[region.mainRealm].parent == index}\n          <p>{Words.title(region.realms[region.mainRealm].name)} is part of this.</p>\n        {/if}\n      </div>\n    </div>\n    {/if}\n  {/each}\n\n  <h3>Nearby Realms</h3>\n\n  {#each region.realms as neighbor, index}\n    {#if index != region.mainRealm && index != region.realms[region.mainRealm].parent && neighbor.parent != -1}\n    <div class=\"neighbor\">\n      <div class=\"neighbor-arms\">{@html heraldryRenderer.render(neighbor.heraldry.device, 80, 88)}</div>\n      <div>\n        <p><strong>{Words.title(neighbor.name)}</strong>, part of {region.realms[neighbor.parent].name} {@html heraldryRenderer.render(region.realms[neighbor.parent].heraldry.device, 20, 22)}.</p>\n        <p>Ruled by {Characters.getHonorific(neighbor.authority)} {neighbor.authority.name}, {Words.article(neighbor.authority.species.adjective)} {neighbor.authority.species.adjective} {neighbor.authority.ageCategory.noun}.</p>\n      </div>\n    </div>\n    {/if}\n  {/each}\n\n  <h3>Notable Settlements in {region.name}</h3>\n  {#each region.settlements as settlement}\n    <article>\n      <h5>{settlement.name}</h5>\n      <p>{settlement.description}</p>\n    </article>\n  {/each}\n  <h3>Notable Organizations</h3>\n  {#each region.organizations as organization}\n    <article>\n      <h5>{organization.name}</h5>\n      <p>{organization.description}</p>\n    </article>\n  {/each}\n</section>\n\n<style lang=\"scss\">\n  @import \"$lib/styles/reset.scss\";\n  @import \"$lib/styles/main.scss\";\n  @import '$lib/styles/global.scss';\n  @import '$lib/styles/fantasy.scss';\n\n  div.ruler {\n    display: grid;\n    column-gap: 1rem;\n    margin-bottom: 1rem;\n    grid-template-columns: 210px auto;\n  }\n\n  div.ruler-arms {\n    align-self: start;\n    width: 200px;\n    height: 220px;\n    margin: 0 auto;\n  }\n\n  div.neighbor {\n    display: grid;\n    column-gap: 1rem;\n    margin-bottom: 0.5rem;\n    grid-template-columns: 80px auto;\n  }\n\n  div.neighbor > div {\n    align-self: start;\n  }\n\n  div.neighbor > div > p {\n    margin: 0;\n  }\n\n  div.neighbor-arms {\n    justify-self: center;\n    width: 80px;\n    height: 88px;\n    margin: 0 auto;\n  }\n</style>\n"],"names":["generate","Climates.all","Climates.describe","Biomes.getDefaultConfig","Biomes.generate","all","getDefaultConfig","RealmTypes.all","PremadeConfigs.getFantasy","Characters.generate","randomDescription","Categories.bySizeClass","Categories.randomPopulation","Dice.roll","Environments.generate","Categories.randomDescription","Realms.getDefaultConfig","Realms.generate","Organizations.generate","Settlements.getDefaultConfig","Settlements.generate","Regions.getDefaultConfig","Regions.generate","nameSet","Characters.getHonorific"],"mappings":"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"}
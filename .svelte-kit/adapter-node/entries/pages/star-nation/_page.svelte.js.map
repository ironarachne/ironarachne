{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/lib/starnations/government.ts","../../../../../../src/lib/starnations/starnation.ts","../../../../../../src/lib/starnations/generator.ts","../../../../../../src/lib/starnations/governments.ts","../../../../../../src/lib/starnations/generatorconfig.ts","../../../../../../src/routes/star-nation/+page.svelte"],"sourcesContent":["\"use strict\";\n\nimport type { Generator as NameGenerator } from \"@ironarachne/made-up-names\";\n\nexport default class StarNationGovernment {\n  name: string;\n  minSystems: number;\n  maxSystems: number;\n  nameGenerator: NameGenerator;\n\n  constructor() {\n    this.name = \"\";\n    this.minSystems = 0;\n    this.maxSystems = 1;\n    this.nameGenerator = {} as NameGenerator;\n  }\n}\n","\"use strict\";\n\nimport StarSystem from \"../starsystem/starsystem.js\";\nimport StarNationGovernment from \"./government.js\";\n\nexport default class StarNation {\n  name: string;\n  adjective: string;\n  description: string;\n  government: StarNationGovernment;\n  capitalSystem: number; // the index of the systems array for the system\n  capitalPlanet: number; // the index of the planet in the planets array for the system\n  systems: StarSystem[];\n  primaryGoal: string;\n  technology: string;\n  military: string;\n  culture: string;\n  economy: string;\n\n  constructor() {\n    this.systems = [];\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport * as Words from \"@ironarachne/words\";\nimport random from \"random\";\nimport StarSystemGenerator from \"../starsystem/generator.js\";\nimport StarSystemGeneratorConfig from \"../starsystem/generatorconfig.js\";\nimport type StarNationGeneratorConfig from \"./generatorconfig.js\";\nimport StarNation from \"./starnation.js\";\n\nexport default class StarNationGenerator {\n  config: StarNationGeneratorConfig;\n\n  constructor(config: StarNationGeneratorConfig) {\n    this.config = config;\n  }\n\n  generate(): StarNation {\n    let nation = new StarNation();\n\n    nation.government = RND.item(this.config.governmentOptions);\n\n    let name = this.config.nameGenerator.generate(1)[0];\n\n    nation.adjective = name + RND.item([\"n\", \"i\", \"ish\"]);\n    nation.name = `the ${nation.government.nameGenerator.generate(1)[0]} ${name}`;\n\n    nation.description = `${Words.title(nation.name)} is ${\n      Words.article(nation.government.name)\n    } ${nation.government.name}.`;\n\n    let minSystems = Math.max(this.config.minSystems, nation.government.minSystems);\n    let maxSystems = Math.max(this.config.maxSystems, nation.government.maxSystems);\n\n    let numberOfSystems = random.int(minSystems, maxSystems);\n\n    let systemGenConfig = new StarSystemGeneratorConfig();\n    let systemGen = new StarSystemGenerator(systemGenConfig);\n\n    let population = 0;\n    let inhabitedPlanets = 0;\n    let possibleCapitals = [];\n\n    for (let i = 0; i < numberOfSystems; i++) {\n      let system = systemGen.generate();\n      for (let j = 0; j < system.planets.length - 1; j++) {\n        if (system.planets[j].is_inhabited) {\n          population += system.planets[j].population;\n          inhabitedPlanets++;\n          possibleCapitals.push([i, j]);\n        }\n      }\n      nation.systems.push(system);\n    }\n\n    let capital = RND.item(possibleCapitals);\n\n    nation.capitalSystem = capital[0];\n    nation.capitalPlanet = capital[1];\n\n    nation.primaryGoal = RND.item([\n      \"conquest\",\n      \"to spread their beliefs\",\n      \"to share their knowledge\",\n      \"to always be learning\",\n      \"to always make a profit\",\n      \"to discover new worlds and new people\",\n      \"to bring order\",\n      \"to unite the universe\",\n      \"to unite the universe under their rule\",\n      \"to bring order to the universe\",\n      \"to ever be increasing their knowledge\",\n      \"to learn all the secrets of the universe\",\n    ]);\n\n    nation.technology = RND.item([\n      \"highly advanced\",\n      \"advanced\",\n      \"comparable\",\n      \"relatively primitive\",\n    ]);\n\n    nation.military = RND.item([\n      \"well-funded and large\",\n      \"poorly funded but large\",\n      \"poorly funded and small\",\n      \"aggressive\",\n      \"belligerent\",\n      \"cautious\",\n      \"orderly\",\n      \"well-disciplined\",\n    ]);\n\n    nation.culture = RND.item([\n      \"fragmented\",\n      \"homogeneous\",\n      \"melting pot\",\n      \"controlled\",\n      \"decaying\",\n    ]);\n\n    nation.economy = RND.item([\n      \"strong\",\n      \"thriving\",\n      \"collapsing\",\n      \"corrupt\",\n      \"growing\",\n      \"shrinking\",\n    ]);\n\n    nation.description += ` Its capital is ${\n      nation.systems[nation.capitalSystem].planets[nation.capitalPlanet].name\n    } in the ${\n      nation.systems[nation.capitalSystem].name\n    } system. There are ${nation.systems.length} systems under its sway, with ${inhabitedPlanets} inhabited worlds and a total population of ${\n      getFriendlyPopulation(\n        population,\n      )\n    }.`;\n\n    return nation;\n  }\n}\n\nfunction getFriendlyPopulation(pop: number): string {\n  const formatter = new Intl.NumberFormat();\n\n  if (pop < 1000000.0) {\n    return formatter.format(Math.floor(pop / 1000.0)) + \" thousand\";\n  }\n\n  if (pop < 1000000000.0) {\n    return formatter.format(pop / 1000000.0) + \" million\";\n  }\n\n  if (pop < 1000000000000.0) {\n    return formatter.format(pop / 1000000000.0) + \" billion\";\n  }\n\n  return formatter.format(pop / 1000000000000.0) + \" trillion\";\n}\n","\"use strict\";\n\nimport { GenericNameGenerator } from \"@ironarachne/made-up-names\";\nimport StarNationGovernment from \"./government.js\";\n\nexport function all(): StarNationGovernment[] {\n  return [getEmpire(), getMonarchy(), getRepublic(), getTheocracy()];\n}\n\nfunction getEmpire(): StarNationGovernment {\n  let gov = new StarNationGovernment();\n  gov.name = \"empire\";\n  gov.minSystems = 10;\n  gov.maxSystems = 100;\n\n  let nameGen = new GenericNameGenerator();\n  nameGen.patterns = [\"EMPIRE OF\", \"GRAND EMPIRE OF\", \"STAR EMPIRE OF\", \"STELLAR EMPIRE OF\"];\n  gov.nameGenerator = nameGen;\n\n  return gov;\n}\n\nfunction getMonarchy(): StarNationGovernment {\n  let gov = new StarNationGovernment();\n  gov.name = \"monarchy\";\n  gov.minSystems = 1;\n  gov.maxSystems = 30;\n\n  let nameGen = new GenericNameGenerator();\n  nameGen.patterns = [\n    \"KINGDOM OF\",\n    \"GRAND KINGDOM OF\",\n    \"STAR KINGDOM OF\",\n    \"STELLAR KINGDOM OF\",\n    \"MONARCHY OF\",\n    \"GRAND MONARCHY OF\",\n    \"STAR MONARCHY OF\",\n    \"STELLAR MONARCHY OF\",\n  ];\n  gov.nameGenerator = nameGen;\n\n  return gov;\n}\n\nfunction getRepublic(): StarNationGovernment {\n  let gov = new StarNationGovernment();\n  gov.name = \"republic\";\n  gov.minSystems = 1;\n  gov.maxSystems = 100;\n\n  let nameGen = new GenericNameGenerator();\n  nameGen.patterns = [\n    \"REPUBLIC OF\",\n    \"STAR REPUBLIC OF\",\n    \"STELLAR REPUBLIC OF\",\n    \"UNITED REPUBLIC OF\",\n    \"UNITED FEDERATION OF\",\n    \"GRAND REPUBLIC OF\",\n  ];\n  gov.nameGenerator = nameGen;\n\n  return gov;\n}\n\nfunction getTheocracy(): StarNationGovernment {\n  let gov = new StarNationGovernment();\n  gov.name = \"theocracy\";\n  gov.minSystems = 1;\n  gov.maxSystems = 10;\n\n  let nameGen = new GenericNameGenerator();\n  nameGen.patterns = [\n    \"HOLY EMPIRE OF\",\n    \"GRAND HOLY DOMINION OF\",\n    \"HOLY KINGDOM OF\",\n    \"HOLY MONARCHY OF\",\n    \"BLESSED DOMINION OF\",\n  ];\n  gov.nameGenerator = nameGen;\n\n  return gov;\n}\n","\"use strict\";\n\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport type StarNationGovernment from \"./government.js\";\nimport * as Governments from \"./governments.js\";\n\nexport default class StarNationGeneratorConfig {\n  minSystems: number;\n  maxSystems: number;\n  governmentOptions: StarNationGovernment[];\n  nameGenerator: MUN.Generator;\n\n  constructor() {\n    this.minSystems = -1;\n    this.maxSystems = -1;\n    this.governmentOptions = Governments.all();\n    this.nameGenerator = new MUN.StarNationNameGenerator();\n  }\n}\n","<script lang=\"ts\">\n  import * as RND from \"@ironarachne/rng\";\n  import * as Words from \"@ironarachne/words\";\n  import random from \"random\";\n  import seedrandom from \"seedrandom\";\n  import StarNation from \"$lib/starnations/starnation\";\n  import StarNationGenerator from \"$lib/starnations/generator\";\n  import StarNationGeneratorConfig from \"$lib/starnations/generatorconfig\";\n  import SVGPlanetRenderer from \"$lib/renderers/planets/planet-svg\";\n  import SVGStarRenderer from \"$lib/renderers/stars/star-svg\";\n\n  let config = new StarNationGeneratorConfig();\n  let gen = new StarNationGenerator(config);\n  let nation = new StarNation();\n  let seed = RND.randomString(13);\n\n  let planetRenderer = new SVGPlanetRenderer(64, 64);\n  let starRenderer = new SVGStarRenderer(64, 64);\n\n  function generate() {\n    random.use(seedrandom(seed));\n    nation = gen.generate();\n  }\n\n  function newSeed() {\n    seed = RND.randomString(13);\n    generate();\n  }\n\n  newSeed();\n</script>\n\n<style lang=\"scss\">\n  @import \"$lib/styles/reset.scss\";\n  @import \"$lib/styles/main.scss\";\n  @import '$lib/styles/global.scss';\n  @import '$lib/styles/scifi.scss';\n\n  .star-system { display: flex; max-width: 600px; }\n</style>\n\n<svelte:head>\n  <title>Star Nation Generator | Iron Arachne</title>\n</svelte:head>\n\n<section class=\"scifi main\">\n  <h1>Star Nation Generator</h1>\n\n  <p>Generate a star nation.</p>\n\n  <div class=\"input-group\">\n    <label for=\"seed\">Random Seed</label>\n    <input type=\"text\" name=\"seed\" bind:value={seed} id=\"seed\"/>\n  </div>\n\n  <button on:click={generate}>Generate From Seed</button>\n  <button on:click={newSeed}>Random Seed (and Generate)</button>\n\n  <h2>{ nation.name }</h2>\n\n  <p>{ nation.description }</p>\n\n  <p>Their primary goal is { nation.primaryGoal }.</p>\n\n  <p><strong>Culture:</strong> {nation.culture}</p>\n  <p><strong>Economy:</strong> {nation.economy}</p>\n  <p><strong>Military:</strong> { nation.military }</p>\n  <p><strong>Technology:</strong> { nation.technology }</p>\n\n  <h3>The { nation.systems[nation.capitalSystem].name } System</h3>\n\n  <p>{ nation.systems[nation.capitalSystem].planets[nation.capitalPlanet].name } is the { nation.capitalPlanet + 1}{ Words.getOrdinal(nation.capitalPlanet + 1) } planet in this system. It has a population of { nation.systems[nation.capitalSystem].planets[nation.capitalPlanet].populationFriendly }.</p>\n\n  <div class=\"star-system\">\n  {@html starRenderer.render(nation.systems[nation.capitalSystem].stars[0])}\n  {#each nation.systems[nation.capitalSystem].planets as planet}\n  {@html planetRenderer.render(planet)}\n  {/each}\n  </div>\n</section>\n"],"names":["Governments.all"],"mappings":"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"}
{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/lib/region/generatorconfig.ts","../../../../../../src/lib/environment/environment.ts","../../../../../../src/lib/environment/generator.ts","../../../../../../src/lib/realms/realmtype.ts","../../../../../../src/lib/realms/realm.ts","../../../../../../src/lib/realms/generator.ts","../../../../../../src/lib/realms/realmtypes.ts","../../../../../../src/lib/realms/generatorconfig.ts","../../../../../../src/lib/settlements/categories/category.ts","../../../../../../src/lib/settlements/categories/borough.ts","../../../../../../src/lib/settlements/categories/city.ts","../../../../../../src/lib/settlements/categories/hamlet.ts","../../../../../../src/lib/settlements/categories/metropolis.ts","../../../../../../src/lib/settlements/categories/town.ts","../../../../../../src/lib/settlements/categories/village.ts","../../../../../../src/lib/settlements/categories/categories.ts","../../../../../../src/lib/settlements/generatorconfig.ts","../../../../../../src/lib/settlements/settlement.ts","../../../../../../src/lib/settlements/generator.ts","../../../../../../src/lib/region/region.ts","../../../../../../src/lib/region/generator.ts","../../../../../../src/routes/region/+page.svelte"],"sourcesContent":["\"use strict\";\n\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport Culture from \"../culture/culture.js\";\n\nexport default class RegionGeneratorConfig {\n  nameGeneratorSet: MUN.GeneratorSet;\n  dominantCulture: Culture | null;\n  mapWidth: number;\n  mapHeight: number;\n  minRealms: number;\n  maxRealms: number;\n\n  constructor() {\n    this.nameGeneratorSet = new MUN.FantasySet();\n    this.dominantCulture = null;\n    this.mapWidth = 40;\n    this.mapHeight = 30;\n    this.minRealms = 2;\n    this.maxRealms = 4;\n  }\n}\n","\"use strict\";\n\nimport type Biome from \"./biomes/biome.js\";\nimport type Climate from \"./climates/climate.js\";\n\nexport default class Environment {\n  biome: Biome;\n  climate: Climate;\n  description: string;\n\n  constructor(biome: Biome, climate: Climate) {\n    this.biome = biome;\n    this.climate = climate;\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport BiomeGenerator from \"./biomes/generator.js\";\nimport BiomeGeneratorConfig from \"./biomes/generatorconfig.js\";\nimport * as Climates from \"./climates/climates.js\";\nimport Environment from \"./environment.js\";\n\nexport default class EnvironmentGenerator {\n  generate(): Environment {\n    let climate = Climates.random();\n    climate.description = Climates.describe(climate);\n    const biomeGeneratorConfig = new BiomeGeneratorConfig(climate);\n    const biomeGen = new BiomeGenerator(biomeGeneratorConfig);\n    const biome = biomeGen.generate();\n\n    let environment = new Environment(biome, climate);\n\n    environment.description = `${RND.item(biome.descriptions)} ${RND.item(biome.features)}`;\n    environment.description += \" \" + environment.climate.description;\n\n    return environment;\n  }\n}\n","\"use strict\";\n\nimport Title from \"../characters/title.js\";\n\nexport default class RealmType {\n  name: string;\n  minTiles: number;\n  maxTiles: number;\n  grantedTitle: Title;\n  commonality: number;\n  isStandalone: boolean;\n  parentType: RealmType | null;\n\n  constructor(\n    name: string,\n    minTiles: number,\n    maxTiles: number,\n    grantedTitle: Title,\n    commonality: number,\n    isStandalone: boolean,\n    parentType: RealmType | null,\n  ) {\n    this.name = name;\n    this.minTiles = minTiles;\n    this.maxTiles = maxTiles;\n    this.grantedTitle = grantedTitle;\n    this.commonality = commonality;\n    this.isStandalone = isStandalone;\n    this.parentType = parentType;\n  }\n}\n","\"use strict\";\n\nimport Character from \"../characters/character.js\";\nimport Title from \"../characters/title.js\";\nimport Vertex from \"../geometry/vertex.js\";\nimport Arms from \"../heraldry/arms.js\";\nimport Claim from \"./claim.js\";\nimport RealmType from \"./realmtype.js\";\n\nexport default class Realm {\n  name: string;\n  adjective: string;\n  description: string;\n  heraldry: Arms; // TODO: use an abstract representation of imagery, so we can optionally do mon or flags instead of heraldry\n  authority: Character;\n  grantedTitle: Title;\n  tiles: Vertex[];\n  claims: Claim[];\n  parent: number; // array index of the parent realm\n  realmType: RealmType;\n\n  constructor() {\n    this.name = \"\";\n    this.adjective = \"\";\n    this.description = \"\";\n    this.tiles = [];\n    this.claims = [];\n    this.parent = -1;\n  }\n}\n","\"use strict\";\n\nimport type Character from \"$lib/characters/character.js\";\nimport CharacterGenerator from \"$lib/characters/generator.js\";\nimport * as PremadeConfigs from \"$lib/characters/premadeconfigs.js\";\nimport HeraldryGenerator from \"$lib/heraldry/generator.js\";\nimport type { GeneratorSet } from \"@ironarachne/made-up-names\";\nimport * as RND from \"@ironarachne/rng\";\nimport * as Words from \"@ironarachne/words\";\nimport type RealmGeneratorConfig from \"./generatorconfig.js\";\nimport Realm from \"./realm.js\";\nimport type RealmType from \"./realmtype.js\";\n\nexport default class RealmGenerator {\n  config: RealmGeneratorConfig;\n\n  constructor(config: RealmGeneratorConfig) {\n    this.config = config;\n  }\n\n  generate(): Realm {\n    let realm = new Realm();\n    realm.realmType = RND.weighted(this.config.realmTypes);\n\n    if (this.config.nameGeneratorSet.country === null) {\n      throw new Error(\"RealmGenerator requires a country name generator set.\");\n    }\n\n    let name = this.config.nameGeneratorSet.country.generate(1)[0];\n    realm.name = `the ${Words.title(realm.realmType.name)} of ${name}`;\n    let herGen = new HeraldryGenerator();\n    realm.heraldry = herGen.generate();\n    realm.authority = randomAuthority(realm.realmType, this.config.nameGeneratorSet);\n\n    return realm;\n  }\n}\n\nfunction randomAuthority(realmType: RealmType, nameGeneratorSet: GeneratorSet): Character {\n  let charGenConfig = PremadeConfigs.getFantasy();\n  charGenConfig.ageCategories = [\"adult\"];\n  if (nameGeneratorSet.family === null) {\n    throw new Error(\"RealmGenerator requires a family name generator set.\");\n  }\n  if (nameGeneratorSet.female === null) {\n    throw new Error(\"RealmGenerator requires a female name generator set.\");\n  }\n  if (nameGeneratorSet.male === null) {\n    throw new Error(\"RealmGenerator requires a male name generator set.\");\n  }\n  charGenConfig.familyNameGenerator = nameGeneratorSet.family;\n  charGenConfig.femaleNameGenerator = nameGeneratorSet.female;\n  charGenConfig.maleNameGenerator = nameGeneratorSet.male;\n  charGenConfig.useAdaptiveNames = false;\n\n  const charGen = new CharacterGenerator(charGenConfig);\n\n  let authority = charGen.generate();\n  authority.titles.push(realmType.grantedTitle);\n  let herGen = new HeraldryGenerator();\n  authority.heraldry = herGen.generate();\n\n  return authority;\n}\n","\"use strict\";\n\nimport Title from \"../characters/title.js\";\nimport RealmType from \"./realmtype.js\";\n\nexport function all(): RealmType[] {\n  let kingdom = new RealmType(\n    \"kingdom\",\n    10,\n    50,\n    new Title(\"Queen\", \"King\", \"Queen\", \"King\", true, \"Kingdom of\", 7),\n    5,\n    true,\n    null,\n  );\n  let empire = new RealmType(\n    \"empire\",\n    50,\n    100,\n    new Title(\"Empress\", \"Emperor\", \"Empress\", \"Emperor\", true, \"Empire of\", 8),\n    5,\n    true,\n    null,\n  );\n\n  return [\n    new RealmType(\n      \"earldom\",\n      2,\n      4,\n      new Title(\"Earl\", \"Earl\", \"Lady\", \"Lord\", true, \"Earldom of\", 2),\n      5,\n      false,\n      kingdom,\n    ),\n    new RealmType(\n      \"county\",\n      4,\n      6,\n      new Title(\"Countess\", \"Count\", \"Countess\", \"Count\", true, \"County of\", 3),\n      20,\n      false,\n      kingdom,\n    ),\n    new RealmType(\n      \"barony\",\n      6,\n      8,\n      new Title(\"Baroness\", \"Baron\", \"Baroness\", \"Baron\", true, \"Barony of\", 4),\n      10,\n      false,\n      kingdom,\n    ),\n    new RealmType(\n      \"duchy\",\n      8,\n      10,\n      new Title(\"Duchess\", \"Duke\", \"Duchess\", \"Duke\", true, \"Duchy of\", 5),\n      5,\n      false,\n      kingdom,\n    ),\n    new RealmType(\n      \"grand duchy\",\n      10,\n      12,\n      new Title(\n        \"Grand Duchess\",\n        \"Grand Duke\",\n        \"Grand Duchess\",\n        \"Grand Duke\",\n        true,\n        \"Grand Duchy of\",\n        6,\n      ),\n      2,\n      false,\n      kingdom,\n    ),\n    new RealmType(\n      \"principality\",\n      12,\n      14,\n      new Title(\"Princess\", \"Prince\", \"Princess\", \"Prince\", true, \"Principality of\", 7),\n      2,\n      false,\n      kingdom,\n    ),\n    new RealmType(\n      \"province\",\n      12,\n      14,\n      new Title(\"Governor\", \"Governor\", \"Governor\", \"Governor\", true, \"Province of\", 7),\n      1,\n      false,\n      empire,\n    ),\n    kingdom,\n    empire,\n  ];\n}\n","\"use strict\";\n\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport RealmType from \"./realmtype.js\";\nimport * as RealmTypes from \"./realmtypes.js\";\n\nexport default class RealmGeneratorConfig {\n  nameGeneratorSet: MUN.GeneratorSet;\n  realmTypes: RealmType[];\n  mapTiles: number[][];\n  mapWidth: number;\n  mapHeight: number;\n\n  constructor() {\n    this.nameGeneratorSet = new MUN.FantasySet();\n    this.realmTypes = RealmTypes.all();\n    this.mapWidth = 40;\n    this.mapHeight = 30;\n    this.mapTiles = [];\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport random from \"random\";\n\nexport default class SettlementCategory {\n  name: string;\n  minSize: number;\n  maxSize: number;\n  sizeClass: string;\n  possibleDescriptions: string[];\n\n  constructor() {\n    this.name = \"\";\n    this.minSize = 0;\n    this.maxSize = 0;\n    this.sizeClass = \"\";\n    this.possibleDescriptions = [];\n  }\n\n  randomDescription(): string {\n    let description = RND.item(this.possibleDescriptions);\n    return description;\n  }\n\n  randomPopulation(): number {\n    return random.int(this.minSize, this.maxSize);\n  }\n}\n","\"use strict\";\n\nimport SettlementCategory from \"./category.js\";\n\nexport default class Borough extends SettlementCategory {\n  constructor() {\n    super();\n    this.name = \"borough\";\n    this.minSize = 10000;\n    this.maxSize = 19999;\n    this.sizeClass = \"medium\";\n    this.possibleDescriptions = [\n      \"The buildings here are tall and tightly packed together, with narrow streets winding between them.\",\n      \"This borough is divided into several distinct districts, each with its own unique architecture and atmosphere.\",\n      \"The center of this borough is dominated by a massive marketplace, surrounded by a ring of shops and residences.\",\n      \"There are many factories and mills in this borough, with tall chimneys belching smoke into the air.\",\n      \"The buildings here are mostly made of stone or brick, and are quite ornate and impressive.\",\n      \"The streets of this borough are lined with small shops and stalls, selling all manner of goods.\",\n      \"There are many parks and gardens scattered throughout this borough, offering a welcome respite from the hustle and bustle of city life.\",\n      \"The buildings here are a mix of old and new, with modern high-rises standing next to ancient, crumbling ruins.\",\n      \"This borough is known for its grand architecture, with many magnificent cathedrals and government buildings.\",\n    ];\n  }\n}\n","\"use strict\";\n\nimport SettlementCategory from \"./category.js\";\n\nexport default class City extends SettlementCategory {\n  constructor() {\n    super();\n    this.name = \"city\";\n    this.minSize = 20000;\n    this.maxSize = 49999;\n    this.sizeClass = \"large\";\n    this.possibleDescriptions = [\n      \"This city is built around a grand castle, with towers that pierce the sky and walls that have withstood the test of time.\",\n      \"The streets of this city are lined with buildings of every shape and size, from towering spires to humble cottages.\",\n      \"This city is a marvel of engineering, with aqueducts, bridges, and tunnels that connect its various districts.\",\n      \"The buildings in this city are a testament to the skill and artistry of its craftsmen, with intricate carvings and decorations adorning their facades.\",\n      \"This city is surrounded by a sturdy wall, with guard towers and gates that keep out unwanted visitors.\",\n      \"The center of this city is dominated by a grand cathedral, with stained-glass windows and soaring arches that inspire awe in all who see them.\",\n      \"The main square of this city is a bustling hub of activity, with market stalls and street performers vying for attention.\",\n      \"The winding alleys of this city are lit by lanterns at night, creating a mysterious and romantic atmosphere.\",\n      \"This city is a patchwork of different architectural styles, with each district showcasing its own unique character and flair.\",\n    ];\n  }\n}\n","\"use strict\";\n\nimport SettlementCategory from \"./category.js\";\n\nexport default class Hamlet extends SettlementCategory {\n  constructor() {\n    super();\n    this.name = \"hamlet\";\n    this.minSize = 10;\n    this.maxSize = 49;\n    this.sizeClass = \"small\";\n    this.possibleDescriptions = [\n      \"Buildings here are scattered and small, with thatched roofs and walls of rough-hewn timber.\",\n      \"The farms here are clustered together, their fields carefully tended and surrounded by low stone walls.\",\n      \"There are only a handful of farms scattered around a single community building here, which serves as the center of local life.\",\n      \"The hamlet is surrounded by wilderness, with a few clearings where buildings and fields have been established.\",\n      \"The buildings in the hamlet are simple but sturdy, with chimneys belching smoke into the crisp morning air.\",\n      \"This hamlet is situated on a hilltop, with commanding views of the surrounding countryside.\",\n      \"The hamlet consists of a small cluster of houses and barns, with a narrow dirt road leading off into the distance.\",\n      \"There is a small stream running through the hamlet, providing water for the villagers and their crops.\",\n    ];\n  }\n}\n","\"use strict\";\n\nimport SettlementCategory from \"./category.js\";\n\nexport default class Metropolis extends SettlementCategory {\n  constructor() {\n    super();\n    this.name = \"metropolis\";\n    this.minSize = 50000;\n    this.maxSize = 3000000;\n    this.sizeClass = \"large\";\n    this.possibleDescriptions = [\n      \"This grand metropolis is a center of culture and learning, with renowned universities and libraries that draw scholars from across the land.\",\n      \"The winding streets of this ancient metropolis are lined with taverns, inns, and shops selling all manner of exotic goods.\",\n      \"Despite its immense size, this metropolis is a tightly-knit community where everyone knows their neighbors and traditions are deeply rooted.\",\n      \"This sprawling metropolis is surrounded by towering walls and fortified gates, protecting it from invaders and marauders.\",\n      \"The grand castle at the heart of this metropolis is the seat of the ruling monarch, and its knights are famed for their valor and chivalry.\",\n      \"This metropolis is a hub of trade and commerce, with bustling markets and guilds that wield immense power.\",\n      \"The streets of this metropolis are lit by torches and lined with ancient stone buildings, some of which have stood for centuries.\",\n      \"This metropolis is renowned for its skilled craftsmen, who produce exquisite works of art and fine weaponry.\",\n      \"The dark alleys and hidden courtyards of this metropolis are home to thieves, assassins, and other unsavory characters.\",\n      \"Despite the challenges it faces, this metropolis is a beacon of hope and civilization in a world full of danger and chaos.\",\n    ];\n  }\n}\n","\"use strict\";\n\nimport SettlementCategory from \"./category.js\";\n\nexport default class Town extends SettlementCategory {\n  constructor() {\n    super();\n    this.name = \"town\";\n    this.minSize = 500;\n    this.maxSize = 9999;\n    this.sizeClass = \"medium\";\n    this.possibleDescriptions = [\n      \"There are multiple inns and taverns here, with brightly colored signs swinging in the breeze.\",\n      \"The town is surrounded by fields and orchards, with the smell of ripe fruit and vegetables wafting through the air.\",\n      \"There is a city hall, a town square, and a number of stores and shops, all housed in buildings of stone and wood.\",\n      \"The town is located on the banks of a river, with a busy dock where barges unload their wares.\",\n      \"The buildings in the town are tightly packed together, with narrow streets winding between them.\",\n      \"The town is known for its skilled craftsmen, and their workshops and forges ring with the sound of hammers on metal.\",\n      \"Many farms surround a dense core of community buildings here.\",\n      \"The town is famous for its annual fair, where vendors from all over the kingdom come to sell their wares.\",\n      \"The town is dominated by a tall clock tower, which chimes the hour with a melodious tune.\",\n      \"Despite its size, the town is peaceful and orderly, with a watchful eye kept on outsiders who might cause trouble.\",\n    ];\n  }\n}\n","\"use strict\";\n\nimport SettlementCategory from \"./category.js\";\n\nexport default class Village extends SettlementCategory {\n  constructor() {\n    super();\n    this.name = \"village\";\n    this.minSize = 50;\n    this.maxSize = 499;\n    this.sizeClass = \"small\";\n    this.possibleDescriptions = [\n      \"There is a single inn, a blacksmith, and a few houses in town, with farms surrounding it. Smoke rises from the chimneys, and the sound of animals can be heard in the distance.\",\n      \"This is a dense collection of farms with a number of communal buildings in the center, including a mill and a chapel. The farms are surrounded by low stone walls to protect them from marauding animals.\",\n      \"A knot of communal buildings marks the center of this village, including a town hall and a small market. The farms radiate out in a rough circle around it, with a stream running through the center of the village.\",\n      \"The village is nestled in a valley, surrounded by rolling hills covered in fields of wheat and barley. A small stream winds through the center of town, and the air is fragrant with the smell of fresh-baked bread.\",\n      \"The village is built on the side of a hill, with narrow paths winding between the houses. The buildings are made of wood and thatch, and are tightly packed together for warmth and protection from the wind.\",\n      \"The village is known for its skilled weavers, and the sound of looms can be heard from many of the houses. The weavers work with colorful threads, creating intricate patterns in their textiles.\",\n      \"Despite its small size, the village has a strong sense of community, with neighbors looking out for one another and coming together for festivals and celebrations throughout the year.\",\n    ];\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport Borough from \"./borough.js\";\nimport SettlementCategory from \"./category.js\";\nimport City from \"./city.js\";\nimport Hamlet from \"./hamlet.js\";\nimport Metropolis from \"./metropolis.js\";\nimport Town from \"./town.js\";\nimport Village from \"./village.js\";\n\nexport function all(): SettlementCategory[] {\n  return [new Hamlet(), new Village(), new Town(), new Borough(), new City(), new Metropolis()];\n}\n\nexport function bySizeClass(sizeClass: string): SettlementCategory[] {\n  const options = all();\n  let result: SettlementCategory[] = [];\n\n  for (let i = 0; i < options.length; i++) {\n    if (options[i].sizeClass == sizeClass) {\n      result.push(options[i]);\n    }\n  }\n\n  return result;\n}\n\nexport function small(): SettlementCategory[] {\n  return bySizeClass(\"small\");\n}\n\nexport function medium(): SettlementCategory[] {\n  return bySizeClass(\"medium\");\n}\n\nexport function large(): SettlementCategory[] {\n  return bySizeClass(\"large\");\n}\n\nexport function randomCategory(categories: SettlementCategory[]): SettlementCategory {\n  return RND.item(categories);\n}\n","\"use strict\";\n\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport Environment from \"../environment/environment.js\";\nimport EnvironmentGenerator from \"../environment/generator.js\";\n\nexport default class SettlementGeneratorConfig {\n  environment: Environment;\n  nameGenerator: MUN.Generator | null;\n  size: string;\n\n  constructor() {\n    let envGen = new EnvironmentGenerator();\n    this.environment = envGen.generate();\n\n    let genSet = new MUN.FantasySet();\n\n    this.nameGenerator = genSet.town;\n    this.size = \"any\";\n  }\n}\n","\"use strict\";\n\nimport Environment from \"../environment/environment.js\";\nimport SettlementCategory from \"./categories/category.js\";\n\nexport default class Settlement {\n  name: string;\n  description: string;\n  category: SettlementCategory;\n  population: number;\n  prosperity: number;\n  environment: Environment;\n\n  constructor(name: string, category: SettlementCategory, environment: Environment) {\n    this.name = name;\n    this.category = category;\n    this.description = \"\";\n    this.population = 0;\n    this.prosperity = 0;\n    this.environment = environment;\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport * as Dice from \"../dice.js\";\nimport * as Categories from \"./categories/categories.js\";\nimport SettlementGeneratorConfig from \"./generatorconfig.js\";\nimport Settlement from \"./settlement.js\";\n\nexport default class SettlementGenerator {\n  config: SettlementGeneratorConfig;\n\n  constructor(config: SettlementGeneratorConfig) {\n    this.config = config;\n  }\n\n  generate(): Settlement {\n    const settlementName = (this.config.nameGenerator !== null)\n      ? this.config.nameGenerator.generate(1)[0]\n      : \"Settlement\";\n    const settlementCategory = RND.item(Categories.bySizeClass(this.config.size));\n    const settlement = new Settlement(settlementName, settlementCategory, this.config.environment);\n\n    settlement.population = settlement.category.randomPopulation();\n    settlement.prosperity = Dice.roll(\"2d6\");\n    settlement.description = randomDescription(settlement);\n\n    return settlement;\n  }\n}\n\nfunction randomDescription(settlement: Settlement): string {\n  let description = RND.item([\n    \"{name} is a {category} of {population} people.\",\n    \"The {category} of {name} has {population} people.\",\n  ]);\n\n  description = description.replace(\"{category}\", settlement.category.name);\n  description = description.replace(\n    \"{population}\",\n    new Intl.NumberFormat().format(settlement.population),\n  );\n  description = description.replace(\"{name}\", settlement.name);\n  description += \" \" + settlement.category.randomDescription();\n  description += \" \" + randomProsperity(settlement.prosperity);\n  description += \" \" + randomReputation();\n  description += \" \" + RND.item(settlement.environment.biome.features);\n\n  return description;\n}\n\nfunction randomProsperity(prosperity: number): string {\n  let prefixes = [\n    \"The people here\",\n    \"Most people here\",\n    \"Folks here\",\n    \"Most folks here\",\n    \"People here\",\n  ];\n\n  let suffixes = [];\n\n  if (prosperity < 4) {\n    suffixes = [\n      \"have little more than what they need to survive\",\n      \"struggle to make ends meet\",\n      \"struggle to have enough to survive\",\n    ];\n  } else if (prosperity < 8) {\n    suffixes = [\n      \"have enough to meet their needs\",\n      \"have just enough to meet their needs\",\n      \"seem to be doing well\",\n      \"have their needs met\",\n    ];\n  } else {\n    suffixes = [\"have more wealth than most\", \"are prosperous\", \"have more than they need\"];\n  }\n\n  let options = [];\n\n  for (let i = 0; i < prefixes.length; i++) {\n    for (let j = 0; j < suffixes.length; j++) {\n      options.push(`${prefixes[i]} ${suffixes[j]}.`);\n    }\n  }\n\n  return RND.item(options);\n}\n\nfunction randomReputation(): string {\n  let prefixes = [\n    \"The people are known for\",\n    \"The people are regarded as\",\n    \"Folk here have a reputation for\",\n    \"People here are regarded as\",\n    \"The folk here are known for\",\n    \"They are known for\",\n    \"They are well known for\",\n    \"They are sometimes known for\",\n    \"Some other places regard the people here as\",\n    \"Some places regard the people here as\",\n    \"Some places regard them as\",\n    \"Some regard them as\",\n    \"Some folks regard them as\",\n  ];\n\n  let suffixes = [\n    \"being aloof\",\n    \"being suspicious of others\",\n    \"being suspicious of outsiders\",\n    \"being friendly and open\",\n    \"being friendly but devious\",\n    \"being friendly\",\n    \"being greedy\",\n    \"being altruistic\",\n    \"being trusting\",\n    \"being mistrustful\",\n    \"being miserly\",\n    \"being obsessed with status\",\n    \"being hardworking\",\n    \"being devious\",\n    \"being unfriendly\",\n    \"being trustworthy\",\n    \"being lazy\",\n    \"spending too much time making merry\",\n    \"spending too much time slacking off\",\n    \"working hard\",\n    \"working too hard\",\n    \"being unruly\",\n    \"being belligerent\",\n  ];\n\n  let reputations: string[] = [];\n\n  for (let i = 0; i < prefixes.length; i++) {\n    for (let j = 0; j < suffixes.length; j++) {\n      reputations.push(`${prefixes[i]} ${suffixes[j]}.`);\n    }\n  }\n\n  return RND.item(reputations);\n}\n","\"use strict\";\n\nimport Character from \"../characters/character.js\";\nimport Culture from \"../culture/culture.js\";\nimport Environment from \"../environment/environment.js\";\nimport Organization from \"../organizations/organization.js\";\nimport Realm from \"../realms/realm.js\";\nimport Settlement from \"../settlements/settlement.js\";\n\nexport default class Region {\n  name: string;\n  environment: Environment;\n  description: string;\n  dominantCulture: Culture;\n  settlements: Settlement[];\n  mainRealm: number;\n  realms: Realm[];\n  authority: Character;\n  organizations: Organization[];\n  settlementTiles: number[][];\n  terrainTiles: number[][];\n\n  constructor() {\n    this.name = \"\";\n    this.description = \"\";\n    this.mainRealm = -1;\n    this.realms = [];\n    this.settlements = [];\n    this.organizations = [];\n  }\n}\n","\"use strict\";\n\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport * as RND from \"@ironarachne/rng\";\nimport random from \"random\";\nimport Environment from \"../environment/environment.js\";\nimport EnvironmentGenerator from \"../environment/generator.js\";\nimport * as Organizations from \"../organizations/fantasy.js\";\nimport Organization from \"../organizations/organization.js\";\nimport RealmGenerator from \"../realms/generator.js\";\nimport RealmGeneratorConfig from \"../realms/generatorconfig.js\";\nimport SettlementGenerator from \"../settlements/generator.js\";\nimport SettlementGeneratorConfig from \"../settlements/generatorconfig.js\";\nimport RegionGeneratorConfig from \"./generatorconfig.js\";\nimport Region from \"./region.js\";\n\nexport default class RegionGenerator {\n  config: RegionGeneratorConfig;\n\n  constructor(config: RegionGeneratorConfig) {\n    this.config = config;\n  }\n\n  generate(): Region {\n    let region = new Region();\n\n    const envGen = new EnvironmentGenerator();\n\n    let nameGenSet;\n\n    if (this.config.dominantCulture != null) {\n      region.dominantCulture = this.config.dominantCulture;\n      nameGenSet = region.dominantCulture.generatorSet;\n    } else {\n      nameGenSet = this.config.nameGeneratorSet;\n    }\n\n    region.environment = envGen.generate();\n    region.settlements = randomSettlements(region.environment, nameGenSet);\n    region.organizations = randomOrganizations();\n    region.description = region.environment.description;\n\n    let realmGenConfig = new RealmGeneratorConfig();\n    realmGenConfig.nameGeneratorSet = nameGenSet;\n    const realmGen = new RealmGenerator(realmGenConfig);\n\n    let mainRealm = realmGen.generate();\n    region.realms.push(mainRealm);\n    region.mainRealm = 0;\n\n    if (!mainRealm.realmType.isStandalone) {\n      let parentRealmConfig = new RealmGeneratorConfig();\n      parentRealmConfig.nameGeneratorSet = realmGenConfig.nameGeneratorSet;\n      if (mainRealm.realmType.parentType == null) {\n        throw new Error(\"Realm type has no parent type.\");\n      }\n      parentRealmConfig.realmTypes = [mainRealm.realmType.parentType];\n\n      let parentRealmGen = new RealmGenerator(parentRealmConfig);\n      let parentRealm = parentRealmGen.generate();\n\n      region.realms.push(parentRealm);\n      mainRealm.parent = 1;\n    }\n\n    let numberOfNeighbors = random.int(this.config.minRealms, this.config.maxRealms);\n    for (let i = 0; i < numberOfNeighbors; i++) {\n      realmGen.config.nameGeneratorSet = new MUN.FantasySet();\n      if (RND.simple(100) > 70) {\n        let neighborNameGenSet = RND.item(MUN.cultureSets());\n        realmGen.config.nameGeneratorSet = neighborNameGenSet;\n      }\n      let neighbor = realmGen.generate();\n      if (!neighbor.realmType.isStandalone) {\n        if (RND.simple(100) > 50) {\n          neighbor.parent = mainRealm.parent;\n        } else {\n          let parentRealmConfig = new RealmGeneratorConfig();\n          if (neighbor.realmType.parentType == null) {\n            throw new Error(\"Realm type has no parent type.\");\n          }\n          parentRealmConfig.realmTypes = [neighbor.realmType.parentType];\n          parentRealmConfig.nameGeneratorSet = realmGen.config.nameGeneratorSet;\n\n          let parentRealmGen = new RealmGenerator(parentRealmConfig);\n          let parentRealm = parentRealmGen.generate();\n          region.realms.push(parentRealm);\n          neighbor.parent = region.realms.length - 1;\n        }\n      }\n      region.realms.push(neighbor);\n    }\n\n    region.authority = mainRealm.authority;\n    region.name = mainRealm.name;\n\n    return region;\n  }\n}\n\nfunction randomOrganizations() {\n  const orgs: Organization[] = [];\n  const numberOfOrganizations = random.int(1, 3);\n\n  for (let i = 0; i < numberOfOrganizations; i++) {\n    orgs.push(Organizations.generate());\n  }\n\n  return orgs;\n}\n\nfunction randomSettlements(environment: Environment, nameGeneratorSet: MUN.GeneratorSet) {\n  let settlementGenConfig = new SettlementGeneratorConfig();\n  settlementGenConfig.nameGenerator = nameGeneratorSet.town;\n  settlementGenConfig.size = \"large\";\n  settlementGenConfig.environment = environment;\n  let settlementGen = new SettlementGenerator(settlementGenConfig);\n  const capital = settlementGen.generate();\n\n  const numberOfMediumTowns = random.int(1, 3);\n  const numberOfSmallTowns = random.int(3, 5);\n  const towns = [];\n\n  capital.description += \" This is the capital of the region.\";\n  towns.push(capital);\n\n  for (let i = 0; i < numberOfMediumTowns; i++) {\n    settlementGen.config.size = \"medium\";\n    const town = settlementGen.generate();\n    towns.push(town);\n  }\n\n  for (let i = 0; i < numberOfSmallTowns; i++) {\n    settlementGen.config.size = \"small\";\n    const town = settlementGen.generate();\n    towns.push(town);\n  }\n\n  return towns;\n}\n","<script lang=\"ts\">\n  import { getContext } from 'svelte';\n  import * as RND from \"@ironarachne/rng\";\n  import RegionGeneratorConfig from \"$lib/region/generatorconfig\";\n  import RegionGenerator from \"$lib/region/generator\";\n  import * as Words from \"@ironarachne/words\";\n  import * as MUN from \"@ironarachne/made-up-names\";\n  import random from \"random\";\n  import seedrandom from \"seedrandom\";\n  import HeraldrySVGRenderer from \"$lib/heraldry/renderers/svg\";\n  import type Culture from '$lib/culture/culture';\n\n  const user = getContext('user');\n  let savedCulture: string;\n  let useSavedCulture: boolean = false;\n  let culture: Culture;\n\n  let seed = RND.randomString(13);\n  let nameSetName = 'any';\n  let nameSet = RND.item(MUN.cultureSets());\n  let nameSets = MUN.cultureSets();\n  random.use(seedrandom(seed));\n  let config = new RegionGeneratorConfig();\n  config.nameGeneratorSet = nameSet;\n  let generator = new RegionGenerator(config);\n  let heraldryRenderer = new HeraldrySVGRenderer();\n  let region = generator.generate();\n  let ruler = region.authority;\n\n  function generate() {\n    random.use(seedrandom(seed));\n\n    generator.config.dominantCulture = null;\n    if (useSavedCulture) {\n      loadSavedCulture();\n      generator.config.dominantCulture = culture;\n      nameSet = culture.generatorSet;\n    } else {\n      if (nameSetName == 'any') {\n        nameSet = RND.item(MUN.cultureSets());\n      } else {\n        MUN.cultureSets().forEach(element => {\n          if (element.name == nameSetName) {\n            nameSet = element;\n          }\n        });\n      }\n    }\n\n    generator.config.nameGeneratorSet = nameSet;\n\n    region = generator.generate();\n    ruler = region.authority;\n  }\n\n  function loadSavedCulture() {\n    for (let i = 0; i < user.savedCultures.length; i++) {\n      if (user.savedCultures[i].name === savedCulture) {\n        culture = user.savedCultures[i];\n      }\n    }\n  }\n\n  function newSeed() {\n    seed = RND.randomString(13);\n    generate();\n  }\n</script>\n\n<svelte:head>\n  <title>Region Generator | Iron Arachne</title>\n</svelte:head>\n\n<section class=\"fantasy main\">\n  <h1>Region Generator</h1>\n\n  <p>Generate fantasy regions.</p>\n\n  <div class=\"input-group\">\n    <label for=\"seed\">Random Seed</label>\n    <input type=\"text\" name=\"seed\" bind:value={seed} id=\"seed\" />\n  </div>\n\n  <div class=\"input-group\">\n    <label for=\"names\">Name Set</label>\n    <select name=\"names\" bind:value={nameSetName} id=\"nameSet\">\n      <option>any</option>\n      {#each nameSets as nameSet}\n        <option>{nameSet.name}</option>\n      {/each}\n    </select>\n  </div>\n\n  {#if user.savedCultures !== undefined && user.savedCultures.length > 0}\n  <div class=\"input-group\">\n    <label for=\"useSavedCulture\">Use a saved culture for naming?</label>\n    <input type=\"checkbox\" name=\"useSavedCulture\" bind:checked={useSavedCulture} id=\"useSavedCulture\" />\n  </div>\n\n  <div class=\"input-group\">\n    <label for=\"savedCulture\">Select a saved culture to load</label>\n    <select bind:value={savedCulture}>\n      {#each user.savedCultures as saved}\n      <option value={saved.name}>{ saved.name }</option>\n      {/each}\n    </select>\n  </div>\n  {/if}\n\n  <button on:click={generate}>Generate From Seed</button>\n  <button on:click={newSeed}>Random Seed (and Generate)</button>\n\n  <h2>{Words.capitalize(region.name)}</h2>\n\n  <p>{region.description}</p>\n\n  {#if region.dominantCulture != null}\n\n  <p>The dominant culture here is the {region.dominantCulture.name}.</p>\n\n  {/if}\n\n  {#if region.realms[region.mainRealm].parent != -1}\n  <div class=\"parent-realm\">\n    <p>{Words.title(region.name)} is part of {region.realms[region.realms[region.mainRealm].parent].name} {@html heraldryRenderer.render(region.realms[region.realms[region.mainRealm].parent].heraldry.device, 20, 22)}.</p>\n  </div>\n  {/if}\n\n  <h3>Ruler: {ruler.getHonorific()} {ruler.firstName} {ruler.lastName}</h3>\n\n  <div class=\"ruler\">\n    {#if ruler.heraldry !== null}\n    <div class=\"ruler-arms\">{@html heraldryRenderer.render(ruler.heraldry.device, 200, 220)}</div>\n    {/if}\n    <div><p>{Words.capitalize(region.name)} is ruled by {ruler.getHonorific()} {ruler.firstName} {ruler.lastName}. {ruler.description}</p></div>\n  </div>\n\n  <h3>Nearby Sovereignties</h3>\n\n  {#each region.realms as neighbor, index}\n    {#if index != region.mainRealm && neighbor.parent == -1}\n    <div class=\"neighbor\">\n      <div class=\"neighbor-arms\">{@html heraldryRenderer.render(neighbor.heraldry.device, 80, 88)}</div>\n      <div>\n        <p><strong>{Words.title(neighbor.name)}</strong></p>\n        <p>Ruled by {neighbor.authority.getHonorific()} {neighbor.authority.name}, {Words.article(neighbor.authority.species.adjective)} {neighbor.authority.species.adjective} {neighbor.authority.ageCategory.noun}.</p>\n        {#if region.realms[region.mainRealm].parent == index}\n          <p>{Words.title(region.realms[region.mainRealm].name)} is part of this.</p>\n        {/if}\n      </div>\n    </div>\n    {/if}\n  {/each}\n\n  <h3>Nearby Realms</h3>\n\n  {#each region.realms as neighbor, index}\n    {#if index != region.mainRealm && index != region.realms[region.mainRealm].parent && neighbor.parent != -1}\n    <div class=\"neighbor\">\n      <div class=\"neighbor-arms\">{@html heraldryRenderer.render(neighbor.heraldry.device, 80, 88)}</div>\n      <div>\n        <p><strong>{Words.title(neighbor.name)}</strong>, part of {region.realms[neighbor.parent].name} {@html heraldryRenderer.render(region.realms[neighbor.parent].heraldry.device, 20, 22)}.</p>\n        <p>Ruled by {neighbor.authority.getHonorific()} {neighbor.authority.name}, {Words.article(neighbor.authority.species.adjective)} {neighbor.authority.species.adjective} {neighbor.authority.ageCategory.noun}.</p>\n      </div>\n    </div>\n    {/if}\n  {/each}\n\n  <h3>Notable Settlements in {region.name}</h3>\n  {#each region.settlements as settlement}\n    <article>\n      <h5>{settlement.name}</h5>\n      <p>{settlement.description}</p>\n    </article>\n  {/each}\n  <h3>Notable Organizations</h3>\n  {#each region.organizations as organization}\n    <article>\n      <h5>{organization.name}</h5>\n      <p>{organization.description}</p>\n    </article>\n  {/each}\n</section>\n\n<style lang=\"scss\">\n  @import \"$lib/styles/reset.scss\";\n  @import \"$lib/styles/main.scss\";\n  @import '$lib/styles/global.scss';\n  @import '$lib/styles/fantasy.scss';\n\n  div.ruler {\n    display: grid;\n    column-gap: 1rem;\n    margin-bottom: 1rem;\n    grid-template-columns: 210px auto;\n  }\n\n  div.ruler-arms {\n    align-self: start;\n    width: 200px;\n    height: 220px;\n    margin: 0 auto;\n  }\n\n  div.neighbor {\n    display: grid;\n    column-gap: 1rem;\n    margin-bottom: 0.5rem;\n    grid-template-columns: 80px auto;\n  }\n\n  div.neighbor > div {\n    align-self: start;\n  }\n\n  div.neighbor > div > p {\n    margin: 0;\n  }\n\n  div.neighbor-arms {\n    justify-self: center;\n    width: 80px;\n    height: 88px;\n    margin: 0 auto;\n  }\n</style>\n"],"names":["Climates.random","Climates.describe","PremadeConfigs.getFantasy","all","RealmTypes.all","random","Categories.bySizeClass","Dice.roll","Organizations.generate","nameSet"],"mappings":"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"}
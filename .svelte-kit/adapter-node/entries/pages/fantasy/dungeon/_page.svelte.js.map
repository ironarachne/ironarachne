{"version":3,"file":"_page.svelte.js","sources":["../../../../../../../src/lib/equipment/mutators/meleeweapon.ts","../../../../../../../src/lib/equipment/mutators/weapons/bladedweapons.ts","../../../../../../../src/lib/equipment/mutators/mutators.ts","../../../../../../../src/lib/equipment/itemgenerator.ts","../../../../../../../src/lib/archetypes/archetype.ts","../../../../../../../src/lib/dungeon/dungeongeneratorconfig.ts","../../../../../../../src/lib/mobs/group.ts","../../../../../../../src/lib/encounters/encounter.ts","../../../../../../../src/lib/creatures/creature.ts","../../../../../../../src/lib/creatures/modifiers/skeleton.ts","../../../../../../../src/lib/creatures/modifiers/vampire.ts","../../../../../../../src/lib/creatures/modifiers/zombie.ts","../../../../../../../src/lib/creatures/fantasy/animals.ts","../../../../../../../src/lib/creatures/fantasy/demonic.ts","../../../../../../../src/lib/creatures/fantasy/elementals.ts","../../../../../../../src/lib/creatures/fantasy/insects.ts","../../../../../../../src/lib/creatures/fantasy/magical.ts","../../../../../../../src/lib/creatures/fantasy/monstrosities.ts","../../../../../../../src/lib/creatures/fantasy/oozes.ts","../../../../../../../src/lib/creatures/fantasy/undead.ts","../../../../../../../src/lib/creatures/fantasy/all.ts","../../../../../../../src/lib/mobs/mobs.ts","../../../../../../../src/lib/mobs/filter.ts","../../../../../../../src/lib/encounters/grouptemplate.ts","../../../../../../../src/lib/encounters/template.ts","../../../../../../../src/lib/encounters/generatorconfig.ts","../../../../../../../src/lib/encounters/generator.ts","../../../../../../../src/lib/geometry/vertex.ts","../../../../../../../src/lib/geometry/edge.ts","../../../../../../../src/lib/geometry/geometry.ts","../../../../../../../src/lib/dungeon/lock.ts","../../../../../../../src/lib/dungeon/door.ts","../../../../../../../src/lib/dungeon/rooms/features/feature.ts","../../../../../../../src/lib/dungeon/rooms/features/featuregenerator.ts","../../../../../../../src/lib/geometry/polygon.ts","../../../../../../../src/lib/dungeon/tiles.ts","../../../../../../../src/lib/dungeon/rooms/room.ts","../../../../../../../src/lib/dungeon/rooms/mutators/mutator.ts","../../../../../../../src/lib/dungeon/rooms/themes/theme.ts","../../../../../../../src/lib/dungeon/rooms/roomrequirement.ts","../../../../../../../src/lib/dungeon/dungeontheme.ts","../../../../../../../src/lib/dungeon/dungeon.ts","../../../../../../../src/lib/dungeon/rooms/roomgeneratorconfig.ts","../../../../../../../src/lib/dungeon/rooms/roomgenerator.ts","../../../../../../../src/lib/dungeon/rooms/rooms.ts","../../../../../../../src/lib/dungeon/doors.ts","../../../../../../../src/lib/archetypes/archetypes.ts","../../../../../../../src/lib/equipment/itemgeneratorconfig.ts","../../../../../../../src/lib/equipment/generators.ts","../../../../../../../src/lib/archetypes/fantasy/cleric.ts","../../../../../../../src/lib/archetypes/fantasy/cult.ts","../../../../../../../src/lib/archetypes/fantasy/mage.ts","../../../../../../../src/lib/archetypes/fantasy/martial.ts","../../../../../../../src/lib/archetypes/fantasy/undead.ts","../../../../../../../src/lib/archetypes/fantasy/all.ts","../../../../../../../src/lib/encounters/templates/fantasy/bandits.ts","../../../../../../../src/lib/encounters/templates/fantasy/cult.ts","../../../../../../../src/lib/encounters/templates/fantasy/genericdungeon.ts","../../../../../../../src/lib/encounters/templates/fantasy/magic.ts","../../../../../../../src/lib/encounters/templates/fantasy/martial.ts","../../../../../../../src/lib/encounters/templates/fantasy/undead.ts","../../../../../../../src/lib/encounters/templates/fantasy/wilderness.ts","../../../../../../../src/lib/encounters/templates/fantasy/all.ts","../../../../../../../src/lib/encounters/templates/templates.ts","../../../../../../../src/lib/dungeon/rooms/themes/dungeon.ts","../../../../../../../src/lib/dungeon/rooms/themes/themes.ts","../../../../../../../src/lib/dungeon/dungeonthemes/cult.ts","../../../../../../../src/lib/dungeon/dungeonthemes/fortress.ts","../../../../../../../src/lib/dungeon/dungeonthemes/magelair.ts","../../../../../../../src/lib/dungeon/dungeonthemes/tomb.ts","../../../../../../../src/lib/dungeon/dungeonthemes/all.ts","../../../../../../../src/lib/dungeon/treasurespawn.ts","../../../../../../../src/lib/dungeon/encounterspawn.ts","../../../../../../../src/lib/dungeon/rooms/mutators/mutators.ts","../../../../../../../src/lib/dungeon/treasure/tableentry.ts","../../../../../../../src/lib/dungeon/treasure/table.ts","../../../../../../../src/lib/dungeon/treasure/generatorconfig.ts","../../../../../../../src/lib/dungeon/treasure/generator.ts","../../../../../../../src/lib/dungeon/treasure/key.ts","../../../../../../../src/lib/dungeon/treasure/artobject.ts","../../../../../../../src/lib/dungeon/treasure/artobjectgenerator.ts","../../../../../../../src/lib/dungeon/treasure/bagofcoins.ts","../../../../../../../src/lib/dungeon/treasure/coingenerator.ts","../../../../../../../src/lib/dungeon/treasure/gem.ts","../../../../../../../src/lib/dungeon/treasure/gemgenerator.ts","../../../../../../../src/lib/dungeon/treasure/magicitemgenerator.ts","../../../../../../../src/lib/dungeon/treasure/tables/common.ts","../../../../../../../src/lib/dungeon/treasure/tables/rare.ts","../../../../../../../src/lib/dungeon/treasure/tables/uncommon.ts","../../../../../../../src/lib/dungeon/dungeongenerator.ts","../../../../../../../src/lib/dungeon/tilerenderer.ts","../../../../../../../src/routes/fantasy/dungeon/+page.svelte"],"sourcesContent":["\"use strict\";\n\nimport type Item from \"../item.js\";\nimport type ItemMutator from \"./itemmutator.js\";\n\nexport default class MeleeWeaponMutator implements ItemMutator {\n  name: string;\n  mutate: (item: Item) => Item;\n  requiredTag: string;\n  tags: string[];\n\n  constructor(\n    name: string,\n    mutate: (item: Item) => Item,\n    requiredTag: string,\n    tags: string[],\n  ) {\n    this.name = name;\n    this.mutate = mutate;\n    this.requiredTag = requiredTag;\n    this.tags = tags;\n  }\n}\n","\"use strict\";\n\nimport MeleeWeapon from \"../../weapons/melee.js\";\nimport type ItemMutator from \"../itemmutator.js\";\nimport MeleeWeaponMutator from \"../meleeweapon.js\";\n\nexport function all(): ItemMutator[] {\n  let sets = [\n    {\n      element: \"fire\",\n      damage: \"+1d6 fire\",\n      description:\n        \"The blade is wreathed in flame when wielded. Anything flammable struck with it immediately ignites.\",\n    },\n    {\n      element: \"ice\",\n      damage: \"+1d6 cold\",\n      description:\n        \"The blade is surrounded by a layer of ice when wielded. Enemies struck with it are chilled to the bone and have difficulty moving.\",\n    },\n    {\n      element: \"lightning\",\n      damage: \"+1d6 electricity\",\n      description: \"The blade is surrounded by crackling lightning when wielded.\",\n    },\n    {\n      element: \"poison\",\n      damage: \"+1d6 poison\",\n      description:\n        \"The blade is coated in a sickly green liquid when wielded. The liquid is highly poisonous, causing illness and eventually death if not cured.\",\n    },\n    {\n      element: \"acid\",\n      damage: \"+1d6 acid\",\n      description: \"The blade is coated in a thin yellow acid when wielded.\",\n    },\n    {\n      element: \"darkness\",\n      damage: \"+1d6 darkness\",\n      description:\n        \"The blade is hidden in shadow when wielded. It is difficult for enemies to predict where attacks with this weapon will come from.\",\n    },\n    {\n      element: \"light\",\n      damage: \"+1d6 light\",\n      description:\n        \"The blade glows faintly when wielded. On command, that light glows brightly enough to illuminate a large room.\",\n    },\n    {\n      element: \"earth\",\n      damage: \"+1d6 earth\",\n      description: \"The blade appears to be made of stone. Anything struck with it is turned to stone.\",\n    },\n  ];\n\n  let result = [];\n\n  for (let set of sets) {\n    result.push(\n      new MeleeWeaponMutator(\n        `${set.element}-enchanted melee weapon`,\n        (item) => {\n          item.name = `${set.element}-enchanted ${item.name}`;\n          if (item instanceof MeleeWeapon) {\n            item.damage += ` ${set.damage}`;\n          }\n          item.description += ` ${set.description}`;\n          item.value += 10000;\n          return item;\n        },\n        \"bladed weapon\",\n        [\"weapon\", \"melee weapon\", \"bladed weapon\", \"enchantment\", set.element],\n      ),\n    );\n  }\n\n  return result;\n}\n","\"use strict\";\n\nimport type ItemMutator from \"./itemmutator.js\";\nimport * as BladedWeapons from \"./weapons/bladedweapons.js\";\n\nexport function all(): ItemMutator[] {\n  let results: ItemMutator[] = [];\n\n  results = results.concat(BladedWeapons.all());\n\n  return results;\n}\n\nexport function withAnyTag(tags: string[], mutators: ItemMutator[]): ItemMutator[] {\n  let result: ItemMutator[] = [];\n  let names: string[] = [];\n\n  for (let i = 0; i < mutators.length; i++) {\n    for (let j = 0; j < tags.length; j++) {\n      if (mutators[i].tags.includes(tags[j]) && !names.includes(mutators[i].name)) {\n        result.push(mutators[i]);\n        names.push(mutators[i].name);\n        continue;\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function withTag(tag: string, mutators: ItemMutator[]): ItemMutator[] {\n  let result: ItemMutator[] = [];\n\n  for (let mutator of mutators) {\n    if (mutator.tags.includes(tag)) {\n      result.push(mutator);\n    }\n  }\n\n  return result;\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport random from \"random\";\nimport * as Components from \"./components/components.js\";\nimport type Item from \"./item.js\";\nimport type ItemGeneratorConfig from \"./itemgeneratorconfig.js\";\nimport * as Mutators from \"./mutators/mutators.js\";\n\nexport default class ItemGenerator {\n  config: ItemGeneratorConfig;\n\n  constructor(config: ItemGeneratorConfig) {\n    this.config = config;\n  }\n\n  generate(): Item {\n    let quality = random.int(this.config.minQuality, this.config.maxQuality);\n    let components = Components.withMaxQuality(this.config.maxQuality, this.config.components);\n    components = Components.withMinQuality(this.config.minQuality, components);\n    let item = this.config.pattern.complete(this.config.components, quality);\n\n    if (this.config.useMutator) {\n      let mutators = Mutators.withAnyTag(item.tags, this.config.mutators);\n      if (mutators.length > 0) {\n        let mutator = RND.item(mutators);\n        item = mutator.mutate(item);\n      }\n    }\n\n    return item;\n  }\n}\n","\"use strict\";\n\nimport ItemGenerator from \"../equipment/itemgenerator.js\";\n\nexport default class Archetype {\n  name: string;\n  abilities: string[];\n  tags: string[];\n  threatLevel: number;\n  itemGenerators: ItemGenerator[];\n\n  constructor(\n    name: string,\n    abilities: string[],\n    tags: string[],\n    threatLevel: number,\n    itemGenerators: ItemGenerator[],\n  ) {\n    this.name = name;\n    this.abilities = abilities;\n    this.tags = tags;\n    this.threatLevel = threatLevel;\n    this.itemGenerators = itemGenerators;\n  }\n}\n","\"use strict\";\n\nimport type Biome from \"../environment/biomes/biome.js\";\nimport BiomeGenerator from \"../environment/biomes/generator.js\";\nimport BiomeGeneratorConfig from \"../environment/biomes/generatorconfig.js\";\nimport * as Climates from \"../environment/climates/climates.js\";\n\nexport default class DungeonGeneratorConfig {\n  possibleBiomes: Biome[];\n  width: number; // cells\n  height: number; // cells\n  maxRooms: number;\n  minRooms: number;\n  minThreatLevel: number;\n  maxThreatLevel: number;\n\n  constructor() {\n    this.width = 40;\n    this.height = 50;\n    this.maxRooms = 30;\n    this.minRooms = 20;\n    this.minThreatLevel = 0;\n    this.maxThreatLevel = 5;\n\n    let climate = Climates.random();\n    let biomeGenConfig = new BiomeGeneratorConfig(climate);\n    let biomeGen = new BiomeGenerator(biomeGenConfig);\n\n    let biomes = [];\n    for (let i = 0; i < 5; i++) {\n      biomeGen.config.climate = Climates.random();\n      biomes.push(biomeGen.generate());\n    }\n    this.possibleBiomes = biomes;\n  }\n}\n","\"use strict\";\n\nimport type Mob from \"./mob.js\";\n\nexport default class MobGroup {\n  name: string;\n  mobs: Mob[];\n\n  constructor(name: string, mobs: Mob[]) {\n    this.name = name;\n    this.mobs = mobs;\n  }\n}\n","\"use strict\";\n\nimport MobGroup from \"../mobs/group.js\";\n\nexport default class Encounter {\n  groups: MobGroup[];\n  totalThreatLevel: number;\n\n  constructor(groups: MobGroup[]) {\n    this.groups = groups;\n\n    this.totalThreatLevel = 0;\n\n    for (let i = 0; i < this.groups.length; i++) {\n      for (let j = 0; j < this.groups[i].mobs.length; j++) {\n        this.totalThreatLevel += this.groups[i].mobs[j].threatLevel;\n      }\n    }\n  }\n}\n","\"use strict\";\n\nimport type Item from \"../equipment/item.js\";\nimport type StatBlock from \"../statblock.js\";\n\nexport default class Creature {\n  name: string;\n  pluralName: string;\n  description: string;\n  summary: string;\n  abilities: string[];\n  statBlock: StatBlock | null;\n  environments: string[];\n  behaviors: string[];\n  carried: Item[];\n  creatureTypes: string[];\n  tags: string[];\n  threatLevel: number;\n\n  constructor(\n    name: string,\n    pluralName: string,\n    description: string,\n    abilities: string[],\n    environments: string[],\n    behaviors: string[],\n    creatureTypes: string[],\n    tags: string[],\n    threatLevel: number,\n  ) {\n    this.name = name;\n    this.pluralName = pluralName;\n    this.description = description;\n    this.summary = \"\";\n    this.abilities = abilities;\n    this.environments = environments;\n    this.behaviors = behaviors;\n    this.creatureTypes = creatureTypes;\n    this.carried = [];\n    this.tags = tags;\n    this.threatLevel = threatLevel;\n  }\n}\n","\"use strict\";\n\nimport * as _ from \"lodash\";\nimport type Creature from \"../creature.js\";\n\nexport function modify(creature: Creature): Creature {\n  let result = _.cloneDeep(creature);\n\n  let modifierName = \"skeletal\";\n\n  result.name = `${modifierName} ${result.name}`;\n  result.pluralName = `${modifierName} ${result.pluralName}`;\n  result.abilities.push(\"unharmed by piercing damage\");\n  result.tags.push(\"skeleton\");\n  result.tags.push(\"undead\");\n  result.threatLevel += 1;\n\n  return result;\n}\n","\"use strict\";\n\nimport * as _ from \"lodash\";\nimport type Creature from \"../creature.js\";\n\nexport function modify(creature: Creature): Creature {\n  let result = _.cloneDeep(creature);\n\n  let modifierName = \"vampire\";\n\n  result.name = `${modifierName} ${result.name}`;\n  result.pluralName = `${modifierName} ${result.pluralName}`;\n  result.abilities.push(\"drain blood to gain life\");\n  result.abilities.push(\"transform into a bat\");\n  result.abilities.push(\"transform into a wolf\");\n  result.abilities.push(\"transform into mist\");\n  result.abilities.push(\"see in the dark\");\n  result.abilities.push(\"can only be killed by a stake through the heart or by direct sunlight\");\n  result.tags.push(\"vampire\");\n  result.tags.push(\"undead\");\n  result.threatLevel += 5;\n\n  return result;\n}\n","\"use strict\";\n\nimport * as _ from \"lodash\";\nimport type Creature from \"../creature.js\";\n\nexport function modify(creature: Creature): Creature {\n  let result = _.cloneDeep(creature);\n\n  let modifierName = \"zombie\";\n\n  result.name = `${modifierName} ${result.name}`;\n  result.pluralName = `${modifierName} ${result.pluralName}`;\n  result.abilities.push(\"can only be killed by removing the head\");\n\n  let newTags = [];\n\n  for (let i = 0; i < result.tags.length; i++) {\n    if (result.tags[i] != \"sentient\") {\n      newTags.push(result.tags[i]);\n    }\n  }\n\n  result.tags = newTags;\n\n  result.abilities.push(\"can bite others to transform them into zombies\");\n  result.tags.push(\"zombie\");\n  result.tags.push(\"undead\");\n  result.threatLevel += 1;\n\n  return result;\n}\n","\"use strict\";\n\nimport Creature from \"../creature.js\";\n\nexport function all(): Creature[] {\n  let behaviors = [\"cautious\", \"hunting\", \"lethargic\", \"resting\", \"sleeping\", \"stalking\"];\n\n  let creatures = [\n    new Creature(\"ape\", \"apes\", \"\", [], [\"forest\"], behaviors, [\"beast\"], [\"simian\"], 1),\n    new Creature(\n      \"axe beak\",\n      \"axe beaks\",\n      \"\",\n      [],\n      [\"grassland\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [],\n      1,\n    ),\n    new Creature(\n      \"baboon\",\n      \"baboons\",\n      \"\",\n      [],\n      [\"forest\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [\"monkey\"],\n      1,\n    ),\n    new Creature(\"badger\", \"badgers\", \"\", [], [\"forest\"], behaviors, [\"beast\"], [], 1),\n    new Creature(\"bat\", \"bats\", \"\", [], [\"cave\"], behaviors, [\"beast\"], [\"flying\"], 1),\n    new Creature(\n      \"black bear\",\n      \"black bears\",\n      \"\",\n      [],\n      [\"forest\"],\n      behaviors,\n      [\"beast\"],\n      [\"bear\"],\n      1,\n    ),\n    new Creature(\"blink dog\", \"blink dogs\", \"\", [], [\"forest\"], behaviors, [\"fey\"], [\"canine\"], 1),\n    new Creature(\n      \"boar\",\n      \"boars\",\n      \"\",\n      [],\n      [\"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [\"boar\"],\n      1,\n    ),\n    new Creature(\n      \"brown bear\",\n      \"brown bears\",\n      \"\",\n      [],\n      [\"arctic\", \"forest\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [\"bear\"],\n      1,\n    ),\n    new Creature(\"camel\", \"camels\", \"\", [], [\"desert\"], behaviors, [\"beast\"], [\"camel\"], 1),\n    new Creature(\n      \"cat\",\n      \"cats\",\n      \"\",\n      [],\n      [\"desert\", \"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [\"cat\"],\n      1,\n    ),\n    new Creature(\n      \"cave bear\",\n      \"cave bears\",\n      \"\",\n      [],\n      [\"forest\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [\"bear\"],\n      3,\n    ),\n    new Creature(\n      \"constrictor snake\",\n      \"constrictor snakes\",\n      \"\",\n      [],\n      [\"desert\", \"forest\", \"swamp\", \"underwater\"],\n      behaviors,\n      [\"beast\"],\n      [\"snake\"],\n      1,\n    ),\n    new Creature(\n      \"crocodile\",\n      \"crocodiles\",\n      \"\",\n      [],\n      [\"swamp\"],\n      behaviors,\n      [\"beast\"],\n      [\"reptile\"],\n      1,\n    ),\n    new Creature(\n      \"dire bat\",\n      \"dire bats\",\n      \"\",\n      [],\n      [\"forest\"],\n      behaviors,\n      [\"beast\"],\n      [\"bat\", \"flying\"],\n      2,\n    ),\n    new Creature(\n      \"dire bear\",\n      \"dire bears\",\n      \"\",\n      [],\n      [\"forest\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [\"bear\"],\n      2,\n    ),\n    new Creature(\n      \"dire wolf\",\n      \"dire wolves\",\n      \"\",\n      [],\n      [\"forest\"],\n      behaviors,\n      [\"beast\"],\n      [\"canine\", \"wolf\"],\n      2,\n    ),\n    new Creature(\n      \"elk\",\n      \"elks\",\n      \"\",\n      [],\n      [\"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [],\n      1,\n    ),\n    new Creature(\n      \"flying snake\",\n      \"flying snakes\",\n      \"\",\n      [],\n      [\"forest\", \"grassland\", \"hill\", \"urban\"],\n      behaviors,\n      [\"beast\"],\n      [\"snake\"],\n      1,\n    ),\n    new Creature(\n      \"giant bat\",\n      \"giant bats\",\n      \"\",\n      [],\n      [\"forest\", \"underdark\"],\n      behaviors,\n      [\"beast\"],\n      [\"bat\", \"flying\"],\n      2,\n    ),\n    new Creature(\n      \"giant rat\",\n      \"giant rats\",\n      \"\",\n      [],\n      [\"forest\", \"urban\", \"underdark\"],\n      behaviors,\n      [\"beast\"],\n      [\"rat\"],\n      1,\n    ),\n    new Creature(\n      \"goat\",\n      \"goats\",\n      \"\",\n      [],\n      [\"forest\", \"grassland\", \"hill\", \"mountain\"],\n      behaviors,\n      [\"beast\"],\n      [\"goat\"],\n      1,\n    ),\n    new Creature(\n      \"great eagle\",\n      \"great eagles\",\n      \"\",\n      [],\n      [\"forest\", \"hill\", \"mountain\"],\n      behaviors,\n      [\"beast\"],\n      [\"eagle\", \"bird\", \"flying\"],\n      3,\n    ),\n    new Creature(\"horse\", \"horses\", \"\", [], [\"grassland\"], behaviors, [\"beast\"], [\"horse\"], 1),\n    new Creature(\"jaguar\", \"jaguars\", \"\", [], [\"forest\"], behaviors, [\"beast\"], [\"feline\"], 1),\n    new Creature(\n      \"lion\",\n      \"lions\",\n      \"\",\n      [],\n      [\"desert\", \"forest\"],\n      behaviors,\n      [\"beast\"],\n      [\"feline\"],\n      1,\n    ),\n    new Creature(\n      \"stirge\",\n      \"stirges\",\n      \"\",\n      [\"drain blood\"],\n      [\n        \"coastal\",\n        \"desert\",\n        \"forest\",\n        \"grassland\",\n        \"hill\",\n        \"mountain\",\n        \"swamp\",\n        \"underdark\",\n        \"urban\",\n      ],\n      behaviors,\n      [\"beast\"],\n      [],\n      1,\n    ),\n    new Creature(\"tiger\", \"tigers\", \"\", [], [\"forest\"], behaviors, [\"beast\"], [\"feline\"], 2),\n    new Creature(\n      \"war dog\",\n      \"war dogs\",\n      \"\",\n      [],\n      [\"forest\", \"grassland\", \"hill\", \"mountain\", \"underdark\", \"urban\"],\n      behaviors,\n      [\"beast\"],\n      [\"canine\", \"dog\", \"martial\"],\n      1,\n    ),\n    new Creature(\"wild pig\", \"wild pigs\", \"\", [], [\"forest\"], behaviors, [\"beast\"], [\"pig\"], 1),\n    new Creature(\"wolf\", \"wolves\", \"\", [], [\"forest\"], behaviors, [\"beast\"], [\"canine\", \"wolf\"], 1),\n  ];\n\n  for (let i = 0; i < creatures.length; i++) {\n    creatures[i].tags.push(creatures[i].name);\n    creatures[i].tags.push(\"animal\");\n  }\n\n  return creatures;\n}\n","\"use strict\";\n\nimport Creature from \"../creature.js\";\n\nexport function all(): Creature[] {\n  let behaviors = [\"gibbering\", \"chittering\", \"chattering\", \"raging\", \"resting\"];\n\n  let creatures = [\n    new Creature(\n      `dretch`,\n      `dretches`,\n      \"\",\n      [\"emit fetid cloud\"],\n      [],\n      behaviors,\n      [\"fiend\"],\n      [\"demon\"],\n      3,\n    ),\n    new Creature(\n      \"hell hound\",\n      \"hell hounds\",\n      \"\",\n      [\"immune to fire damage\", \"breathe fire once an hour\"],\n      [],\n      [\"resting\", \"sleeping\", \"hunting\", \"stalking\"],\n      [\"fiend\"],\n      [\"canine\"],\n      3,\n    ),\n    new Creature(\n      `imp`,\n      `imps`,\n      \"\",\n      [\"shapeshift into animal\", \"see in darkness\", \"resistant to magic\"],\n      [],\n      behaviors,\n      [\"fiend\"],\n      [\"demon\"],\n      3,\n    ),\n    new Creature(\n      `lemure`,\n      `lemures`,\n      \"\",\n      [\"immune to fire\", \"immune to poison\"],\n      [],\n      behaviors,\n      [\"fiend\"],\n      [\"demon\"],\n      1,\n    ),\n    new Creature(\n      `quasit`,\n      `quasits`,\n      \"\",\n      [\"shapeshift into insect\", \"invisible at will, unless attacking\", \"resistant to magic\"],\n      [],\n      behaviors,\n      [\"fiend\"],\n      [\"demon\"],\n      4,\n    ),\n  ];\n\n  for (let i = 0; i < creatures.length; i++) {\n    creatures[i].tags.push(creatures[i].name);\n    creatures[i].tags.push(\"demonic\");\n  }\n\n  return creatures;\n}\n","\"use strict\";\n\nimport Creature from \"../creature.js\";\n\nexport function all(): Creature[] {\n  let behaviors = [\"resting\", \"hunting\", \"wandering\"];\n\n  let creatures = [\n    new Creature(\n      `dust mephit`,\n      `dust mephits`,\n      \"\",\n      [\"explodes on death\", \"blinding dust breath\"],\n      [\"desert\"],\n      behaviors,\n      [\"elemental\"],\n      [\"elemental\"],\n      1,\n    ),\n    new Creature(\n      `ice mephit`,\n      `ice mephits`,\n      \"\",\n      [\"cast fog cloud\", \"ice explosion on death\", \"frost breath\", \"immune to cold\"],\n      [\"arctic\"],\n      behaviors,\n      [\"elemental\"],\n      [\"elemental\"],\n      1,\n    ),\n    new Creature(\n      `magma mephit`,\n      `magma mephits`,\n      \"\",\n      [\"cast heat metal\", \"lava explosion on death\", \"fire breath\", \"immune to fire\"],\n      [\"underdark\"],\n      behaviors,\n      [\"elemental\"],\n      [\"elemental\"],\n      1,\n    ),\n    new Creature(\n      `steam mephit`,\n      `steam mephits`,\n      \"\",\n      [\n        \"cast blur\",\n        \"steam explosion on death\",\n        \"scalding steam breath\",\n        \"immune to fire\",\n        \"immune to poison\",\n      ],\n      [\"underwater\"],\n      behaviors,\n      [\"elemental\"],\n      [\"elemental\"],\n      1,\n    ),\n  ];\n\n  for (let i = 0; i < creatures.length; i++) {\n    creatures[i].tags.push(creatures[i].name);\n    creatures[i].tags.push(\"elemental\");\n  }\n\n  return creatures;\n}\n","\"use strict\";\n\nimport Creature from \"../creature.js\";\n\nexport function all(): Creature[] {\n  let behaviors = [\"resting\", \"hunting\", \"exploring\", \"wandering\"];\n\n  let creatures = [\n    new Creature(\n      \"fire beetle\",\n      \"fire beetles\",\n      \"\",\n      [\"glows with soft orange light\"],\n      [\"forest\", \"underdark\"],\n      behaviors,\n      [\"beast\"],\n      [\"beetle\"],\n      1,\n    ),\n    new Creature(\n      \"giant ant\",\n      \"giant ants\",\n      \"\",\n      [],\n      [\"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [\"ant\", \"swarm\"],\n      1,\n    ),\n    new Creature(\n      \"giant bee\",\n      \"giant bees\",\n      \"\",\n      [\"venomous sting\"],\n      [\"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [\"bee\", \"flying\", \"swarm\"],\n      2,\n    ),\n    new Creature(\n      \"giant beetle\",\n      \"giant beetles\",\n      \"\",\n      [],\n      [\"forest\", \"grassland\", \"hill\", \"mountain\", \"urban\", \"underdark\"],\n      behaviors,\n      [\"beast\"],\n      [\"beetle\", \"swarm\"],\n      1,\n    ),\n    new Creature(\n      \"giant centipede\",\n      \"giant centipedes\",\n      \"\",\n      [\"venomous bite\"],\n      [\"forest\", \"grassland\", \"hill\", \"mountain\", \"underdark\"],\n      behaviors,\n      [\"beast\"],\n      [\"centipede\"],\n      2,\n    ),\n    new Creature(\n      \"giant dragonfly\",\n      \"giant dragonflies\",\n      \"\",\n      [],\n      [\"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"beast\"],\n      [\"flying\"],\n      1,\n    ),\n    new Creature(\n      \"giant scorpion\",\n      \"giant scorpions\",\n      \"\",\n      [\"deadly venomous sting\"],\n      [\"desert\"],\n      behaviors,\n      [\"beast\"],\n      [\"scorpion\", \"arachnid\"],\n      3,\n    ),\n    new Creature(\n      \"giant spider\",\n      \"giant spiders\",\n      \"\",\n      [\"deadly venomous bite\"],\n      [\"coastal\", \"forest\", \"grassland\", \"hill\", \"mountain\", \"underdark\", \"urban\"],\n      behaviors,\n      [\"beast\"],\n      [\"spider\", \"arachnid\"],\n      3,\n    ),\n  ];\n\n  for (let i = 0; i < creatures.length; i++) {\n    creatures[i].tags.push(creatures[i].name);\n    creatures[i].tags.push(\"insect\");\n  }\n\n  return creatures;\n}\n","\"use strict\";\n\nimport Creature from \"../creature.js\";\n\nexport function all(): Creature[] {\n  let behaviors = [\"immobile\", \"inert\", \"guarding\", \"watching\", \"wandering\"];\n\n  let creatures = [\n    new Creature(\n      \"amber golem\",\n      \"amber golems\",\n      \"\",\n      [\"resistant to magic\", \"cannot be polymorphed\"],\n      [],\n      behaviors,\n      [\"construct\"],\n      [\"enchanted\", \"golem\"],\n      5,\n    ),\n    new Creature(\n      \"clay golem\",\n      \"clay golems\",\n      \"\",\n      [\"immune to acid\", \"cannot be polymorphed\"],\n      [],\n      behaviors,\n      [\"construct\"],\n      [\"enchanted\", \"golem\"],\n      3,\n    ),\n    new Creature(\n      \"stone golem\",\n      \"stone golems\",\n      \"\",\n      [\"resistant to fire\", \"cannot be polymorphed\"],\n      [],\n      behaviors,\n      [\"construct\"],\n      [\"enchanted\", \"golem\"],\n      3,\n    ),\n    new Creature(\n      \"iron golem\",\n      \"iron golems\",\n      \"\",\n      [\"resistant to fire\", \"cannot be polymorphed\"],\n      [],\n      behaviors,\n      [\"construct\"],\n      [\"enchanted\", \"golem\"],\n      3,\n    ),\n    new Creature(\n      \"wood golem\",\n      \"wood golems\",\n      \"\",\n      [\"cannot be polymorphed\"],\n      [],\n      behaviors,\n      [\"construct\"],\n      [\"enchanted\", \"golem\"],\n      2,\n    ),\n    new Creature(\n      \"enchanted suit of armor\",\n      \"enchanted suits of armor\",\n      \"\",\n      [],\n      [],\n      behaviors,\n      [\"construct\"],\n      [\"enchanted\"],\n      2,\n    ),\n    new Creature(\n      \"enchanted book\",\n      \"enchanted books\",\n      \"\",\n      [\"cast a single minor spell\"],\n      [],\n      behaviors,\n      [\"construct\"],\n      [\"enchanted\", \"flying\"],\n      1,\n    ),\n    new Creature(\n      \"flying sword\",\n      \"flying swords\",\n      \"\",\n      [],\n      [],\n      behaviors,\n      [\"construct\"],\n      [\"enchanted\", \"flying\"],\n      1,\n    ),\n    new Creature(\n      \"lesser gargoyle\",\n      \"lesser gargoyles\",\n      \"\",\n      [\"turn to stone at will\"],\n      [],\n      behaviors,\n      [\"monstrosity\"],\n      [\"enchanted\", \"gargoyle\"],\n      2,\n    ),\n    new Creature(\n      \"mimic\",\n      \"mimics\",\n      \"\",\n      [\"resemble a chest or other large container at will\"],\n      [],\n      behaviors,\n      [\"monstrosity\"],\n      [\"enchanted\"],\n      2,\n    ),\n  ];\n\n  for (let i = 0; i < creatures.length; i++) {\n    creatures[i].tags.push(creatures[i].name);\n    creatures[i].tags.push(\"magic\");\n  }\n\n  return creatures;\n}\n","\"use strict\";\n\nimport Creature from \"../creature.js\";\n\nexport function all(): Creature[] {\n  let behaviors = [\"cautious\", \"hunting\", \"lethargic\", \"resting\", \"sleeping\", \"stalking\"];\n\n  let creatures = [\n    new Creature(\n      \"cockatrice\",\n      \"cockatrices\",\n      \"\",\n      [],\n      [\"grassland\"],\n      behaviors,\n      [\"monstrosity\"],\n      [\"cockatrice\"],\n      1,\n    ),\n    new Creature(\n      \"darkmantle\",\n      \"darkmantles\",\n      \"\",\n      [\"disguise as stalactite\"],\n      [\"underdark\"],\n      behaviors,\n      [\"monstrosity\"],\n      [],\n      1,\n    ),\n    new Creature(\n      \"death dog\",\n      \"death dogs\",\n      \"\",\n      [],\n      [\"desert\"],\n      behaviors,\n      [\"monstrosity\"],\n      [\"canine\", \"martial\"],\n      1,\n    ),\n    new Creature(\n      \"gryfalcon\",\n      \"gryfalcons\",\n      \"\",\n      [],\n      [\"grassland\", \"hill\", \"mountain\"],\n      behaviors,\n      [\"monstrosity\"],\n      [\"flying\"],\n      4,\n    ),\n    new Creature(\n      \"gryphon\",\n      \"gryphons\",\n      \"\",\n      [],\n      [\"grassland\", \"hill\", \"mountain\"],\n      behaviors,\n      [\"monstrosity\"],\n      [\"flying\"],\n      4,\n    ),\n    new Creature(\n      \"harpy\",\n      \"harpies\",\n      \"\",\n      [],\n      [\"coastal\", \"forest\", \"hill\", \"mountain\"],\n      behaviors,\n      [\"monstrosity\"],\n      [\"flying\"],\n      3,\n    ),\n    new Creature(\n      \"hippogriff\",\n      \"hippogriffs\",\n      \"\",\n      [],\n      [\"grassland\", \"hill\", \"mountain\"],\n      behaviors,\n      [\"monstrosity\"],\n      [\"flying\"],\n      4,\n    ),\n    new Creature(\"owlbear\", \"owlbears\", \"\", [], [\"forest\"], behaviors, [\"monstrosity\"], [], 4),\n    new Creature(\n      \"rust monster\",\n      \"rust monsters\",\n      \"\",\n      [\"rusts nonmagical metal it touches\"],\n      [\"underdark\"],\n      behaviors,\n      [\"monstrosity\"],\n      [],\n      3,\n    ),\n    new Creature(\n      \"worg\",\n      \"worgs\",\n      \"\",\n      [\"see in the dark\"],\n      [\"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"monstrosity\"],\n      [\"canine\", \"martial\", \"wolf\"],\n      3,\n    ),\n  ];\n\n  for (let i = 0; i < creatures.length; i++) {\n    creatures[i].tags.push(creatures[i].name);\n    creatures[i].tags.push(\"monstrosity\");\n  }\n\n  return creatures;\n}\n","\"use strict\";\n\nimport Creature from \"../creature.js\";\n\nexport function all(): Creature[] {\n  let behaviors = [\"waiting\", \"hunting\", \"wandering\", \"clinging to the ceiling\"];\n\n  let creatures = [\n    new Creature(\n      \"black pudding\",\n      \"black puddings\",\n      \"\",\n      [\"dissolve nonmagical metal things\", \"amorphous\", \"climb walls and ceilings\"],\n      [\"forest\", \"grassland\", \"hill\", \"underdark\"],\n      behaviors,\n      [\"ooze\"],\n      [],\n      2,\n    ),\n    new Creature(\n      \"blue jelly\",\n      \"blue jellies\",\n      \"\",\n      [\"amorphous\", \"climb walls and ceilings\"],\n      [\"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"ooze\"],\n      [],\n      1,\n    ),\n    new Creature(\n      \"blue slime\",\n      \"blue slimes\",\n      \"\",\n      [\"amorphous\", \"climb walls and ceilings\"],\n      [\"coastal\", \"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"ooze\"],\n      [],\n      1,\n    ),\n    new Creature(\n      \"brown pudding\",\n      \"brown puddings\",\n      \"\",\n      [\"amorphous\", \"climb walls and ceilings\"],\n      [\"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"ooze\"],\n      [],\n      2,\n    ),\n    new Creature(\n      \"gelatinous cube\",\n      \"gelatinous cubes\",\n      \"\",\n      [\"dissolve nonmetal things\"],\n      [\"forest\", \"grassland\", \"hill\"],\n      [\"waiting\", \"wandering\"],\n      [\"ooze\"],\n      [],\n      3,\n    ),\n    new Creature(\n      \"gray ooze\",\n      \"gray oozes\",\n      \"\",\n      [\"amorphous\", \"corrode metal\", \"imitate oily pool\", \"climb walls and ceilings\"],\n      [\"underdark\"],\n      behaviors,\n      [\"ooze\"],\n      [],\n      2,\n    ),\n    new Creature(\n      \"green slime\",\n      \"green slimes\",\n      \"\",\n      [\"amorphous\", \"climb walls and ceilings\"],\n      [\"forest\", \"grassland\", \"hill\"],\n      behaviors,\n      [\"ooze\"],\n      [],\n      1,\n    ),\n    new Creature(\n      \"ochre jelly\",\n      \"ochre jellies\",\n      \"\",\n      [\"amorphous\", \"climb walls and ceilings\", \"split in half when hit with lightning\"],\n      [\"forest\", \"grassland\", \"hill\"],\n      [\"ooze\"],\n      behaviors,\n      [],\n      3,\n    ),\n  ];\n\n  for (let i = 0; i < creatures.length; i++) {\n    creatures[i].tags.push(creatures[i].name);\n    creatures[i].tags.push(\"ooze\");\n  }\n\n  return creatures;\n}\n","\"use strict\";\n\nimport Creature from \"../creature.js\";\n\nexport function all(): Creature[] {\n  let behaviors = [\"hunting\"];\n\n  let creatures = [\n    new Creature(\n      \"ghoul\",\n      \"ghouls\",\n      \"\",\n      [],\n      [\"swamp\", \"underdark\", \"urban\"],\n      behaviors,\n      [\"undead\"],\n      [],\n      2,\n    ),\n    new Creature(\n      \"shadow\",\n      \"shadows\",\n      \"\",\n      [\n        \"amorphous\",\n        \"immune to necrotic magic\",\n        \"immune to poison\",\n        \"see in the dark\",\n        \"drain strength\",\n      ],\n      [\"swamp\", \"underdark\", \"urban\"],\n      behaviors,\n      [\"undead\"],\n      [],\n      2,\n    ),\n    new Creature(\n      `will o' the wisp`,\n      `will o' the wisps`,\n      \"\",\n      [\"glow with a bright light\", \"become invisible\"],\n      [\"forest\"],\n      behaviors,\n      [\"undead\"],\n      [],\n      1,\n    ),\n  ];\n\n  for (let i = 0; i < creatures.length; i++) {\n    creatures[i].tags.push(creatures[i].name);\n    creatures[i].tags.push(\"undead\");\n  }\n\n  return creatures;\n}\n","\"use strict\";\n\nimport Creature from \"../creature.js\";\nimport * as Skeletal from \"../modifiers/skeleton.js\";\nimport * as Vampire from \"../modifiers/vampire.js\";\nimport * as Zombie from \"../modifiers/zombie.js\";\nimport * as Animals from \"./animals.js\";\nimport * as Demonic from \"./demonic.js\";\nimport * as Elementals from \"./elementals.js\";\nimport * as Insects from \"./insects.js\";\nimport * as Magical from \"./magical.js\";\nimport * as Monstrosities from \"./monstrosities.js\";\nimport * as Oozes from \"./oozes.js\";\nimport * as Undead from \"./undead.js\";\n\nexport function all(): Creature[] {\n  let result: Creature[] = [];\n\n  result = result.concat(Animals.all());\n\n  let undeadVariants: Creature[] = [];\n\n  for (let i = 0; i < result.length; i++) {\n    undeadVariants.push(Skeletal.modify(result[i]));\n    undeadVariants.push(Vampire.modify(result[i]));\n    undeadVariants.push(Zombie.modify(result[i]));\n  }\n\n  result = result.concat(undeadVariants);\n  result = result.concat(Demonic.all());\n  result = result.concat(Elementals.all());\n  result = result.concat(Insects.all());\n  result = result.concat(Magical.all());\n  result = result.concat(Monstrosities.all());\n  result = result.concat(Oozes.all());\n  result = result.concat(Undead.all());\n\n  return result;\n}\n","\"use strict\";\n\nimport type Mob from \"./mob.js\";\n\nexport function hasAllTagsIn(tags: string[], mobs: Mob[]): Mob[] {\n  let result = [];\n\n  for (let i = 0; i < mobs.length; i++) {\n    let valid = true;\n    for (let t = 0; t < tags.length; t++) {\n      if (!mobs[i].tags.includes(tags[t])) {\n        valid = false;\n        break;\n      }\n    }\n    if (valid === true) {\n      result.push(mobs[i]);\n    }\n  }\n\n  return result;\n}\n\nexport function hasAnyTagIn(tags: string[], mobs: Mob[]): Mob[] {\n  let result = [];\n\n  for (let i = 0; i < mobs.length; i++) {\n    let valid = false;\n    for (let t = 0; t < tags.length; t++) {\n      if (mobs[i].tags.includes(tags[t])) {\n        valid = true;\n        break;\n      }\n    }\n    if (valid === true) {\n      result.push(mobs[i]);\n    }\n  }\n\n  return result;\n}\n\nexport function hasCreatureType(creatureType: string, mobs: Mob[]): Mob[] {\n  let result = [];\n\n  for (let i = 0; i < mobs.length; i++) {\n    if (mobs[i].creatureTypes.includes(creatureType)) {\n      result.push(mobs[i]);\n    }\n  }\n\n  return result;\n}\n\nexport function hasEnvironment(environment: string, mobs: Mob[]): Mob[] {\n  let result = [];\n\n  for (let i = 0; i < mobs.length; i++) {\n    if (mobs[i].environments.includes(environment)) {\n      result.push(mobs[i]);\n    }\n  }\n\n  return result;\n}\n\nexport function hasNoTagIn(tags: string[], mobs: Mob[]): Mob[] {\n  let result = [];\n\n  for (let i = 0; i < mobs.length; i++) {\n    let valid = true;\n    for (let t = 0; t < tags.length; t++) {\n      if (mobs[i].tags.includes(tags[t])) {\n        valid = false;\n        break;\n      }\n    }\n    if (valid === true) {\n      result.push(mobs[i]);\n    }\n  }\n\n  return result;\n}\n","\"use strict\";\n\nimport type Mob from \"./mob.js\";\nimport * as Mobs from \"./mobs.js\";\n\nexport default class MobFilter {\n  withAllTags: string[];\n  withAnyTag: string[];\n  withCreatureType: string;\n  withEnvironment: string;\n  withNoTags: string[];\n\n  constructor(\n    withAllTags: string[],\n    withAnyTag: string[],\n    withCreatureType: string,\n    withEnvironment: string,\n    withNoTags: string[],\n  ) {\n    this.withAllTags = withAllTags;\n    this.withAnyTag = withAnyTag;\n    this.withCreatureType = withCreatureType;\n    this.withEnvironment = withEnvironment;\n    this.withNoTags = withNoTags;\n  }\n\n  apply(mobs: Mob[]): Mob[] {\n    let result = mobs;\n\n    if (this.withAllTags.length > 0) {\n      result = Mobs.hasAllTagsIn(this.withAllTags, result);\n    }\n\n    if (this.withAnyTag.length > 0) {\n      result = Mobs.hasAnyTagIn(this.withAnyTag, result);\n    }\n\n    if (this.withCreatureType != \"\") {\n      result = Mobs.hasCreatureType(this.withCreatureType, result);\n    }\n\n    if (this.withEnvironment != \"\") {\n      result = Mobs.hasEnvironment(this.withEnvironment, result);\n    }\n\n    if (this.withNoTags.length > 0) {\n      result = Mobs.hasNoTagIn(this.withNoTags, result);\n    }\n\n    return result;\n  }\n}\n","\"use strict\";\n\nimport Archetype from \"../archetypes/archetype.js\";\nimport MobFilter from \"../mobs/filter.js\";\n\nexport default class EncounterGroupTemplate {\n  name: string;\n  threatLevel: number;\n  isSentient: boolean;\n  archetypes: Archetype[];\n  filter: MobFilter;\n  minNumber: number;\n  maxNumber: number;\n\n  constructor(\n    name: string,\n    threatLevel: number,\n    isSentient: boolean,\n    archetypes: Archetype[],\n    filter: MobFilter,\n    minNumber: number,\n    maxNumber: number,\n  ) {\n    this.name = name;\n    this.threatLevel = threatLevel;\n    this.isSentient = isSentient;\n    this.archetypes = archetypes;\n    this.filter = filter;\n    this.minNumber = minNumber;\n    this.maxNumber = maxNumber;\n  }\n}\n","\"use strict\";\n\nimport EncounterGroupTemplate from \"./grouptemplate.js\";\n\nexport default class EncounterTemplate {\n  name: string;\n  threatLevel: number;\n  groupTemplates: EncounterGroupTemplate[];\n  tags: string[];\n  commonality: number;\n\n  constructor(\n    name: string,\n    threatLevel: number,\n    groupTemplates: EncounterGroupTemplate[],\n    tags: string[],\n    commonality: number,\n  ) {\n    this.name = name;\n    this.threatLevel = threatLevel;\n    this.groupTemplates = groupTemplates;\n    this.tags = tags;\n    this.commonality = commonality;\n  }\n}\n","\"use strict\";\n\nimport Creature from \"../creatures/creature.js\";\nimport * as FantasyCreatures from \"../creatures/fantasy/all.js\";\nimport * as FantasySpecies from \"../species/fantasy.js\";\nimport type Species from \"../species/species.js\";\nimport EncounterTemplate from \"./template.js\";\n\nexport default class EncounterGeneratorConfig {\n  isHostile: boolean;\n  template: EncounterTemplate | null;\n  environment: string;\n  sentientOptions: Species[];\n  creatureOptions: Creature[];\n  minThreatLevel: number;\n  maxThreatLevel: number;\n\n  constructor() {\n    this.isHostile = true;\n    this.environment = \"forest\";\n    this.template = null;\n    this.sentientOptions = FantasySpecies.all();\n    this.creatureOptions = FantasyCreatures.all();\n    this.minThreatLevel = 1;\n    this.maxThreatLevel = 4;\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport * as _ from \"lodash\";\nimport random from \"random\";\nimport Archetype from \"../archetypes/archetype.js\";\nimport CharacterGenerator from \"../characters/generator.js\";\nimport * as PremadeConfigs from \"../characters/premadeconfigs.js\";\nimport MobGroup from \"../mobs/group.js\";\nimport type Mob from \"../mobs/mob.js\";\nimport * as CommonSpecies from \"../species/common.js\";\nimport Encounter from \"./encounter.js\";\nimport EncounterGeneratorConfig from \"./generatorconfig.js\";\n\nexport default class EncounterGenerator {\n  config: EncounterGeneratorConfig;\n\n  generate(): Encounter {\n    let mobGroups: MobGroup[] = [];\n\n    if (this.config.template === null) {\n      throw new Error(\"EncounterGenerator requires a template.\");\n    }\n\n    for (let i = 0; i < this.config.template.groupTemplates.length; i++) {\n      let mobs: Mob[] = [];\n      let t = this.config.template.groupTemplates[i];\n      let amount = random.int(t.minNumber, t.maxNumber);\n\n      let options = [];\n      let unfilteredOptions = [];\n\n      if (t.isSentient) {\n        unfilteredOptions = _.cloneDeep(this.config.sentientOptions);\n      } else {\n        unfilteredOptions = _.cloneDeep(this.config.creatureOptions);\n      }\n\n      let tags = t.filter.withAllTags.concat(t.filter.withAnyTag);\n      if (tags.includes(\"undead\")) {\n        let skeletonOptions = unfilteredOptions.concat(\n          CommonSpecies.getSkeletonVariants(unfilteredOptions),\n        );\n        let vampireOptions = unfilteredOptions.concat(\n          CommonSpecies.getVampireVariants(unfilteredOptions),\n        );\n        let zombieOptions = unfilteredOptions.concat(\n          CommonSpecies.getZombieVariants(unfilteredOptions),\n        );\n        unfilteredOptions = unfilteredOptions.concat(skeletonOptions);\n        unfilteredOptions = unfilteredOptions.concat(vampireOptions);\n        unfilteredOptions = unfilteredOptions.concat(zombieOptions);\n      } else if (tags.includes(\"skeleton\")) {\n        let skeletonOptions = unfilteredOptions.concat(\n          CommonSpecies.getSkeletonVariants(unfilteredOptions),\n        );\n        unfilteredOptions = unfilteredOptions.concat(skeletonOptions);\n      } else if (tags.includes(\"vampire\")) {\n        let vampireOptions = unfilteredOptions.concat(\n          CommonSpecies.getVampireVariants(unfilteredOptions),\n        );\n        unfilteredOptions = unfilteredOptions.concat(vampireOptions);\n      } else if (tags.includes(\"zombie\")) {\n        let zombieOptions = unfilteredOptions.concat(\n          CommonSpecies.getZombieVariants(unfilteredOptions),\n        );\n        unfilteredOptions = unfilteredOptions.concat(zombieOptions);\n      }\n      options = t.filter.apply(unfilteredOptions);\n\n      if (options.length === 0) {\n        console.error(`No options for filter`, t.filter);\n        console.debug(`Used options`, unfilteredOptions);\n      }\n\n      if (t.isSentient) {\n        mobs = generateSentientMobs(options, t.archetypes, amount);\n      } else {\n        mobs = generateCreatureMobs(options, amount);\n      }\n\n      mobGroups.push(new MobGroup(t.name, mobs));\n    }\n\n    return new Encounter(mobGroups);\n  }\n}\n\nfunction generateCreatureMobs(creatureOptions: Mob[], amount: number): Mob[] {\n  let creatureType = RND.item(creatureOptions);\n  let creatures = [];\n\n  for (let i = 0; i < amount; i++) {\n    let creature = _.cloneDeep(creatureType);\n    let attitude = RND.item(creatureType.behaviors);\n    creature.summary = attitude;\n    creatures.push(creature);\n  }\n  return creatures;\n}\n\nfunction generateSentientMobs(\n  speciesOptions: Mob[],\n  archetypes: Archetype[],\n  amount: number,\n): Mob[] {\n  let species = RND.item(speciesOptions);\n  let characters = [];\n  let charGenConfig = PremadeConfigs.getFantasy();\n  charGenConfig.speciesOptions = [species];\n  let charGen = new CharacterGenerator(charGenConfig);\n\n  for (let i = 0; i < amount; i++) {\n    let archetype = RND.item(archetypes);\n    let c = charGen.generate();\n    c.archetype = archetype;\n    c.abilities = c.abilities.concat(archetype.abilities);\n    c.threatLevel += archetype.threatLevel;\n    c.summary = `${c.gender.name} ${c.species.adjective} ${c.archetype.name}`;\n    for (let m = 0; m < c.archetype.itemGenerators.length; m++) {\n      c.carried.push(c.archetype.itemGenerators[m].generate());\n    }\n    characters.push(c);\n  }\n\n  return characters;\n}\n","\"use strict\";\n\nexport default class Vertex {\n  x: number;\n  y: number;\n\n  constructor(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n\n  equals(b: Vertex): boolean {\n    if (this.x == b.x && this.y == b.y) {\n      return true;\n    }\n\n    return false;\n  }\n\n  in(v: Vertex[]): boolean {\n    for (let i = 0; i < v.length; i++) {\n      if (this.equals(v[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n}\n","\"use strict\";\n\nimport Vertex from \"./vertex.js\";\n\nexport default class Edge {\n  a: Vertex;\n  b: Vertex;\n\n  equals(edge: Edge): boolean {\n    if (this.a.x == edge.a.x && this.a.y == edge.a.y && this.b.x == edge.b.x && this.b.y == edge.b.y) {\n      return true;\n    } else if (this.a.x == edge.b.x && this.a.y == edge.b.y && this.b.x == edge.a.x && this.b.y == edge.a.y) {\n      return true;\n    }\n\n    return false;\n  }\n\n  getMidpoint(): Vertex {\n    let x = (this.a.x + this.b.x) / 2;\n    let y = (this.a.y + this.b.y) / 2;\n\n    return new Vertex(x, y);\n  }\n\n  getSlope(): number {\n    return (this.b.y - this.a.y) / (this.b.x - this.a.x);\n  }\n}\n","\"use strict\";\n\nimport Vertex from \"./vertex.js\";\n\nexport function distance(a: Vertex, b: Vertex) {\n  let d = Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n\n  return d;\n}\n","\"use strict\";\n\nexport default class Lock {\n  id: string;\n  name: string;\n  description: string;\n  objectId: number; // numeric id of the thing that this locks\n  strength: number;\n  isLocked: boolean;\n\n  constructor() {\n    this.id = \"\";\n    this.name = \"a lock\";\n    this.description = \"a lock\";\n    this.objectId = -1;\n    this.strength = 1;\n    this.isLocked = true;\n  }\n}\n","\"use strict\";\n\nimport Vertex from \"../geometry/vertex.js\";\nimport Lock from \"./lock.js\";\n\nexport default class Door {\n  room1: number;\n  room2: number;\n  tile: number;\n  vertex: Vertex;\n  description: string;\n  lock: Lock | null;\n  isSecret: boolean;\n\n  constructor() {\n    this.lock = null;\n    this.isSecret = false;\n  }\n}\n","\"use strict\";\n\nexport default class RoomFeature {\n  name: string;\n  description: string;\n  secret: string;\n  isContainer: boolean;\n\n  constructor(name: string, description: string, secret: string, isContainer: boolean) {\n    this.name = name;\n    this.description = description;\n    this.secret = secret;\n    this.isContainer = isContainer;\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport RoomFeature from \"./feature.js\";\n\nexport default class RoomFeatureGenerator {\n  name: string;\n  descriptionOptions: string[];\n  secretOptions: string[];\n  isContainer: boolean;\n\n  constructor(\n    name: string,\n    descriptionOptions: string[],\n    secretOptions: string[],\n    isContainer: boolean,\n  ) {\n    this.name = name;\n    this.descriptionOptions = descriptionOptions;\n    this.secretOptions = secretOptions;\n    this.isContainer = isContainer;\n  }\n\n  generate(): RoomFeature {\n    let secret = \"\";\n\n    if (RND.simple(100) > 70 && this.secretOptions.length > 0) {\n      secret = RND.item(this.secretOptions);\n    }\n\n    return new RoomFeature(this.name, RND.item(this.descriptionOptions), secret, this.isContainer);\n  }\n}\n","\"use strict\";\n\nimport Edge from \"./edge.js\";\nimport Vertex from \"./vertex.js\";\n\nexport default class Polygon {\n  vertices: Vertex[];\n  edges: Edge[];\n\n  edgesFromVertices(): Edge[] {\n    let edges = [];\n\n    for (let i = 0; i < this.vertices.length; i++) {\n      let edge = new Edge();\n      edge.a = this.vertices[i];\n      if (i < this.vertices.length - 1) {\n        edge.b = this.vertices[i + 1];\n      } else {\n        edge.b = this.vertices[0];\n      }\n      edges.push(edge);\n    }\n\n    return edges;\n  }\n}\n","\"use strict\";\n\nexport const STONE = 0;\nexport const ROOM = 1;\nexport const V_DOOR = 2;\nexport const H_DOOR = 3;\nexport const V_S_DOOR = 4;\nexport const H_S_DOOR = 5;\n","\"use strict\";\n\nimport Encounter from \"../../encounters/encounter.js\";\nimport Edge from \"../../geometry/edge.js\";\nimport Polygon from \"../../geometry/polygon.js\";\nimport Vertex from \"../../geometry/vertex.js\";\nimport * as Tiles from \"../tiles.js\";\nimport RoomFeature from \"./features/feature.js\";\nimport RoomTheme from \"./themes/theme.js\";\n\nexport default class Room {\n  id: number;\n  name: string;\n  description: string;\n  secrets: string;\n  shape: Polygon;\n  tileMesh: Polygon[];\n  tiles: number[][];\n  vertices: Vertex[];\n  minX: number;\n  minY: number;\n  maxX: number;\n  maxY: number;\n  center: Vertex;\n  lightLevel: number;\n  features: RoomFeature[];\n  treasureCaches: string[];\n  encounters: Encounter[];\n  theme: RoomTheme;\n  doors: number[];\n\n  constructor() {\n    this.tileMesh = [];\n    this.encounters = [];\n    this.features = [];\n    this.doors = [];\n    this.description = \"\";\n    this.secrets = \"\";\n    this.tiles = [];\n    this.treasureCaches = [];\n    this.vertices = [];\n    this.lightLevel = 0;\n  }\n\n  calculateTileMesh() {\n    // deprecated\n    let tiles = [];\n\n    let minY = this.minY;\n    let maxY = this.maxY;\n    let minX = this.minX;\n    let maxX = this.maxX;\n\n    for (let y = minY; y < maxY; y++) {\n      for (let x = minX; x < maxX; x++) {\n        let n = new Polygon();\n        n.vertices = [\n          new Vertex(x - 0.5, y - 0.5),\n          new Vertex(x + 0.5, y - 0.5),\n          new Vertex(x + 0.5, y + 0.5),\n          new Vertex(x - 0.5, y + 0.5),\n        ];\n        n.edges = n.edgesFromVertices();\n        tiles.push(n);\n      }\n    }\n\n    this.tileMesh = tiles;\n  }\n\n  calculateTiles(mapWidth: number, mapHeight: number) {\n    let newTiles: number[][] = [];\n    for (let y = 0; y < mapHeight; y++) {\n      let row: number[] = [];\n      newTiles[y] = row;\n      for (let x = 0; x < mapWidth; x++) {\n        newTiles[y][x] = Tiles.STONE;\n      }\n    }\n\n    for (let i = 0; i < this.vertices.length; i++) {\n      if (this.vertices[i].y > newTiles.length - 1) {\n        console.debug(\n          `Vertices outside the bounds of the map: ${newTiles.length} newTiles.length, ${\n            this.vertices[i].y\n          } this.vertices[i].y`,\n          this.vertices,\n        );\n      }\n      newTiles[this.vertices[i].y][this.vertices[i].x] = Tiles.ROOM;\n    }\n\n    this.tiles = newTiles;\n  }\n\n  calculateVertices() {\n    let v = [];\n\n    for (let y = 0; y < this.tiles.length; y++) {\n      for (let x = 0; x < this.tiles[y].length; x++) {\n        if (this.tiles[y][x] != Tiles.STONE) {\n          v.push(new Vertex(x, y));\n        }\n      }\n    }\n\n    this.vertices = v;\n  }\n\n  getTileEdges(): Edge[] {\n    // deprecated\n    let result = [];\n\n    for (let i = 0; i < this.tileMesh.length; i++) {\n      for (let j = 0; j < this.tileMesh[i].edges.length; j++) {\n        result.push(this.tileMesh[i].edges[j]);\n      }\n    }\n\n    return result;\n  }\n\n  getCenter(): Vertex {\n    let x = this.minX + (this.maxX - this.minX) / 2;\n    let y = this.minY + (this.maxY - this.minY) / 2;\n\n    return new Vertex(x, y);\n  }\n\n  getMinX(): number {\n    let result = this.vertices[0].x;\n\n    for (let i = 0; i < this.vertices.length; i++) {\n      if (this.vertices[i].x < result) {\n        result = this.vertices[i].x;\n      }\n    }\n\n    return result;\n  }\n\n  getMaxX(): number {\n    let result = this.vertices[0].x;\n\n    for (let i = 0; i < this.vertices.length; i++) {\n      if (this.vertices[i].x > result) {\n        result = this.vertices[i].x;\n      }\n    }\n\n    return result;\n  }\n\n  getMinY(): number {\n    let result = this.vertices[0].y;\n\n    for (let i = 0; i < this.vertices.length; i++) {\n      if (this.vertices[i].y < result) {\n        result = this.vertices[i].y;\n      }\n    }\n\n    return result;\n  }\n\n  getMaxY(): number {\n    let result = this.vertices[0].y;\n\n    for (let i = 0; i < this.vertices.length; i++) {\n      if (this.vertices[i].y > result) {\n        result = this.vertices[i].y;\n      }\n    }\n\n    return result;\n  }\n\n  getHeight(): number {\n    return this.maxY - this.minY;\n  }\n\n  getWidth(): number {\n    return this.maxX - this.minX;\n  }\n\n  moveBy(mx: number, my: number, mapWidth: number, mapHeight: number) {\n    for (let i = 0; i < this.vertices.length; i++) {\n      this.vertices[i].x += mx;\n      this.vertices[i].y += my;\n    }\n\n    this.calculateTiles(mapWidth, mapHeight);\n    this.minX = this.getMinX();\n    this.maxX = this.getMaxX();\n    this.minY = this.getMinY();\n    this.maxY = this.getMaxY();\n    this.center = this.getCenter();\n  }\n\n  moveTo(nx: number, ny: number, mapWidth: number, mapHeight: number) {\n    const diffX = nx - this.minX;\n    const diffY = ny - this.minY;\n\n    for (let i = 0; i < this.vertices.length; i++) {\n      this.vertices[i].x += diffX;\n      this.vertices[i].y += diffY;\n    }\n\n    this.calculateTiles(mapWidth, mapHeight);\n    this.minX = this.getMinX();\n    this.maxX = this.getMaxX();\n    this.minY = this.getMinY();\n    this.maxY = this.getMaxY();\n    this.center = this.getCenter();\n  }\n}\n","\"use strict\";\n\nimport Room from \"../room.js\";\n\nexport default class RoomMutator {\n  name: string;\n  mutate: (room: Room) => Room;\n  tags: string[];\n\n  constructor(name: string, mutate: (room: Room) => Room, tags: string[]) {\n    this.name = name;\n    this.mutate = mutate;\n    this.tags = tags;\n  }\n}\n","\"use strict\";\n\nimport RoomFeatureGenerator from \"../features/featuregenerator.js\";\nimport Mutator from \"../mutators/mutator.js\";\n\nexport default class RoomTheme {\n  name: string;\n  allowedEnvironments: string[];\n  minWidth: number;\n  maxWidth: number;\n  minHeight: number;\n  maxHeight: number;\n  flooringOptions: string[];\n  dressingGenerators: RoomFeatureGenerator[];\n  featureGenerators: RoomFeatureGenerator[];\n  mutators: Mutator[];\n  shapes: string[];\n  tags: string[];\n  commonality: number;\n\n  constructor(\n    name: string,\n    allowedEnvironments: string[],\n    minWidth: number,\n    minHeight: number,\n    maxWidth: number,\n    maxHeight: number,\n    flooringOptions: string[],\n    dressingGenerators: RoomFeatureGenerator[],\n    featureGenerators: RoomFeatureGenerator[],\n    mutators: Mutator[],\n    shapes: string[],\n    tags: string[],\n    commonality: number,\n  ) {\n    this.name = name;\n    this.allowedEnvironments = allowedEnvironments;\n    this.minWidth = minWidth;\n    this.maxWidth = maxWidth;\n    this.minHeight = minHeight;\n    this.maxHeight = maxHeight;\n    this.flooringOptions = flooringOptions;\n    this.dressingGenerators = dressingGenerators;\n    this.featureGenerators = featureGenerators;\n    this.mutators = mutators;\n    this.shapes = shapes;\n    this.tags = tags;\n    this.commonality = commonality;\n  }\n}\n","\"use strict\";\n\nimport RoomTheme from \"./themes/theme.js\";\n\nexport default class RoomRequirement {\n  theme: RoomTheme;\n  minCount: number;\n  maxCount: number;\n\n  constructor(theme: RoomTheme, minCount: number, maxCount: number) {\n    this.theme = theme;\n    this.minCount = minCount;\n    this.maxCount = maxCount;\n  }\n}\n","\"use strict\";\n\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport EncounterTemplate from \"../encounters/template.js\";\nimport type Species from \"../species/species.js\";\nimport RoomRequirement from \"./rooms/roomrequirement.js\";\nimport RoomTheme from \"./rooms/themes/theme.js\";\n\nexport default class DungeonTheme {\n  name: string;\n  mainEnvironment: string;\n  nameGenerator: MUN.GenericNameGenerator;\n  weakEncounterTemplates: EncounterTemplate[];\n  strongEncounterTemplates: EncounterTemplate[];\n  bossEncounterTemplates: EncounterTemplate[];\n  sentientOptions: Species[];\n  flooringOptions: string[];\n  roomThemes: RoomTheme[];\n  requiredRooms: RoomRequirement[];\n\n  constructor(\n    name: string,\n    mainEnvironment: string,\n    nameGenerator: MUN.GenericNameGenerator,\n    weak: EncounterTemplate[],\n    strong: EncounterTemplate[],\n    boss: EncounterTemplate[],\n    sentientOptions: Species[],\n    flooringOptions: string[],\n    roomThemes: RoomTheme[],\n    requiredRooms: RoomRequirement[],\n  ) {\n    this.name = name;\n    this.mainEnvironment = mainEnvironment;\n    this.nameGenerator = nameGenerator;\n    this.weakEncounterTemplates = weak;\n    this.strongEncounterTemplates = strong;\n    this.bossEncounterTemplates = boss;\n    this.sentientOptions = sentientOptions; // TODO: figure out if this is still in use\n    this.flooringOptions = flooringOptions;\n    this.roomThemes = roomThemes;\n    this.requiredRooms = requiredRooms;\n  }\n}\n","\"use strict\";\n\nimport Door from \"./door.js\";\nimport DungeonTheme from \"./dungeontheme.js\";\nimport Room from \"./rooms/room.js\";\n\nexport default class Dungeon {\n  name: string;\n  description: string;\n  theme: DungeonTheme;\n  environment: string;\n  totalThreatLevel: number;\n  averageThreatLevel: number;\n  rooms: Room[];\n  doors: Door[];\n  tiles: number[][];\n\n  constructor() {\n    this.doors = [];\n    this.rooms = [];\n    this.totalThreatLevel = 0;\n  }\n}\n","\"use strict\";\n\nimport RoomTheme from \"./themes/theme.js\";\n\nexport default class RoomGeneratorConfig {\n  mapHeight: number;\n  mapWidth: number;\n  theme: RoomTheme;\n\n  constructor(mapWidth: number, mapHeight: number, theme: RoomTheme) {\n    this.mapHeight = mapHeight;\n    this.mapWidth = mapWidth;\n    this.theme = theme;\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport * as Words from \"@ironarachne/words\";\nimport random from \"random\";\nimport Vertex from \"../../geometry/vertex.js\";\nimport Room from \"./room.js\";\nimport RoomGeneratorConfig from \"./roomgeneratorconfig.js\";\n\nexport default class RoomGenerator {\n  config: RoomGeneratorConfig;\n\n  constructor(config: RoomGeneratorConfig) {\n    this.config = config;\n  }\n\n  generate(): Room {\n    let width = random.int(this.config.theme.minWidth, this.config.theme.maxWidth);\n    let height = random.int(this.config.theme.minHeight, this.config.theme.maxHeight);\n    let x = random.int(2, this.config.mapWidth - width - 3);\n    let y = random.int(2, this.config.mapHeight - height - 3);\n\n    let room = new Room();\n    room.name = this.config.theme.name; // TODO: maybe make this a name generator\n    room.theme = this.config.theme;\n\n    let shape = RND.item(this.config.theme.shapes);\n\n    if (shape == \"rectangular\") {\n      room = getRectangularRoom(x, y, width, height, room);\n      room.description = RND.item([\n        `This rectangular room is ${width * 5}' wide and ${height * 5}' long.`,\n        `This ${room.name} is ${width * 5}' wide and ${height * 5}' long.`,\n      ]);\n    } else if (shape == \"square\") {\n      room = getSquareRoom(x, y, width, room);\n      room.description = RND.item([\n        `This square room is ${width * 5}' wide and ${height * 5}' long.`,\n        `This room is a square ${width * 5}' wide and ${height * 5}' long.`,\n        `This ${room.name} is ${width * 5}' wide and ${height * 5}' long.`,\n      ]);\n    } else if (shape == \"cavern\") {\n      room = getCavernRoom(x, y, width, height, room);\n      room.description = RND.item([`This is a cavern.`]);\n    } else if (shape == \"corridor\") {\n      room = getCorridor(x, y, width, height, room);\n      room.description = RND.item([`This is a corridor.`]);\n    }\n\n    if (RND.simple(100) > 70) {\n      let flooring = RND.item(room.theme.flooringOptions);\n      room.description += RND.item([\n        ` The floor is ${flooring}.`,\n        ` ${Words.capitalize(flooring)} flooring is cracked in places.`,\n        ` The ${flooring} flooring is cracked in places.`,\n        ` The ${flooring} flooring is broken in places.`,\n      ]);\n    }\n\n    for (let i = 0; i < this.config.theme.featureGenerators.length; i++) {\n      let feature = this.config.theme.featureGenerators[i].generate();\n      room.features.push(feature);\n      if (feature.secret != \"\") {\n        room.secrets += feature.secret + \" \";\n      }\n    }\n\n    if (this.config.theme.dressingGenerators.length > 0 && RND.simple(100) > 70) {\n      let dGen = RND.item(this.config.theme.dressingGenerators);\n      room.features.push(dGen.generate());\n    }\n\n    room.minX = x;\n    room.maxX = room.getMaxX();\n    room.minY = y;\n    room.maxY = room.getMaxY();\n    room.center = room.getCenter();\n    room.calculateTiles(this.config.mapWidth, this.config.mapHeight);\n\n    return room;\n  }\n}\n\n// TODO: Use a different algorithm for generating caverns\nfunction getCavernRoom(ox: number, oy: number, width: number, height: number, room: Room): Room {\n  // in this instance, we're using x,y as the top left corner of a bounding box\n  let start = new Vertex(Math.floor((ox + width) / 2), Math.floor((oy + height) / 2));\n  let steps = 20;\n\n  const maxX = ox + width;\n  const maxY = oy + height;\n\n  room.vertices.push(start);\n\n  let v = new Vertex(start.x, start.y);\n\n  for (let i = 0; i < steps; i++) {\n    let x = v.x;\n    let y = v.y;\n\n    if (RND.simple(100) > 50) {\n      let mx = random.int(-1, 1);\n      x += mx;\n\n      if (x > maxX) {\n        x = maxX;\n      } else if (x < ox) {\n        x = ox;\n      }\n    } else {\n      let my = random.int(-1, 1);\n      y += my;\n\n      if (y > maxY) {\n        y = maxY;\n      } else if (y < oy) {\n        y = oy;\n      }\n    }\n\n    let nv = new Vertex(x, y);\n    let alreadyThere = false;\n    for (let j = 0; j < room.vertices.length; j++) {\n      if (room.vertices[j].equals(nv)) {\n        alreadyThere = true;\n        break;\n      }\n    }\n    if (!alreadyThere) {\n      room.vertices.push(nv);\n    }\n\n    v.x = x;\n    v.y = y;\n  }\n\n  return room;\n}\n\n// TODO: Get rid of most dead ends, or try connecting directly to two other rooms\nfunction getCorridor(x: number, y: number, width: number, height: number, room: Room): Room {\n  let length = random.int(Math.max(3, Math.floor((width + height - 2) / 2)), width + height - 2);\n\n  let nx = random.int(x, x + width - 1);\n  let ny = random.int(y, y + height - 1);\n\n  room.vertices.push(new Vertex(nx, ny));\n\n  let direction = RND.item([\n    new Vertex(-1, 0),\n    new Vertex(1, 0),\n    new Vertex(0, -1),\n    new Vertex(0, 1),\n  ]);\n\n  for (let i = 0; i < length; i++) {\n    let mx = nx + direction.x;\n    let my = ny + direction.y;\n\n    if (mx >= width + x || mx <= x) {\n      direction.x = 0;\n      direction.y = RND.item([-1, 1]);\n    } else if (my >= height + y || my <= y) {\n      direction.y = 0;\n      direction.x = RND.item([-1, 1]);\n    } else {\n      nx = mx;\n      ny = my;\n\n      let nv = new Vertex(nx, ny);\n\n      if (nv.in(room.vertices)) {\n        continue;\n      }\n\n      room.vertices.push(nv);\n\n      if (RND.simple(100) > 90) {\n        if (direction.y != 0) {\n          direction.x = direction.y;\n          direction.y = 0;\n        } else {\n          direction.y = direction.x;\n          direction.x = 0;\n        }\n      }\n    }\n  }\n\n  return room;\n}\n\nfunction getRectangularRoom(x: number, y: number, width: number, height: number, room: Room): Room {\n  for (let i = y; i < y + height; i++) {\n    for (let j = x; j < x + width; j++) {\n      room.vertices.push(new Vertex(j, i));\n    }\n  }\n\n  room.description = `This room is ${(width + 1) * 5}' wide and ${(height + 1) * 5}' long.`;\n\n  return room;\n}\n\nfunction getSquareRoom(x: number, y: number, size: number, room: Room): Room {\n  for (let i = y; i < y + size; i++) {\n    for (let j = x; j < x + size; j++) {\n      room.vertices.push(new Vertex(j, i));\n    }\n  }\n\n  room.description = `This square room is ${(size + 1) * 5}' wide and ${(size + 1) * 5}' long.`;\n\n  return room;\n}\n","\"use strict\";\n\nimport * as Geometry from \"../../geometry/geometry.js\";\nimport Room from \"./room.js\";\nimport RoomGenerator from \"./roomgenerator.js\";\nimport RoomGeneratorConfig from \"./roomgeneratorconfig.js\";\nimport RoomTheme from \"./themes/theme.js\";\n\nexport function distanceToNearestOtherRoomTile(room: Room, rooms: Room[]): number {\n  let distance = 10000000;\n\n  for (let i = 0; i < rooms.length; i++) {\n    for (let j = 0; j < rooms[i].vertices.length; j++) {\n      for (let k = 0; k < room.vertices.length; k++) {\n        let d = Geometry.distance(rooms[i].vertices[j], room.vertices[k]);\n        if (d <= distance) {\n          distance = d;\n        }\n      }\n    }\n  }\n\n  return distance;\n}\n\n// TODO: make this more performant\nexport function doesRoomCollide(room: Room, rooms: Room[]): boolean {\n  for (let i = 0; i < rooms.length; i++) {\n    for (let j = 0; j < rooms[i].vertices.length; j++) {\n      for (let k = 0; k < room.vertices.length; k++) {\n        if (room.vertices[k].equals(rooms[i].vertices[j])) {\n          return true;\n        }\n      }\n    }\n  }\n\n  return false;\n}\n\nexport function doesRoomTouch(room: Room, rooms: Room[]): boolean {\n  for (let i = 0; i < rooms.length; i++) {\n    for (let j = 0; j < rooms[i].vertices.length; j++) {\n      for (let k = 0; k < room.vertices.length; k++) {\n        if (Geometry.distance(room.vertices[k], rooms[i].vertices[j]) == 1) {\n          return true;\n        }\n      }\n    }\n  }\n\n  return false;\n}\n\nexport function getNearestRoom(room: Room, rooms: Room[]): Room {\n  let distance = 10000000;\n  let n = rooms[0];\n\n  for (let i = 0; i < rooms.length; i++) {\n    for (let j = 0; j < rooms[i].vertices.length; j++) {\n      for (let k = 0; k < room.vertices.length; k++) {\n        let d = Geometry.distance(rooms[i].vertices[j], room.vertices[k]);\n        if (d <= distance) {\n          distance = d;\n          n = rooms[i];\n        }\n      }\n    }\n  }\n\n  return n;\n}\n\n// Get all rooms that have a tile exactly two spaces away from a tile in this room\nexport function getNeighboringRooms(room: Room, rooms: Room[]): Room[] {\n  let result = [];\n  let ids: number[] = [];\n\n  for (let i = 0; i < rooms.length; i++) {\n    // for each other room...\n    for (let j = 0; j < room.vertices.length; j++) {\n      // go through this room's tiles...\n      for (let k = 0; k < rooms[i].vertices.length; k++) {\n        // and check the distance from it to each tile in the other room\n        let d = Geometry.distance(rooms[i].vertices[k], room.vertices[j]);\n        // if it's 2 tiles away, add the room to the result if it's not the compared room and it's not already in the results\n        if (d <= 2 && !ids.includes(rooms[i].id) && rooms[i].id != room.id) {\n          ids.push(rooms[i].id);\n          result.push(rooms[i]);\n          break;\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function getPlaceableRoom(\n  mapWidth: number,\n  mapHeight: number,\n  theme: RoomTheme,\n  rooms: Room[],\n): Room | null {\n  let generation = true;\n  let maxX = mapWidth - 3;\n  let maxY = mapHeight - 3;\n  let roomGenConfig = new RoomGeneratorConfig(mapWidth, mapHeight, theme);\n  let roomGen = new RoomGenerator(roomGenConfig);\n  let room = roomGen.generate();\n  let roomAttempts = 0;\n  let roomAttemptLimit = 5;\n  let nx = room.minX + 1;\n  let ny = room.minY;\n\n  while (generation) {\n    if (\n      !doesRoomCollide(room, rooms)\n      && !doesRoomTouch(room, rooms)\n      && isRoomInRange(2, room, rooms)\n    ) {\n      generation = false;\n    } else if (roomAttempts <= roomAttemptLimit) {\n      nx += 1;\n\n      if (nx > maxX - room.getWidth()) {\n        nx = 2;\n        ny++;\n        if (ny > maxY - room.getHeight()) {\n          roomAttempts++;\n          nx = 2;\n          ny = 2;\n          continue;\n        }\n      }\n\n      room.moveTo(nx, ny, mapWidth, mapHeight);\n    } else if (roomAttempts > roomAttemptLimit) {\n      return null;\n    } else {\n      roomAttempts++;\n      room = roomGen.generate();\n      nx = room.minX + 1;\n      ny = room.minY;\n    }\n  }\n\n  return room;\n}\n\nexport function isRoomInRange(range: number, room: Room, rooms: Room[]): boolean {\n  if (distanceToNearestOtherRoomTile(room, rooms) == range) {\n    return true;\n  }\n\n  return false;\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport * as Words from \"@ironarachne/words\";\nimport Edge from \"../geometry/edge.js\";\nimport * as Geometry from \"../geometry/geometry.js\";\nimport Door from \"./door.js\";\nimport Dungeon from \"./dungeon.js\";\nimport Lock from \"./lock.js\";\nimport RoomFeature from \"./rooms/features/feature.js\";\nimport Room from \"./rooms/room.js\";\nimport * as Rooms from \"./rooms/rooms.js\";\nimport * as Tiles from \"./tiles.js\";\n\nexport function addDoor(room1: Room, room2: Room): Door {\n  let door = new Door();\n  let possibleEdges = [];\n\n  for (let i = 0; i < room1.vertices.length; i++) {\n    for (let j = 0; j < room2.vertices.length; j++) {\n      let nD = Geometry.distance(room1.vertices[i], room2.vertices[j]);\n      if (nD == 2) {\n        let e = new Edge();\n        e.a = room1.vertices[i];\n        e.b = room2.vertices[j];\n        possibleEdges.push(e);\n      }\n    }\n  }\n\n  let e: Edge = RND.item(possibleEdges);\n  door.vertex = e.getMidpoint();\n\n  if (e.getSlope() === 0) {\n    door.tile = Tiles.H_DOOR;\n  } else {\n    door.tile = Tiles.V_DOOR;\n  }\n\n  if (RND.simple(100) > 90) {\n    door.lock = new Lock();\n    door.lock.id = RND.randomString(24);\n  } else if (RND.simple(100) > 90) {\n    door.isSecret = true;\n    if (door.tile == Tiles.H_DOOR) {\n      door.tile = Tiles.H_S_DOOR;\n    } else {\n      door.tile = Tiles.V_S_DOOR;\n    }\n  }\n\n  door.room1 = room1.id;\n  door.room2 = room2.id;\n\n  let doorQuality = RND.item([\n    RND.item([\"rough\", \"decaying\", \"rotted\"]),\n    \"simple\",\n    \"plain\",\n    RND.item([\n      \"iron-trimmed\",\n      \"copper-trimmed\",\n      \"silver-trimmed\",\n      \"gold-trimmed\",\n      \"painted\",\n      \"carved\",\n      \"ornate\",\n    ]),\n  ]);\n\n  door.description = Words.article(doorQuality) + \" \" + doorQuality + \" door\";\n\n  return door;\n}\n\nexport function addDoorsToDungeon(dungeon: Dungeon): Dungeon {\n  for (let i = 0; i < dungeon.rooms.length; i++) {\n    let neighbors = Rooms.getNeighboringRooms(dungeon.rooms[i], dungeon.rooms);\n    let viable = [];\n\n    for (let j = 0; j < neighbors.length; j++) {\n      let existingDoor = false;\n      for (let k = 0; k < dungeon.rooms[i].doors.length; k++) {\n        let door = dungeon.doors[dungeon.rooms[i].doors[k]];\n        if (\n          (door.room1 == dungeon.rooms[i].id && door.room2 == neighbors[j].id)\n          || (door.room2 == dungeon.rooms[i].id && door.room1 == neighbors[j].id)\n        ) {\n          existingDoor = true;\n        }\n      }\n      if (!existingDoor) {\n        viable.push(neighbors[j]);\n      }\n    }\n\n    if (viable.length == 0) {\n      continue;\n    }\n\n    let r2 = RND.item(viable);\n    let door = addDoor(dungeon.rooms[i], r2);\n\n    if (r2.id == 0) {\n      door.isSecret = false;\n      if (dungeon.rooms[0].doors.length < 2) {\n        door.lock = null;\n      }\n    }\n\n    dungeon.doors.push(door);\n    let di = dungeon.doors.length - 1;\n    dungeon.rooms[i].doors.push(di);\n\n    let description1 = getDoorDescription(door, dungeon.rooms[i]);\n    let description2 = getDoorDescription(door, dungeon.rooms[r2.id]);\n\n    let secret1 = \"\";\n    let secret2 = \"\";\n\n    if (door.isSecret) {\n      let hiddenText = RND.item([\n        `${RND.item([\"It is\", \"It's\"])} hidden behind a tapestry.`,\n        `${\n          RND.item([\n            \"It is\",\n            \"It's\",\n          ])\n        } practically undetectable except for a thin seam visible only on close inspection.`,\n        `A tapestry obscures it.`,\n        `It cannot be opened from this side.`,\n        `A pile of ${RND.item([\"refuse\", \"debris\", \"trash\"])} obscures it.`,\n      ]);\n      if (RND.simple(100) > 50) {\n        secret2 = `${description2} ${hiddenText}`;\n        description2 = \"\";\n      } else {\n        secret1 = `${description1} ${hiddenText}`;\n        description1 = \"\";\n      }\n      dungeon.rooms[i].secrets += secret1;\n      dungeon.rooms[r2.id].secrets += secret2;\n    }\n\n    dungeon.rooms[i].features.push(new RoomFeature(\"door\", description1, secret1, false));\n    dungeon.rooms[r2.id].doors.push(di);\n    dungeon.rooms[r2.id].features.push(new RoomFeature(\"door\", description2, secret2, false));\n\n    dungeon.tiles = addDoorToTiles(door, dungeon.tiles);\n  }\n\n  return dungeon;\n}\n\nexport function addDoorToTiles(door: Door, tiles: number[][]): number[][] {\n  tiles[door.vertex.y][door.vertex.x] = door.tile;\n\n  return tiles;\n}\n\nexport function getDoorDescription(door: Door, room: Room): string {\n  let dir = \"\";\n\n  if (door.tile == Tiles.V_DOOR) {\n    if (door.vertex.y > room.center.y) {\n      if (door.vertex.x < room.center.x) {\n        dir = \"southwest\";\n      } else if (door.vertex.x > room.center.x) {\n        dir = \"southeast\";\n      } else {\n        dir = \"south\";\n      }\n    } else {\n      if (door.vertex.x < room.center.x) {\n        dir = \"northwest\";\n      } else if (door.vertex.x > room.center.x) {\n        dir = \"northeast\";\n      } else {\n        dir = \"north\";\n      }\n    }\n  } else {\n    if (door.vertex.x < room.center.x) {\n      if (door.vertex.y > room.center.y) {\n        dir = \"southwest\";\n      } else if (door.vertex.y < room.center.y) {\n        dir = \"northwest\";\n      } else {\n        dir = \"west\";\n      }\n    } else {\n      if (door.vertex.y > room.center.y) {\n        dir = \"southeast\";\n      } else if (door.vertex.y < room.center.y) {\n        dir = \"northeast\";\n      } else {\n        dir = \"east\";\n      }\n    }\n  }\n\n  let description = RND.item([\n    `There's ${door.description} in the ${dir}`,\n    `There is ${door.description} in the ${dir}`,\n    Words.capitalize(door.description) + ` lies in the ${dir}`,\n    Words.capitalize(door.description) + ` is in the ${dir}`,\n  ]);\n\n  if (door.lock != null) {\n    description += \". It is locked.\";\n  } else {\n    description += \".\";\n  }\n\n  return description;\n}\n","\"use strict\";\n\nimport Archetype from \"./archetype.js\";\n\nexport function byName(name: string, archetypes: Archetype[]): Archetype {\n  for (let i = 0; i < archetypes.length; i++) {\n    if (archetypes[i].name == name) {\n      return archetypes[i];\n    }\n  }\n\n  throw new Error(`Failed to find archetype \"${name}\"`);\n}\n\nexport function byTag(tag: string, archetypes: Archetype[]): Archetype[] {\n  let result = [];\n\n  for (let i = 0; i < archetypes.length; i++) {\n    if (archetypes[i].tags.includes(tag)) {\n      result.push(archetypes[i]);\n    }\n  }\n\n  return result;\n}\n\nexport function byThreatRange(\n  minThreatLevel: number,\n  maxThreatLevel: number,\n  archetypes: Archetype[],\n): Archetype[] {\n  let result = [];\n\n  for (let i = 0; i < archetypes.length; i++) {\n    if (\n      archetypes[i].threatLevel >= minThreatLevel\n      && archetypes[i].threatLevel <= maxThreatLevel\n    ) {\n      result.push(archetypes[i]);\n    }\n  }\n\n  return result;\n}\n","\"use strict\";\n\nimport Component from \"./components/component.js\";\nimport * as Components from \"./components/components.js\";\nimport type ItemMutator from \"./mutators/itemmutator.js\";\nimport * as Mutators from \"./mutators/mutators.js\";\nimport type Pattern from \"./patterns/pattern.js\";\n\nexport default class ItemGeneratorConfig {\n  pattern: Pattern;\n  components: Component[];\n  minValue: number;\n  maxValue: number;\n  minQuality: number;\n  maxQuality: number;\n  mutators: ItemMutator[];\n  useMutator: boolean;\n\n  constructor() {\n    this.components = Components.all();\n    this.minValue = 0;\n    this.maxValue = 0;\n    this.minQuality = 0;\n    this.maxQuality = 1;\n    this.mutators = Mutators.all();\n    this.useMutator = false;\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport ItemGenerator from \"./itemgenerator.js\";\nimport ItemGeneratorConfig from \"./itemgeneratorconfig.js\";\nimport * as Patterns from \"./patterns/patterns.js\";\n\nexport function getItemGenerator(itemName: string, quality: number): ItemGenerator {\n  let itemGenConfig = new ItemGeneratorConfig();\n  itemGenConfig.pattern = Patterns.byName(itemName);\n\n  let minValue = 0;\n  let minQuality = quality;\n  let maxValue = 10;\n  let maxQuality = quality;\n\n  if (quality == 1) {\n    maxValue = 20;\n  } else if (quality == 2) {\n    minValue = 10;\n    maxValue = 30;\n  } else if (quality == 3) {\n    minValue = 30;\n    maxValue = 50;\n  } else if (quality == 3) {\n    minValue = 50;\n    maxValue = 100;\n  } else if (quality == 4) {\n    minValue = 100;\n    maxValue = 10000;\n  }\n\n  itemGenConfig.minValue = minValue;\n  itemGenConfig.maxValue = maxValue;\n  itemGenConfig.minQuality = minQuality;\n  itemGenConfig.maxQuality = maxQuality;\n\n  let itemGen = new ItemGenerator(itemGenConfig);\n\n  return itemGen;\n}\n\nexport function getItemGeneratorByTag(tag: string, quality: number): ItemGenerator {\n  let patternOptions = Patterns.forCategory(tag);\n\n  return getItemGenerator(RND.item(patternOptions).name, quality);\n}\n","\"use strict\";\n\nimport * as ItemGenerators from \"../../equipment/generators.js\";\nimport Archetype from \"../archetype.js\";\n\nexport function all(): Archetype[] {\n  return [\n    new Archetype(\"cleric\", [\"casts divine spells\"], [\"cleric\"], 2, [\n      ItemGenerators.getItemGeneratorByTag(\"mace\", 1),\n      ItemGenerators.getItemGeneratorByTag(\"breastplate\", 1),\n    ]),\n    new Archetype(\"priest\", [\"casts divine spells\"], [\"cleric\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"staff\", 1),\n      ItemGenerators.getItemGenerator(\"robe\", 1),\n    ]),\n    new Archetype(\"high priest\", [\"casts divine spells\"], [\"cleric\"], 2, [\n      ItemGenerators.getItemGeneratorByTag(\"staff\", 2),\n      ItemGenerators.getItemGenerator(\"robe\", 2),\n    ]),\n  ];\n}\n","\"use strict\";\n\nimport * as ItemGenerators from \"../../equipment/generators.js\";\nimport Archetype from \"../archetype.js\";\n\nexport function all(): Archetype[] {\n  return [\n    new Archetype(\"cult acolyte\", [], [\"cult\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"staff\", 1),\n      ItemGenerators.getItemGenerator(\"robe\", 0),\n    ]),\n    new Archetype(\"cult priest\", [\"casts minor demonic spells\"], [\"cult\"], 2, [\n      ItemGenerators.getItemGeneratorByTag(\"staff\", 1),\n      ItemGenerators.getItemGenerator(\"robe\", 1),\n    ]),\n    new Archetype(\"cult high priest\", [\"casts demonic spells\"], [\"cult\"], 3, [\n      ItemGenerators.getItemGeneratorByTag(\"staff\", 3),\n      ItemGenerators.getItemGeneratorByTag(\"knife\", 2),\n      ItemGenerators.getItemGenerator(\"robe\", 3),\n    ]),\n  ];\n}\n","\"use strict\";\n\nimport * as ItemGenerators from \"../../equipment/generators.js\";\nimport Archetype from \"../archetype.js\";\n\nexport function all(): Archetype[] {\n  return [\n    new Archetype(\"apprentice mage\", [\"casts minor spells\"], [\"magic user\"], 1, [\n      ItemGenerators.getItemGenerator(\"staff\", 1),\n      ItemGenerators.getItemGenerator(\"robe\", 0),\n    ]),\n    new Archetype(\"archmage\", [\"casts spells\"], [\"magic user\"], 4, [\n      ItemGenerators.getItemGenerator(\"staff\", 3),\n      ItemGenerators.getItemGenerator(\"robe\", 3),\n    ]),\n    new Archetype(\"druid\", [\"casts nature spells\"], [\"magic user\"], 2, [\n      ItemGenerators.getItemGenerator(\"staff\", 1),\n      ItemGenerators.getItemGenerator(\"robe\", 0),\n    ]),\n    new Archetype(\"mage\", [\"casts spells\"], [\"magic user\"], 2, [\n      ItemGenerators.getItemGenerator(\"staff\", 1),\n      ItemGenerators.getItemGenerator(\"robe\", 0),\n    ]),\n    new Archetype(\"necromancer\", [\"casts necromantic spells\"], [\"magic user\"], 4, [\n      ItemGenerators.getItemGenerator(\"staff\", 3),\n      ItemGenerators.getItemGenerator(\"robe\", 3),\n    ]),\n    new Archetype(\"sorcerer\", [\"casts innate spells\"], [\"magic user\"], 2, []),\n    new Archetype(\"warlock\", [\"casts demonic spells\"], [\"magic user\"], 2, []),\n    new Archetype(\"witch\", [\"casts curses\", \"casts charms\"], [\"magic user\"], 2, []),\n    new Archetype(\"wizard\", [\"casts spells\"], [\"magic user\"], 2, [\n      ItemGenerators.getItemGenerator(\"staff\", 1),\n      ItemGenerators.getItemGenerator(\"robe\", 1),\n    ]),\n  ];\n}\n","\"use strict\";\n\nimport * as ItemGenerators from \"../../equipment/generators.js\";\nimport Archetype from \"../archetype.js\";\n\nexport function all(): Archetype[] {\n  return [\n    new Archetype(\"archer\", [], [\"martial\", \"military\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"bow\", 1),\n    ]),\n    new Archetype(\"captain\", [], [\"martial\", \"military\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"sword\", 2),\n      ItemGenerators.getItemGeneratorByTag(\"breastplate\", 2),\n      ItemGenerators.getItemGeneratorByTag(\"helmet\", 2),\n    ]),\n    new Archetype(\"general\", [], [\"martial\", \"military\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"sword\", 3),\n      ItemGenerators.getItemGeneratorByTag(\"breastplate\", 3),\n      ItemGenerators.getItemGeneratorByTag(\"helmet\", 3),\n    ]),\n    new Archetype(\"guard\", [], [\"martial\", \"military\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"spear\", 1),\n      ItemGenerators.getItemGeneratorByTag(\"body armor\", 1),\n    ]),\n    new Archetype(\"hunter\", [], [\"martial\", \"wilderness\"], 1, []),\n    new Archetype(\"martial artist\", [], [\"martial\"], 1, []),\n    new Archetype(\"martial arts master\", [], [\"martial\"], 2, []),\n    new Archetype(\"raider captain\", [], [\"criminal\", \"martial\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"sword\", 1),\n      ItemGenerators.getItemGeneratorByTag(\"breastplate\", 1),\n    ]),\n    new Archetype(\"raider\", [], [\"criminal\", \"martial\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"weapon\", 1),\n      ItemGenerators.getItemGeneratorByTag(\"body armor\", 1),\n    ]),\n    new Archetype(\"ranger\", [], [\"martial\", \"wilderness\"], 3, []),\n    new Archetype(\"soldier\", [], [\"martial\", \"military\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"martial weapon\", 1),\n      ItemGenerators.getItemGeneratorByTag(\"body armor\", 1),\n    ]),\n    new Archetype(\"thug\", [], [\"criminal\", \"martial\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"club\", 1),\n    ]),\n    new Archetype(\"veteran hunter\", [], [\"martial\", \"wilderness\"], 2, [\n      ItemGenerators.getItemGeneratorByTag(\"bow\", 3),\n    ]),\n    new Archetype(\"veteran soldier\", [], [\"martial\", \"military\"], 2, [\n      ItemGenerators.getItemGeneratorByTag(\"sword\", 2),\n      ItemGenerators.getItemGeneratorByTag(\"breastplate\", 2),\n    ]),\n    new Archetype(\"warrior\", [], [\"martial\", \"wilderness\"], 1, [\n      ItemGenerators.getItemGeneratorByTag(\"simple weapon\", 1),\n    ]),\n  ];\n}\n","\"use strict\";\n\nimport Archetype from \"../archetype.js\";\n\nexport function all(): Archetype[] {\n  return [\n    new Archetype(\"lich\", [\"casts necromancy spells\"], [\"undead\"], 5, []),\n    new Archetype(\"shambler\", [], [\"undead\"], 1, []),\n    new Archetype(\"sprinter\", [], [\"undead\"], 2, []),\n  ];\n}\n","\"use strict\";\n\nimport Archetype from \"../archetype.js\";\nimport * as Cleric from \"./cleric.js\";\nimport * as Cult from \"./cult.js\";\nimport * as Mage from \"./mage.js\";\nimport * as Martial from \"./martial.js\";\nimport * as Undead from \"./undead.js\";\n\nexport function all(): Archetype[] {\n  let result: Archetype[] = [];\n\n  result = result.concat(Cleric.all());\n  result = result.concat(Cult.all());\n  result = result.concat(Mage.all());\n  result = result.concat(Martial.all());\n  result = result.concat(Undead.all());\n\n  return result;\n}\n","\"use strict\";\n\nimport * as Archetypes from \"../../../archetypes/archetypes.js\";\nimport * as FantasyArchetypes from \"../../../archetypes/fantasy/all.js\";\nimport MobFilter from \"../../../mobs/filter.js\";\nimport EncounterGroupTemplate from \"../../grouptemplate.js\";\nimport EncounterTemplate from \"../../template.js\";\n\nexport function all(): EncounterTemplate[] {\n  let allArchetypes = FantasyArchetypes.all();\n  return [\n    new EncounterTemplate(\n      \"group of raiders\",\n      3,\n      [\n        new EncounterGroupTemplate(\n          \"raider captain\",\n          2,\n          true,\n          [Archetypes.byName(\"raider captain\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          1,\n          1,\n        ),\n        new EncounterGroupTemplate(\n          \"raiders\",\n          3,\n          true,\n          [Archetypes.byName(\"raider\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          3,\n          6,\n        ),\n      ],\n      [\"bandits\"],\n      5,\n    ),\n    new EncounterTemplate(\n      \"group of looters\",\n      3,\n      [\n        new EncounterGroupTemplate(\n          \"looters\",\n          3,\n          true,\n          [Archetypes.byName(\"thug\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          3,\n          6,\n        ),\n      ],\n      [\"bandits\"],\n      5,\n    ),\n    new EncounterTemplate(\n      \"group of thugs\",\n      2,\n      [\n        new EncounterGroupTemplate(\n          \"thugs\",\n          2,\n          true,\n          [Archetypes.byName(\"thug\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          2,\n          4,\n        ),\n      ],\n      [\"bandits\"],\n      5,\n    ),\n  ];\n}\n","\"use strict\";\n\nimport * as Archetypes from \"../../../archetypes/archetypes.js\";\nimport * as FantasyArchetypes from \"../../../archetypes/fantasy/all.js\";\nimport MobFilter from \"../../../mobs/filter.js\";\nimport EncounterGroupTemplate from \"../../grouptemplate.js\";\nimport EncounterTemplate from \"../../template.js\";\n\nexport function all(): EncounterTemplate[] {\n  let allArchetypes = FantasyArchetypes.all();\n  return [\n    new EncounterTemplate(\n      \"group of cult acolytes\",\n      1,\n      [\n        new EncounterGroupTemplate(\n          \"cult acolytes\",\n          1,\n          true,\n          [Archetypes.byName(\"cult acolyte\", allArchetypes)],\n          new MobFilter([], [\"cult\", \"corruptible\"], \"humanoid\", \"\", [\"undead\"]),\n          2,\n          4,\n        ),\n      ],\n      [\"cult\"],\n      50,\n    ),\n    new EncounterTemplate(\n      \"group of lesser demons\",\n      4,\n      [\n        new EncounterGroupTemplate(\n          \"lesser demons\",\n          2,\n          false,\n          [],\n          new MobFilter([\"demon\"], [], \"\", \"\", []),\n          2,\n          4,\n        ),\n      ],\n      [\"cult\", \"demonic\"],\n      1,\n    ),\n    new EncounterTemplate(\n      \"cult priest\",\n      2,\n      [\n        new EncounterGroupTemplate(\n          \"cult priest\",\n          2,\n          true,\n          [Archetypes.byName(\"cult priest\", allArchetypes)],\n          new MobFilter([], [\"cult\", \"corruptible\"], \"humanoid\", \"\", [\"undead\"]),\n          1,\n          1,\n        ),\n      ],\n      [\"cult\"],\n      20,\n    ),\n    new EncounterTemplate(\n      \"cult high priest\",\n      5,\n      [\n        new EncounterGroupTemplate(\n          \"cult high priest\",\n          5,\n          true,\n          [Archetypes.byName(\"cult high priest\", allArchetypes)],\n          new MobFilter([], [\"cult\", \"corruptible\"], \"humanoid\", \"\", [\"undead\"]),\n          1,\n          1,\n        ),\n      ],\n      [\"cult\"],\n      15,\n    ),\n  ];\n}\n","\"use strict\";\n\nimport Archetype from \"../../../archetypes/archetype.js\";\nimport * as ItemGenerators from \"../../../equipment/generators.js\";\nimport MobFilter from \"../../../mobs/filter.js\";\nimport EncounterGroupTemplate from \"../../grouptemplate.js\";\nimport EncounterTemplate from \"../../template.js\";\n\nexport function all(): EncounterTemplate[] {\n  return [\n    new EncounterTemplate(\n      \"swarming insects\",\n      3,\n      [\n        new EncounterGroupTemplate(\n          \"swarming insects\",\n          3,\n          false,\n          [],\n          new MobFilter([\"swarm\"], [], \"\", \"\", []),\n          3,\n          8,\n        ),\n      ],\n      [\"insects\"],\n      5,\n    ),\n    new EncounterTemplate(\n      \"wandering creature\",\n      2,\n      [\n        new EncounterGroupTemplate(\n          \"wandering creature\",\n          3,\n          false,\n          [],\n          new MobFilter([], [], \"\", \"\", []),\n          1,\n          1,\n        ),\n      ],\n      [\"wandering creature\"],\n      40,\n    ),\n    new EncounterTemplate(\n      \"group of wandering creatures\",\n      4,\n      [\n        new EncounterGroupTemplate(\n          \"wandering creatures\",\n          3,\n          false,\n          [],\n          new MobFilter([], [], \"\", \"\", []),\n          2,\n          4,\n        ),\n      ],\n      [\"wandering creature\"],\n      30,\n    ),\n  ];\n}\n","\"use strict\";\n\nimport * as Archetypes from \"../../../archetypes/archetypes.js\";\nimport * as FantasyArchetypes from \"../../../archetypes/fantasy/all.js\";\nimport MobFilter from \"../../../mobs/filter.js\";\nimport EncounterGroupTemplate from \"../../grouptemplate.js\";\nimport EncounterTemplate from \"../../template.js\";\n\nexport function all(): EncounterTemplate[] {\n  let allArchetypes = FantasyArchetypes.all();\n\n  return [\n    new EncounterTemplate(\n      \"archmage\",\n      5,\n      [\n        new EncounterGroupTemplate(\n          \"archmage\",\n          5,\n          true,\n          [Archetypes.byName(\"archmage\", allArchetypes)],\n          new MobFilter([], [], \"humanoid\", \"\", [\"undead\"]),\n          1,\n          1,\n        ),\n      ],\n      [\"mage\", \"magic\"],\n      1,\n    ),\n    new EncounterTemplate(\n      \"enchanted object\",\n      2,\n      [\n        new EncounterGroupTemplate(\n          \"enchanted object\",\n          2,\n          false,\n          [],\n          new MobFilter([\"enchanted\"], [], \"construct\", \"\", [\"undead\"]),\n          1,\n          1,\n        ),\n      ],\n      [\"magic\"],\n      3,\n    ),\n    new EncounterTemplate(\n      \"enchanted objects\",\n      4,\n      [\n        new EncounterGroupTemplate(\n          \"group of enchanted objects\",\n          4,\n          false,\n          [],\n          new MobFilter([\"enchanted\"], [], \"construct\", \"\", [\"undead\"]),\n          2,\n          4,\n        ),\n      ],\n      [\"magic\"],\n      2,\n    ),\n    new EncounterTemplate(\n      \"mage\",\n      2,\n      [\n        new EncounterGroupTemplate(\n          \"mage\",\n          2,\n          true,\n          [Archetypes.byName(\"mage\", allArchetypes)],\n          new MobFilter([], [], \"humanoid\", \"\", [\"skeleton\", \"zombie\"]),\n          1,\n          1,\n        ),\n      ],\n      [\"mage\", \"magic\"],\n      5,\n    ),\n  ];\n}\n","\"use strict\";\n\nimport * as Archetypes from \"../../../archetypes/archetypes.js\";\nimport * as FantasyArchetypes from \"../../../archetypes/fantasy/all.js\";\nimport MobFilter from \"../../../mobs/filter.js\";\nimport EncounterGroupTemplate from \"../../grouptemplate.js\";\nimport EncounterTemplate from \"../../template.js\";\n\nexport function all(): EncounterTemplate[] {\n  let allArchetypes = FantasyArchetypes.all();\n\n  return [\n    new EncounterTemplate(\n      \"squad of soldiers\",\n      1,\n      [\n        new EncounterGroupTemplate(\n          \"soldiers\",\n          1,\n          true,\n          [Archetypes.byName(\"soldier\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          2,\n          4,\n        ),\n      ],\n      [\"martial\", \"soldiers\"],\n      10,\n    ),\n    new EncounterTemplate(\n      \"squad of veterans\",\n      2,\n      [\n        new EncounterGroupTemplate(\n          \"veteran soldiers\",\n          2,\n          true,\n          [Archetypes.byName(\"veteran soldier\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          2,\n          4,\n        ),\n      ],\n      [\"martial\", \"soldiers\"],\n      5,\n    ),\n    new EncounterTemplate(\n      \"captain\",\n      4,\n      [\n        new EncounterGroupTemplate(\n          \"captain\",\n          2,\n          true,\n          [Archetypes.byName(\"captain\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          1,\n          1,\n        ),\n        new EncounterGroupTemplate(\n          \"veteran soldiers\",\n          2,\n          true,\n          [Archetypes.byName(\"veteran soldier\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          2,\n          4,\n        ),\n      ],\n      [\"martial\", \"soldiers\"],\n      3,\n    ),\n    new EncounterTemplate(\n      \"general\",\n      5,\n      [\n        new EncounterGroupTemplate(\n          \"general\",\n          3,\n          true,\n          [Archetypes.byName(\"general\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          1,\n          1,\n        ),\n        new EncounterGroupTemplate(\n          \"captain\",\n          2,\n          true,\n          [Archetypes.byName(\"captain\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          1,\n          2,\n        ),\n      ],\n      [\"martial\", \"soldiers\"],\n      2,\n    ),\n  ];\n}\n","\"use strict\";\n\nimport * as Archetypes from \"../../../archetypes/archetypes.js\";\nimport * as FantasyArchetypes from \"../../../archetypes/fantasy/all.js\";\nimport MobFilter from \"../../../mobs/filter.js\";\nimport EncounterGroupTemplate from \"../../grouptemplate.js\";\nimport EncounterTemplate from \"../../template.js\";\n\nexport function all(): EncounterTemplate[] {\n  let allArchetypes = FantasyArchetypes.all();\n\n  return [\n    new EncounterTemplate(\n      \"lich\",\n      5,\n      [\n        new EncounterGroupTemplate(\n          \"lich\",\n          5,\n          true,\n          [Archetypes.byName(\"lich\", allArchetypes)],\n          new MobFilter([], [], \"humanoid\", \"\", [\"undead\"]),\n          1,\n          1,\n        ),\n      ],\n      [\"undead\"],\n      5,\n    ),\n    new EncounterTemplate(\n      \"necromancer\",\n      7,\n      [\n        new EncounterGroupTemplate(\n          \"necromancer\",\n          5,\n          true,\n          [Archetypes.byName(\"necromancer\", allArchetypes)],\n          new MobFilter([], [], \"humanoid\", \"\", [\"undead\"]),\n          1,\n          1,\n        ),\n        new EncounterGroupTemplate(\n          \"skeletons\",\n          2,\n          true,\n          [\n            Archetypes.byName(\"warrior\", allArchetypes),\n            Archetypes.byName(\"soldier\", allArchetypes),\n            Archetypes.byName(\"guard\", allArchetypes),\n          ],\n          new MobFilter([\"skeleton\"], [], \"\", \"\", []),\n          3,\n          6,\n        ),\n      ],\n      [\"mage\", \"undead\"],\n      5,\n    ),\n    new EncounterTemplate(\n      \"pack of ghouls\",\n      5,\n      [\n        new EncounterGroupTemplate(\n          \"ghouls\",\n          3,\n          false,\n          [],\n          new MobFilter([\"ghoul\"], [], \"\", \"\", []),\n          2,\n          4,\n        ),\n      ],\n      [\"undead\"],\n      5,\n    ),\n    new EncounterTemplate(\n      \"pack of undead\",\n      5,\n      [\n        new EncounterGroupTemplate(\n          \"undead\",\n          3,\n          false,\n          [],\n          new MobFilter([\"undead\"], [], \"\", \"\", [\"vampire\"]),\n          2,\n          4,\n        ),\n      ],\n      [\"undead\"],\n      5,\n    ),\n    new EncounterTemplate(\n      \"pack of skeletons\",\n      2,\n      [\n        new EncounterGroupTemplate(\n          \"skeletons\",\n          2,\n          true,\n          [\n            Archetypes.byName(\"warrior\", allArchetypes),\n            Archetypes.byName(\"soldier\", allArchetypes),\n            Archetypes.byName(\"guard\", allArchetypes),\n          ],\n          new MobFilter([\"skeleton\"], [], \"\", \"\", []),\n          3,\n          6,\n        ),\n      ],\n      [\"skeleton\", \"undead\"],\n      10,\n    ),\n    new EncounterTemplate(\n      \"pack of zombies\",\n      3,\n      [\n        new EncounterGroupTemplate(\n          \"zombies\",\n          3,\n          true,\n          [\n            Archetypes.byName(\"shambler\", allArchetypes),\n            Archetypes.byName(\"sprinter\", allArchetypes),\n          ],\n          new MobFilter([\"zombie\"], [], \"\", \"\", []),\n          3,\n          6,\n        ),\n      ],\n      [\"zombie\", \"undead\"],\n      10,\n    ),\n    new EncounterTemplate(\n      \"vampire\",\n      5,\n      [\n        new EncounterGroupTemplate(\n          \"vampire\",\n          5,\n          true,\n          [Archetypes.byName(\"warrior\", allArchetypes)],\n          new MobFilter([\"vampire\"], [], \"\", \"\", []),\n          1,\n          1,\n        ),\n      ],\n      [\"vampire\", \"undead\"],\n      2,\n    ),\n  ];\n}\n","\"use strict\";\n\nimport * as Archetypes from \"../../../archetypes/archetypes.js\";\nimport * as FantasyArchetypes from \"../../../archetypes/fantasy/all.js\";\nimport MobFilter from \"../../../mobs/filter.js\";\nimport EncounterGroupTemplate from \"../../grouptemplate.js\";\nimport EncounterTemplate from \"../../template.js\";\n\nexport function all(): EncounterTemplate[] {\n  let allArchetypes = FantasyArchetypes.all();\n\n  return [\n    new EncounterTemplate(\n      \"group of hunters\",\n      3,\n      [\n        new EncounterGroupTemplate(\n          \"hunters\",\n          3,\n          true,\n          [Archetypes.byName(\"hunter\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          3,\n          6,\n        ),\n      ],\n      [\"hunters\"],\n      5,\n    ),\n    new EncounterTemplate(\n      \"lone hunter\",\n      1,\n      [\n        new EncounterGroupTemplate(\n          \"hunter\",\n          1,\n          true,\n          [Archetypes.byName(\"hunter\", allArchetypes)],\n          new MobFilter([\"martial\"], [], \"humanoid\", \"\", [\"undead\"]),\n          1,\n          1,\n        ),\n      ],\n      [\"hunters\"],\n      1,\n    ),\n    new EncounterTemplate(\n      \"swarming insects\",\n      3,\n      [\n        new EncounterGroupTemplate(\n          \"swarming insects\",\n          3,\n          false,\n          [],\n          new MobFilter([\"swarm\"], [], \"\", \"\", []),\n          3,\n          8,\n        ),\n      ],\n      [\"insect swarm\"],\n      5,\n    ),\n    new EncounterTemplate(\n      \"wandering creature\",\n      3,\n      [\n        new EncounterGroupTemplate(\n          \"wandering creature\",\n          3,\n          false,\n          [],\n          new MobFilter([], [], \"\", \"\", []),\n          1,\n          1,\n        ),\n      ],\n      [\"wandering creature\"],\n      10,\n    ),\n    new EncounterTemplate(\n      \"group of wandering creatures\",\n      5,\n      [\n        new EncounterGroupTemplate(\n          \"wandering creatures\",\n          3,\n          false,\n          [],\n          new MobFilter([], [], \"\", \"\", []),\n          2,\n          4,\n        ),\n      ],\n      [\"wandering creature\"],\n      10,\n    ),\n  ];\n}\n","\"use strict\";\n\nimport EncounterTemplate from \"../../template.js\";\nimport * as Bandits from \"./bandits.js\";\nimport * as Cult from \"./cult.js\";\nimport * as GenericDungeon from \"./genericdungeon.js\";\nimport * as Magic from \"./magic.js\";\nimport * as Martial from \"./martial.js\";\nimport * as Undead from \"./undead.js\";\nimport * as Wilderness from \"./wilderness.js\";\n\nexport function all(includeUndead: boolean): EncounterTemplate[] {\n  let result: EncounterTemplate[] = [];\n\n  result = result.concat(Bandits.all());\n  result = result.concat(Cult.all());\n  result = result.concat(GenericDungeon.all());\n  result = result.concat(Magic.all());\n  result = result.concat(Martial.all());\n  result = result.concat(Wilderness.all());\n\n  if (includeUndead) {\n    result = result.concat(Undead.all());\n  }\n\n  return result;\n}\n","\"use strict\";\n\nimport EncounterTemplate from \"../template.js\";\n\nexport function belowThreatLevel(\n  level: number,\n  templates: EncounterTemplate[],\n): EncounterTemplate[] {\n  return inThreatLevelRange(0, level, templates);\n}\n\nexport function inThreatLevelRange(\n  minLevel: number,\n  maxLevel: number,\n  templates: EncounterTemplate[],\n): EncounterTemplate[] {\n  let result = [];\n\n  for (let i = 0; i < templates.length; i++) {\n    if (templates[i].threatLevel >= minLevel && templates[i].threatLevel <= maxLevel) {\n      result.push(templates[i]);\n    }\n  }\n\n  return result;\n}\n\nexport function withThreatLevel(\n  level: number,\n  templates: EncounterTemplate[],\n): EncounterTemplate[] {\n  return inThreatLevelRange(level, level, templates);\n}\n\nexport function withTag(tag: string, templates: EncounterTemplate[]): EncounterTemplate[] {\n  let result = [];\n\n  for (let i = 0; i < templates.length; i++) {\n    if (templates[i].tags.includes(tag)) {\n      result.push(templates[i]);\n    }\n  }\n\n  return result;\n}\n\nexport function withoutTag(tag: string, templates: EncounterTemplate[]): EncounterTemplate[] {\n  let result = [];\n\n  for (let i = 0; i < templates.length; i++) {\n    if (!templates[i].tags.includes(tag)) {\n      result.push(templates[i]);\n    }\n  }\n\n  return result;\n}\n","\"use strict\";\n\nimport RoomFeatureGenerator from \"../features/featuregenerator.js\";\nimport RoomTheme from \"./theme.js\";\n\nexport function all(): RoomTheme[] {\n  let genericFeatures = [\n    new RoomFeatureGenerator(\n      \"debris\",\n      [\n        \"There is a pile of random debris here.\",\n        \"Much of the floor is covered in debris.\",\n        \"Debris of unknown origin is scattered about.\",\n      ],\n      [],\n      false,\n    ),\n    new RoomFeatureGenerator(\n      \"rags\",\n      [\n        \"There is a pile of rags here.\",\n        \"One of the corners has a large pile of filthy rags.\",\n        \"Small piles of rags are scattered across the floor.\",\n      ],\n      [],\n      false,\n    ),\n    new RoomFeatureGenerator(\n      \"cobwebs\",\n      [\n        \"There are a lot of cobwebs here.\",\n        \"The ceiling is partly covered in cobwebs.\",\n        \"Dense cobwebs hang down from the ceiling.\",\n      ],\n      [],\n      false,\n    ),\n  ];\n\n  return [\n    new RoomTheme(\n      \"altar room\",\n      [],\n      3,\n      3,\n      10,\n      10,\n      [\"marble\", \"stone tile\"],\n      genericFeatures,\n      [\n        new RoomFeatureGenerator(\n          \"altar\",\n          [\n            \"There is an evil-looking altar here.\",\n            \"There is a blood-covered altar here.\",\n            \"On top of a stone dais is a long altar.\",\n          ],\n          [],\n          false,\n        ),\n      ],\n      [],\n      [\"rectangular\"],\n      [\"cult\"],\n      5,\n    ),\n    new RoomTheme(\n      \"armory\",\n      [],\n      3,\n      3,\n      6,\n      6,\n      [\"stone tile\"],\n      genericFeatures,\n      [\n        new RoomFeatureGenerator(\n          \"weapon racks\",\n          [\n            \"Weapon racks full of old spears, swords, and axes line the walls.\",\n            \"Each wall has at least one wooden rack full of weapons.\",\n            \"There are rows of weapon racks here.\",\n          ],\n          [],\n          false,\n        ),\n        new RoomFeatureGenerator(\n          \"armor displays\",\n          [\n            \"Pieces of armor in various states of disrepair hang from pegs on the walls.\",\n            \"There are numerous pegs on the walls for armor to be hung.\",\n            \"Several pieces of armor are on armor stands here.\",\n          ],\n          [],\n          false,\n        ),\n      ],\n      [],\n      [\"rectangular\", \"square\"],\n      [\"military\"],\n      5,\n    ),\n    new RoomTheme(\n      \"barracks\",\n      [],\n      8,\n      8,\n      15,\n      15,\n      [\"stone tile\"],\n      genericFeatures,\n      [\n        new RoomFeatureGenerator(\n          \"beds\",\n          [\n            \"There are many beds here.\",\n            \"There are many bunk beds here.\",\n            \"There are many cots here.\",\n            \"Beds line the walls.\",\n            \"Cots line the walls.\",\n          ],\n          [],\n          false,\n        ),\n        new RoomFeatureGenerator(\n          \"chests\",\n          [\"There are chests at the end of each bed.\", \"Each bed has a chest at the foot.\"],\n          [],\n          true,\n        ),\n      ],\n      [],\n      [\"rectangular\"],\n      [\"military\"],\n      5,\n    ),\n    new RoomTheme(\n      \"burial chamber\",\n      [],\n      5,\n      5,\n      10,\n      10,\n      [\"stone tile\"],\n      genericFeatures,\n      [\n        new RoomFeatureGenerator(\n          \"coffins\",\n          [\n            \"There is a large stone sarcophagus here.\",\n            \"There is an ornate sarcophagus here.\",\n            \"There are several sarcophagi here.\",\n            \"There is a large, ornate coffin here.\",\n            \"There are many coffins here.\",\n            \"Coffins line the walls.\",\n            \"Along the walls are several long alcoves. Each one has a stone coffin.\",\n          ],\n          [],\n          true,\n        ),\n      ],\n      [],\n      [\"rectangular\"],\n      [\"tomb\"],\n      5,\n    ),\n    new RoomTheme(\n      \"chamber\",\n      [],\n      2,\n      2,\n      6,\n      6,\n      [\"marble\", \"stone tile\"],\n      genericFeatures,\n      [],\n      [],\n      [\"rectangular\", \"square\"],\n      [\"dungeon\"],\n      40,\n    ),\n    new RoomTheme(\n      \"fountain chamber\",\n      [],\n      2,\n      2,\n      5,\n      5,\n      [\"stone tile\"],\n      genericFeatures,\n      [\n        new RoomFeatureGenerator(\n          \"fountain\",\n          [\n            \"There is a large fountain here.\",\n            \"There is an ornate fountain here.\",\n            \"There is a disused fountain here with brackish water.\",\n            \"There is an elegant fountain here.\",\n            \"Two fountains lie on either side of the room.\",\n            \"Small fountains sit in each corner of the room.\",\n            \"An old and disused fountain sits in the corner.\",\n          ],\n          [],\n          true,\n        ),\n      ],\n      [],\n      [\"rectangular\", \"square\"],\n      [\"dungeon\", \"nobility\"],\n      5,\n    ),\n    new RoomTheme(\n      \"kitchen\",\n      [],\n      2,\n      2,\n      5,\n      5,\n      [\"stone tile\"],\n      genericFeatures,\n      [\n        new RoomFeatureGenerator(\n          \"oven\",\n          [\n            \"There is a large wood-fired oven here.\",\n            \"There are several large ovens here.\",\n            \"Ovens line one of the walls.\",\n            \"A long-dormant oven sits against the back wall.\",\n          ],\n          [],\n          false,\n        ),\n        new RoomFeatureGenerator(\n          \"pantry cabinet\",\n          [\"There is a pantry cabinet here.\", \"A pantry cabinet sits against one wall.\"],\n          [],\n          true,\n        ),\n        new RoomFeatureGenerator(\n          \"table\",\n          [\n            \"There is a table here.\",\n            \"A table sits against one wall.\",\n            \"An assortment of kitchen utensils and tools sit on a large table here.\",\n          ],\n          [],\n          false,\n        ),\n      ],\n      [],\n      [\"rectangular\"],\n      [\"food\", \"military\"],\n      5,\n    ),\n    new RoomTheme(\n      \"laboratory\",\n      [],\n      4,\n      4,\n      6,\n      6,\n      [\"stone tile\"],\n      genericFeatures,\n      [\n        new RoomFeatureGenerator(\n          \"lab table\",\n          [\n            \"There is a large table here with a wide array of alchemical devices on it.\",\n            \"There are several tables here with various devices on them.\",\n            \"Tables with alchemical devices, books, and other items are arranged around the room.\",\n          ],\n          [],\n          false,\n        ),\n        new RoomFeatureGenerator(\n          \"specimen cabinet\",\n          [\n            \"There is a large cabinet here.\",\n            \"There is a simple cabinet here, and the door is ajar.\",\n            \"There is a cabinet here.\",\n          ],\n          [],\n          true,\n        ),\n      ],\n      [],\n      [\"rectangular\"],\n      [\"alchemy\", \"mage\"],\n      5,\n    ),\n    new RoomTheme(\n      \"library\",\n      [],\n      5,\n      5,\n      15,\n      15,\n      [\"stone tile\"],\n      genericFeatures,\n      [\n        new RoomFeatureGenerator(\n          \"bookcases\",\n          [\n            \"There are many bookcases here.\",\n            \"There are a number of well-preserved bookcases here.\",\n            \"The walls are lined with bookcases.\",\n          ],\n          [],\n          true,\n        ),\n        new RoomFeatureGenerator(\n          \"table\",\n          [\n            \"There are several tables here.\",\n            \"There is a table here with a large book open lying on it.\",\n          ],\n          [],\n          false,\n        ),\n      ],\n      [],\n      [\"rectangular\", \"square\"],\n      [\"mage\", \"nobility\"],\n      5,\n    ),\n    new RoomTheme(\n      \"storeroom\",\n      [],\n      2,\n      2,\n      6,\n      6,\n      [\"stone tile\"],\n      genericFeatures,\n      [\n        new RoomFeatureGenerator(\n          \"stacked boxes\",\n          [\n            \"Many boxes are stacked here.\",\n            \"Boxes are stacked in corners here.\",\n            \"Crates and large boxes line the walls.\",\n            \"A few broken crates and boxes are strewn about.\",\n          ],\n          [],\n          true,\n        ),\n      ],\n      [],\n      [\"rectangular\", \"square\"],\n      [\"dungeon\"],\n      20,\n    ),\n  ];\n}\n","\"use strict\";\n\nimport RoomFeatureGenerator from \"../features/featuregenerator.js\";\nimport * as Dungeon from \"./dungeon.js\";\nimport RoomTheme from \"./theme.js\";\n\nexport function all(): RoomTheme[] {\n  let result: RoomTheme[] = [];\n\n  result = result.concat(Dungeon.all());\n\n  return result;\n}\n\nexport function byName(name: string, themes: RoomTheme[]): RoomTheme {\n  for (let i = 0; i < themes.length; i++) {\n    if (themes[i].name == name) {\n      return themes[i];\n    }\n  }\n\n  throw new Error(`Failed to find room theme with name ${name}.`);\n}\n\nexport function byTag(tag: string, themes: RoomTheme[]): RoomTheme[] {\n  let result = [];\n\n  for (let i = 0; i < themes.length; i++) {\n    if (themes[i].tags.includes(tag)) {\n      result.push(themes[i]);\n    }\n  }\n\n  return result;\n}\n\nexport function getEntrance(): RoomTheme {\n  return new RoomTheme(\n    \"entrance\",\n    [],\n    2,\n    2,\n    4,\n    4,\n    [\"stone tile\"],\n    [],\n    [\n      new RoomFeatureGenerator(\n        \"entrance\",\n        [\n          \"The entrance to the dungeon is here.\",\n          \"The stairs out of the dungeon are here.\",\n          \"There is a set of stairs here leading out of the dungeon.\",\n          \"The stairs leading out of the dungeon are here.\",\n        ],\n        [],\n        false,\n      ),\n    ],\n    [],\n    [\"rectangular\", \"square\"],\n    [\"dungeon\", \"entrance\"],\n    10,\n  );\n}\n","\"use strict\";\n\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport random from \"random\";\nimport * as FantasyEncounters from \"../../encounters/templates/fantasy/all.js\";\nimport * as Encounters from \"../../encounters/templates/templates.js\";\nimport * as CommonSpecies from \"../../species/common.js\";\nimport * as FantasySpecies from \"../../species/fantasy.js\";\nimport DungeonTheme from \"../dungeontheme.js\";\nimport RoomRequirement from \"../rooms/roomrequirement.js\";\nimport * as RoomThemes from \"../rooms/themes/themes.js\";\n\nexport function getTheme(): DungeonTheme {\n  let allEncounters = FantasyEncounters.all(false);\n  let allSentientOptions = FantasySpecies.all();\n  allSentientOptions = CommonSpecies.withCreatureType(\"humanoid\", allSentientOptions);\n  let numberOfSentientOptions = random.int(1, 3);\n\n  let cultEncounters = Encounters.withTag(\"cult\", allEncounters);\n  let cultWeakEncounters = Encounters.belowThreatLevel(3, cultEncounters);\n  let cultStrongEncounters = Encounters.inThreatLevelRange(3, 4, cultEncounters);\n  let cultBossEncounters = Encounters.withThreatLevel(5, cultEncounters);\n\n  let cultNameGen = new MUN.GenericNameGenerator();\n  let c1 = [\"DEN\", \"DOMAIN\", \"LAIR\"];\n  let c2 = [\"BALEFUL\", \"VILE\", \"DARK\", \"DEMONIC\"];\n  let c3 = [\"BROTHERHOOD\", \"ORDER\"];\n  for (let i = 0; i < c1.length; i++) {\n    for (let j = 0; j < c2.length; j++) {\n      for (let k = 0; k < c3.length; k++) {\n        cultNameGen.patterns.push(`THE ${c1[i]} OF THE ${c2[j]} ${c3[k]}`);\n      }\n    }\n  }\n\n  let cultSentientOptions = CommonSpecies.byTag(\"corruptible\", allSentientOptions);\n  cultSentientOptions = CommonSpecies.randomUniqueSet(cultSentientOptions, numberOfSentientOptions);\n\n  const allRoomThemes = RoomThemes.all();\n  let barracks = RoomThemes.byName(\"barracks\", allRoomThemes);\n  let altar = RoomThemes.byName(\"altar room\", allRoomThemes);\n\n  let cultRoomThemes = RoomThemes.byTag(\"cult\", allRoomThemes);\n  let dungeonRoomThemes = RoomThemes.byTag(\"dungeon\", allRoomThemes);\n  cultRoomThemes = cultRoomThemes.concat(dungeonRoomThemes);\n\n  return new DungeonTheme(\n    \"cult\",\n    \"forest\",\n    cultNameGen,\n    cultWeakEncounters,\n    cultStrongEncounters,\n    cultBossEncounters,\n    cultSentientOptions,\n    [\"stone tile\"],\n    cultRoomThemes,\n    [new RoomRequirement(altar, 1, 1), new RoomRequirement(barracks, 1, 1)],\n  );\n}\n","\"use strict\";\n\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport random from \"random\";\nimport * as FantasyEncounters from \"../../encounters/templates/fantasy/all.js\";\nimport * as Encounters from \"../../encounters/templates/templates.js\";\nimport * as CommonSpecies from \"../../species/common.js\";\nimport * as FantasySpecies from \"../../species/fantasy.js\";\nimport DungeonTheme from \"../dungeontheme.js\";\nimport RoomRequirement from \"../rooms/roomrequirement.js\";\nimport * as RoomThemes from \"../rooms/themes/themes.js\";\n\nexport function getTheme(): DungeonTheme {\n  let allEncounters = FantasyEncounters.all(false);\n  let allSentientOptions = FantasySpecies.all();\n  allSentientOptions = CommonSpecies.withCreatureType(\"humanoid\", allSentientOptions);\n  let numberOfSentientOptions = random.int(1, 3);\n\n  let fortressEncounters = Encounters.withTag(\"martial\", allEncounters);\n\n  let fortressSentientOptions = CommonSpecies.byTag(\"martial\", allSentientOptions);\n  fortressSentientOptions = CommonSpecies.randomUniqueSet(\n    fortressSentientOptions,\n    numberOfSentientOptions,\n  );\n\n  for (let i = 0; i < fortressEncounters.length; i++) {\n    if (fortressEncounters[i].tags.includes(\"soldiers\")) {\n      fortressEncounters[i].commonality += 20;\n    }\n  }\n\n  let fortressWeakEncounters = Encounters.belowThreatLevel(3, fortressEncounters);\n  let fortressStrongEncounters = Encounters.inThreatLevelRange(3, 4, fortressEncounters);\n  let fortressBossEncounters = Encounters.withThreatLevel(5, fortressEncounters);\n\n  let fortressNameGen = new MUN.GenericNameGenerator();\n  let p1 = [\"FORTRESS\", \"STRONGHOLD\", \"DOMAIN\", \"DOMINION\", \"LAIR\"];\n  let p2 = [\"DARK\", \"DREAD\", \"DIRE\", \"IRON\", \"BLOODY\", \"CURSED\"];\n  let p3 = [\"LEGION\", \"ARMY\"];\n  for (let i = 0; i < p1.length; i++) {\n    for (let j = 0; j < p2.length; j++) {\n      for (let k = 0; k < p3.length; k++) {\n        fortressNameGen.patterns.push(`THE ${p1[i]} OF THE ${p2[j]} ${p3[k]}`);\n      }\n    }\n  }\n\n  const allRoomThemes = RoomThemes.all();\n  let barracks = RoomThemes.byName(\"barracks\", allRoomThemes);\n\n  let dungeonRoomThemes = RoomThemes.byTag(\"dungeon\", allRoomThemes);\n  let militaryRoomThemes = RoomThemes.byTag(\"military\", allRoomThemes);\n  let fortressRoomThemes = militaryRoomThemes.concat(dungeonRoomThemes);\n\n  return new DungeonTheme(\n    \"fortress\",\n    \"hill\",\n    fortressNameGen,\n    fortressWeakEncounters,\n    fortressStrongEncounters,\n    fortressBossEncounters,\n    fortressSentientOptions,\n    [\"stone tile\"],\n    fortressRoomThemes,\n    [new RoomRequirement(barracks, 1, 2)],\n  );\n}\n","\"use strict\";\n\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport random from \"random\";\nimport * as FantasyEncounters from \"../../encounters/templates/fantasy/all.js\";\nimport * as GenericEncounters from \"../../encounters/templates/fantasy/genericdungeon.js\";\nimport * as Encounters from \"../../encounters/templates/templates.js\";\nimport * as CommonSpecies from \"../../species/common.js\";\nimport * as FantasySpecies from \"../../species/fantasy.js\";\nimport DungeonTheme from \"../dungeontheme.js\";\nimport * as RoomThemes from \"../rooms/themes/themes.js\";\n\nexport function getTheme(): DungeonTheme {\n  let allEncounters = FantasyEncounters.all(false);\n  let allSentientOptions = FantasySpecies.all();\n  allSentientOptions = CommonSpecies.withCreatureType(\"humanoid\", allSentientOptions);\n  let numberOfSentientOptions = random.int(1, 2);\n\n  let magicSentientOptions = allSentientOptions;\n  magicSentientOptions = CommonSpecies.randomUniqueSet(\n    magicSentientOptions,\n    numberOfSentientOptions,\n  );\n\n  let magicEncounters = Encounters.withTag(\"magic\", allEncounters);\n  magicEncounters = magicEncounters.concat(GenericEncounters.all());\n  let magicWeakEncounters = Encounters.belowThreatLevel(3, magicEncounters);\n  let magicStrongEncounters = Encounters.inThreatLevelRange(3, 4, magicEncounters);\n  let magicBossEncounters = Encounters.withThreatLevel(5, magicEncounters);\n\n  let magicNameGen = new MUN.GenericNameGenerator();\n  let m1 = [`LABORATORY`, `LAIR`, `DOMAIN`, `DOMINION`];\n  let m2 = [\"MAD\", \"DREAD\", \"DARK\", \"CRAZED\", \"RECLUSIVE\", \"DOOMED\", \"CURSED\"];\n  let m3 = [\"ARCHMAGE\", \"SORCERER\", \"WIZARD\", \"WITCH\", \"WARLOCK\"];\n\n  for (let i = 0; i < m1.length; i++) {\n    for (let j = 0; j < m2.length; j++) {\n      for (let k = 0; k < m3.length; k++) {\n        magicNameGen.patterns.push(`THE ${m1[i]} OF THE ${m2[j]} ${m3[k]}`);\n      }\n    }\n  }\n\n  const allRoomThemes = RoomThemes.all();\n  const dungeonRoomThemes = RoomThemes.byTag(\"dungeon\", allRoomThemes);\n\n  let mageRoomThemes = RoomThemes.byTag(\"mage\", allRoomThemes);\n  mageRoomThemes = mageRoomThemes.concat(dungeonRoomThemes);\n\n  return new DungeonTheme(\n    \"mage lair\",\n    \"forest\",\n    magicNameGen,\n    magicWeakEncounters,\n    magicStrongEncounters,\n    magicBossEncounters,\n    magicSentientOptions,\n    [\"stone tile\", \"marble\"],\n    mageRoomThemes,\n    [],\n  );\n}\n","\"use strict\";\n\nimport * as MUN from \"@ironarachne/made-up-names\";\nimport random from \"random\";\nimport * as GenericEncounters from \"../../encounters/templates/fantasy/genericdungeon.js\";\nimport * as UndeadEncounters from \"../../encounters/templates/fantasy/undead.js\";\nimport * as Encounters from \"../../encounters/templates/templates.js\";\nimport * as CommonSpecies from \"../../species/common.js\";\nimport * as FantasySpecies from \"../../species/fantasy.js\";\nimport DungeonTheme from \"../dungeontheme.js\";\nimport * as RoomThemes from \"../rooms/themes/themes.js\";\n\nexport function getTheme(): DungeonTheme {\n  let allSentientOptions = FantasySpecies.all();\n  allSentientOptions = CommonSpecies.withCreatureType(\"humanoid\", allSentientOptions);\n  let numberOfSentientOptions = random.int(1, 2);\n\n  let tombSentientOptions = CommonSpecies.byTag(\"martial\", allSentientOptions);\n  tombSentientOptions = CommonSpecies.randomUniqueSet(tombSentientOptions, numberOfSentientOptions);\n\n  let tombEncounters = GenericEncounters.all();\n  tombEncounters = tombEncounters.concat(UndeadEncounters.all());\n\n  let tombWeakEncounters = Encounters.belowThreatLevel(2, tombEncounters);\n  let tombStrongEncounters = Encounters.inThreatLevelRange(3, 4, tombEncounters);\n  let tombBossEncounters = Encounters.withThreatLevel(5, tombEncounters);\n\n  let tombNameGen = new MUN.GenericNameGenerator();\n  let t1 = [\"TOMB\", \"CRYPT\", \"CATACOMBS\", \"MAUSOLEUM\", \"BARROWS\"];\n  let t2 = [\n    `THE DAMNED`,\n    `THE FORGOTTEN`,\n    `THE LOST`,\n    `WAKING NIGHTMARES`,\n    `FORGOTTEN SOULS`,\n    `LOST SOULS`,\n  ];\n  for (let i = 0; i < t1.length; i++) {\n    for (let j = 0; j < t2.length; j++) {\n      tombNameGen.patterns.push(`THE ${t1[i]} OF ${t2[j]}`);\n    }\n  }\n\n  const allRoomThemes = RoomThemes.all();\n  const dungeonRoomThemes = RoomThemes.byTag(\"dungeon\", allRoomThemes);\n\n  let tombRoomThemes = RoomThemes.byTag(\"tomb\", allRoomThemes);\n  tombRoomThemes = tombRoomThemes.concat(dungeonRoomThemes);\n\n  return new DungeonTheme(\n    \"tomb\",\n    \"hill\",\n    tombNameGen,\n    tombWeakEncounters,\n    tombStrongEncounters,\n    tombBossEncounters,\n    tombSentientOptions,\n    [\"stone tile\"],\n    tombRoomThemes,\n    [],\n  );\n}\n","\"use strict\";\n\nimport DungeonTheme from \"../dungeontheme.js\";\nimport * as Cult from \"./cult.js\";\nimport * as Fortress from \"./fortress.js\";\nimport * as MageLair from \"./magelair.js\";\nimport * as Tomb from \"./tomb.js\";\n\nexport function all(): DungeonTheme[] {\n  let result = [];\n\n  result.push(Cult.getTheme());\n  result.push(Fortress.getTheme());\n  result.push(MageLair.getTheme());\n  result.push(Tomb.getTheme());\n\n  return result;\n}\n","\"use strict\";\n\nimport type Item from \"../equipment/item.js\";\n\nexport default class TreasureSpawn {\n  minRoom: number;\n  maxRoom: number;\n  treasure: Item[];\n  behavior: string;\n  value: number; // in copper coins\n  isCarried: boolean;\n  isHidden: boolean;\n\n  constructor() {\n    this.minRoom = -1;\n    this.maxRoom = -1;\n    this.value = 1;\n    this.treasure = [];\n    this.isCarried = false;\n    this.isHidden = false;\n  }\n}\n","\"use strict\";\n\nimport EncounterGeneratorConfig from \"../encounters/generatorconfig.js\";\nimport TreasureSpawn from \"./treasurespawn.js\";\n\nexport default class EncounterSpawn {\n  minRoom: number;\n  maxRoom: number;\n  encounterConfig: EncounterGeneratorConfig;\n  treasureSpawns: TreasureSpawn[];\n\n  constructor() {\n    this.minRoom = -1;\n    this.maxRoom = -1;\n    this.treasureSpawns = [];\n  }\n}\n","\"use strict\";\n\nimport RoomFeatureGenerator from \"../features/featuregenerator.js\";\nimport Room from \"../room.js\";\nimport RoomMutator from \"./mutator.js\";\n\nexport function all(): RoomMutator[] {\n  return [\n    new RoomMutator(\n      \"brazier\",\n      (room: Room) => {\n        let featureGenerator = new RoomFeatureGenerator(\n          \"brazier\",\n          [\n            \"There is a large lit brazier in the middle of the room.\",\n            \"There are lit braziers around the room here.\",\n          ],\n          [],\n          false,\n        );\n        room.features.push(featureGenerator.generate());\n        room.lightLevel += 2;\n\n        return room;\n      },\n      [\"light\"],\n    ),\n    new RoomMutator(\n      \"torches\",\n      (room: Room) => {\n        let featureGenerator = new RoomFeatureGenerator(\n          \"torches\",\n          [\"Torches line the walls.\", \"A few torches sit in sconces on the walls.\"],\n          [],\n          false,\n        );\n        room.features.push(featureGenerator.generate());\n        room.lightLevel += 1;\n\n        return room;\n      },\n      [\"light\"],\n    ),\n  ];\n}\n\nexport function withName(name: string, mutators: RoomMutator[]): RoomMutator {\n  for (let i = 0; i < mutators.length; i++) {\n    if (mutators[i].name == name) {\n      return mutators[i];\n    }\n  }\n\n  throw new Error(`Failed to find mutator with name ${name}.`);\n}\n\nexport function withTag(tag: string, mutators: RoomMutator[]): RoomMutator[] {\n  let result = [];\n\n  for (let i = 0; i < mutators.length; i++) {\n    if (mutators[i].tags.includes(tag)) {\n      result.push(mutators[i]);\n    }\n  }\n\n  return result;\n}\n","\"use strict\";\n\nimport type TreasureGenerator from \"./treasuregenerator.js\";\n\nexport default class TreasureTableEntry {\n  commonality: number;\n  generator: TreasureGenerator;\n\n  constructor(commonality: number, generator: TreasureGenerator) {\n    this.commonality = commonality;\n    this.generator = generator;\n  }\n}\n","\"use strict\";\n\nimport TreasureTableEntry from \"./tableentry.js\";\n\nexport default class TreasureTable {\n  entries: TreasureTableEntry[];\n\n  constructor(entries: TreasureTableEntry[]) {\n    this.entries = entries;\n  }\n}\n","\"use strict\";\n\nimport TreasureTable from \"./table.js\";\n\nexport default class TreasureGeneratorConfig {\n  tables: TreasureTable[];\n\n  constructor() {\n    this.tables = [];\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport type Item from \"../../equipment/item.js\";\nimport TreasureGeneratorConfig from \"./generatorconfig.js\";\n\nexport default class TreasureResultGenerator {\n  config: TreasureGeneratorConfig;\n\n  constructor(config: TreasureGeneratorConfig) {\n    this.config = config;\n  }\n\n  generate(): Item[] {\n    let result: Item[] = [];\n\n    for (const table of this.config.tables) {\n      let possibleItems = table.entries;\n\n      let t = RND.weighted(possibleItems);\n      let gen = t.generator;\n      let items = gen.generate();\n\n      result = result.concat(items);\n    }\n\n    return result;\n  }\n}\n","\"use strict\";\n\nimport type Item from \"../../equipment/item.js\";\n\nexport default class Key implements Item {\n  name: string;\n  description: string;\n  value: number;\n  lockId: string;\n  quality: number;\n  tags: string[];\n}\n","\"use strict\";\n\nimport type Item from \"../../equipment/item.js\";\n\nexport default class ArtObject implements Item {\n  name: string;\n  description: string;\n  value: number;\n  quality: number;\n  tags: string[];\n\n  constructor() {\n    this.name = \"an art object\";\n    this.description = \"an art object\";\n    this.value = 10;\n    this.quality = 2;\n    this.tags = [\"art object\"];\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport * as Words from \"@ironarachne/words\";\nimport random from \"random\";\nimport * as Currency from \"../../currency/currency.js\";\nimport ArtObject from \"./artobject.js\";\nimport type TreasureGenerator from \"./treasuregenerator.js\";\n\nexport default class ArtObjectGenerator implements TreasureGenerator {\n  minValue: number;\n  maxValue: number;\n  count: number;\n\n  constructor(min: number, max: number, count: number) {\n    this.minValue = min;\n    this.maxValue = max;\n    this.count = count;\n  }\n\n  generate(): ArtObject[] {\n    let objects = [];\n\n    for (let i = 0; i < this.count; i++) {\n      let object = new ArtObject();\n\n      object.value = random.int(this.minValue, this.maxValue);\n      object.name = getArtObjectForValue(this.minValue, this.maxValue);\n\n      let worth = Currency.valueToCoins(object.value, false, false, false);\n\n      object.description = `${Words.article(object.name)} ${object.name} worth ${worth}`;\n\n      objects.push(object);\n    }\n\n    return objects;\n  }\n}\n\nfunction getArtObjectForValue(minValue: number, maxValue: number): string {\n  const allOptions = getArtObjects();\n\n  let options = [];\n\n  for (let i = 0; i < allOptions.length; i++) {\n    if (allOptions[i].value >= minValue && allOptions[i].value <= maxValue) {\n      options.push(allOptions[i].name);\n    }\n  }\n\n  return RND.item(options);\n}\n\nfunction getArtObjects(): { name: string; value: number }[] {\n  return [\n    {\n      name: \"silver ewer\",\n      value: 2500,\n    },\n    {\n      name: \"carved bone statuette\",\n      value: 2500,\n    },\n    {\n      name: \"small gold bracelet\",\n      value: 2500,\n    },\n    {\n      name: \"cloth-of-gold vestments\",\n      value: 2500,\n    },\n    {\n      name: \"black velvet mask stitched with silver thread\",\n      value: 2500,\n    },\n    {\n      name: \"copper chalice with silver filigree\",\n      value: 2500,\n    },\n    {\n      name: \"pair of engraved bone dice\",\n      value: 2500,\n    },\n    {\n      name: \"small mirror set in a painted wood frame\",\n      value: 2500,\n    },\n    {\n      name: \"embroidered silk handkerchief\",\n      value: 2500,\n    },\n    {\n      name: \"gold locket with a painted portrait inside\",\n      value: 2500,\n    },\n    {\n      name: \"gold ring set with bloodstones\",\n      value: 25000,\n    },\n    {\n      name: \"carved ivory statuette\",\n      value: 25000,\n    },\n    {\n      name: \"large gold bracelet\",\n      value: 25000,\n    },\n    {\n      name: \"silver necklace with a gemstone pendant\",\n      value: 25000,\n    },\n    {\n      name: \"bronze crown\",\n      value: 25000,\n    },\n    {\n      name: \"silk robe with gold embroidery\",\n      value: 25000,\n    },\n    {\n      name: \"large well-made tapestry\",\n      value: 25000,\n    },\n    {\n      name: \"brass mug with jade inlay\",\n      value: 25000,\n    },\n    {\n      name: \"box of turquoise animal figurines\",\n      value: 25000,\n    },\n    {\n      name: \"gold bird cage with electrum filigree\",\n      value: 25000,\n    },\n    {\n      name: \"silver chalice set with moonstones\",\n      value: 75000,\n    },\n    {\n      name: \"silver-plated steel longsword with jet set in hilt\",\n      value: 75000,\n    },\n    {\n      name: \"carved harp of exotic wood with ivory inlay and zircon gems\",\n      value: 75000,\n    },\n    {\n      name: \"small gold idol\",\n      value: 75000,\n    },\n    {\n      name: \"gold dragon comb set with red garnets as eyes\",\n      value: 75000,\n    },\n    {\n      name: \"bottle stopper cork embossed with gold leaf and set with amethysts\",\n      value: 75000,\n    },\n    {\n      name: \"ceremonial electrum dagger with a black pearl in the pommel\",\n      value: 75000,\n    },\n    {\n      name: \"silver and gold brooch\",\n      value: 75000,\n    },\n    {\n      name: \"obsidian statuette with gold fittings and inlay\",\n      value: 75000,\n    },\n    {\n      name: \"painted gold war mask\",\n      value: 75000,\n    },\n    {\n      name: \"fine gold chain set with a fire opal\",\n      value: 250000,\n    },\n    {\n      name: \"old masterpiece painting\",\n      value: 250000,\n    },\n    {\n      name: \"embroidered silk and velvet mantle set with numerous moonstones\",\n      value: 250000,\n    },\n    {\n      name: \"platinum bracelet set with a sapphire\",\n      value: 250000,\n    },\n    {\n      name: \"embroidered glove set with jewel chips\",\n      value: 250000,\n    },\n    {\n      name: \"jeweled anklet\",\n      value: 250000,\n    },\n    {\n      name: \"gold music box\",\n      value: 250000,\n    },\n    {\n      name: \"gold circlet set with four aquamarines\",\n      value: 250000,\n    },\n    {\n      name: \"eye patch with a mock eye set in blue sapphire and moonstone\",\n      value: 250000,\n    },\n    {\n      name: \"necklace string of small pink pearls\",\n      value: 250000,\n    },\n    {\n      name: \"jeweled gold crown\",\n      value: 750000,\n    },\n    {\n      name: \"jeweled platinum ring\",\n      value: 750000,\n    },\n    {\n      name: \"small gold stattuete set with rubies\",\n      value: 750000,\n    },\n    {\n      name: \"gold cup set with emeralds\",\n      value: 750000,\n    },\n    {\n      name: \"painted gold child's sarcophagus\",\n      value: 750000,\n    },\n    {\n      name: \"jade game board with solid gold playing pieces\",\n      value: 750000,\n    },\n    {\n      name: \"bejeweled ivory drinking horn with gold filigree\",\n      value: 750000,\n    },\n  ];\n}\n","\"use strict\";\n\nimport type Item from \"../../equipment/item.js\";\n\nexport default class BagOfCoins implements Item {\n  name: string;\n  description: string;\n  value: number;\n  quality: number;\n  tags: string[];\n\n  constructor() {\n    this.name = \"a bag of coins\";\n    this.description = \"a bag of coins\";\n    this.value = 10;\n    this.quality = 1;\n    this.tags = [\"bag of coins\"];\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport * as Words from \"@ironarachne/words\";\nimport * as Dice from \"../../dice.js\";\nimport BagOfCoins from \"./bagofcoins.js\";\nimport type TreasureGenerator from \"./treasuregenerator.js\";\n\nexport default class CoinGenerator implements TreasureGenerator {\n  cp: string;\n  sp: string;\n  ep: string;\n  gp: string;\n  pp: string;\n\n  constructor(cp: string, sp: string, ep: string, gp: string, pp: string) {\n    this.cp = cp;\n    this.sp = sp;\n    this.ep = ep;\n    this.gp = gp;\n    this.pp = pp;\n  }\n\n  generate(): BagOfCoins[] {\n    let bag = new BagOfCoins();\n    let cp = 0;\n    let sp = 0;\n    let ep = 0;\n    let gp = 0;\n    let pp = 0;\n\n    if (this.cp != \"\") {\n      cp = Dice.roll(this.cp);\n    }\n\n    if (this.sp != \"\") {\n      sp = Dice.roll(this.sp);\n    }\n\n    if (this.ep != \"\") {\n      ep = Dice.roll(this.ep);\n    }\n\n    if (this.gp != \"\") {\n      gp = Dice.roll(this.gp);\n    }\n\n    if (this.pp != \"\") {\n      pp = Dice.roll(this.pp);\n    }\n\n    bag.value = cp + sp * 10 + ep * 50 + gp * 100 + pp * 1000;\n\n    let coinCount = cp + sp + ep + gp + pp;\n    let container = RND.item([\"bag\", \"pouch\", \"purse\"]);\n\n    // TODO: pull the container out into its own class, and have a library that generates an appropriate description\n    // maybe also figure out how to have multiple types of things in a container... perhaps treasure has a property\n    // like \"needsContainer\" and \"containerSize\" or something\n\n    if (coinCount > 1000) {\n      container = RND.item([\"chest\", \"large chest\"]);\n    } else if (coinCount > 250) {\n      container = RND.item([\"chest\", \"satchel\"]);\n    } else if (coinCount > 100) {\n      container = RND.item([\"sack\", \"box\"]);\n    }\n\n    bag.name = `a ${container} of coins`;\n\n    bag.description = \"a \" + container + \" of coins \" + RND.item([\"containing\", \"holding\", \"with\"]) + \" \";\n\n    let moneys = [];\n\n    if (cp > 0) {\n      moneys.push(`${new Intl.NumberFormat().format(cp)} cp`);\n    }\n\n    if (sp > 0) {\n      moneys.push(`${new Intl.NumberFormat().format(sp)} sp`);\n    }\n\n    if (ep > 0) {\n      moneys.push(`${new Intl.NumberFormat().format(ep)} ep`);\n    }\n\n    if (gp > 0) {\n      moneys.push(`${new Intl.NumberFormat().format(gp)} gp`);\n    }\n\n    if (pp > 0) {\n      moneys.push(`${new Intl.NumberFormat().format(pp)} pp`);\n    }\n\n    bag.description += Words.arrayToPhrase(moneys);\n\n    return [bag];\n  }\n}\n","\"use strict\";\n\nimport type Item from \"../../equipment/item.js\";\n\nexport default class Gem implements Item {\n  name: string;\n  description: string;\n  value: number;\n  quality: number;\n  tags: string[];\n\n  constructor() {\n    this.name = \"a gem\";\n    this.description = \"a gem\";\n    this.value = 10;\n    this.quality = 2;\n    this.tags = [\"gem\"];\n  }\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport * as Words from \"@ironarachne/words\";\nimport random from \"random\";\nimport * as Currency from \"../../currency/currency.js\";\nimport Gem from \"./gem.js\";\nimport type TreasureGenerator from \"./treasuregenerator.js\";\n\nexport default class GemGenerator implements TreasureGenerator {\n  minValue: number;\n  maxValue: number;\n  gemCount: number;\n\n  constructor(min: number, max: number, gemCount: number) {\n    this.minValue = min;\n    this.maxValue = max;\n    this.gemCount = gemCount;\n  }\n\n  generate(): Gem[] {\n    let gems = [];\n\n    for (let i = 0; i < this.gemCount; i++) {\n      let gem = new Gem();\n\n      gem.value = random.int(this.minValue, this.maxValue);\n\n      if (gem.value < 1100) {\n        gem.name = RND.item(getOrnamental());\n      } else if (gem.value < 8100) {\n        gem.name = RND.item(getSemiprecious());\n      } else if (gem.value < 15100) {\n        gem.name = RND.item(getFancy());\n      } else if (gem.value < 50100) {\n        gem.name = RND.item(getPrecious());\n      } else if (gem.value < 100100) {\n        gem.name = RND.item(getGemstones());\n      } else {\n        gem.name = RND.item(getJewels());\n      }\n\n      let worth = Currency.valueToCoins(gem.value, false, false, false);\n\n      gem.description = `${Words.article(gem.name)} ${gem.name} worth ${worth}`;\n\n      gems.push(gem);\n    }\n\n    return gems;\n  }\n}\n\nfunction getOrnamental(): string[] {\n  return [\n    \"banded agate\",\n    \"eye agate\",\n    \"moss agate\",\n    \"azurite\",\n    \"blue quartz\",\n    \"hematite\",\n    \"lapis lazuli\",\n    \"malachite\",\n    \"obsidian\",\n    \"rhodochrosite\",\n    \"tiger eye\",\n    \"turquoise\",\n    \"irregular freshwater pearl\",\n  ];\n}\n\nfunction getSemiprecious(): string[] {\n  return [\n    \"bloodstone\",\n    \"carnelian\",\n    \"chalcedony\",\n    \"chrysoprase\",\n    \"citrine\",\n    \"jasper\",\n    \"moonstone\",\n    \"onyx\",\n    \"quartz\",\n    \"sardonyx\",\n    \"star rose quartz\",\n    \"zircon\",\n  ];\n}\n\nfunction getFancy(): string[] {\n  return [\n    \"amber\",\n    \"amethyst\",\n    \"chrysoberyl\",\n    \"coral\",\n    \"garnet\",\n    \"jade\",\n    \"jet\",\n    \"pearl\",\n    \"spinel\",\n    \"tourmaline\",\n  ];\n}\n\nfunction getPrecious(): string[] {\n  return [\"alexandrite\", \"aquamarine\", \"black pearl\", \"blue spinel\", \"peridot\", \"topaz\"];\n}\n\nfunction getGemstones(): string[] {\n  return [\n    \"black opal\",\n    \"blue sapphire\",\n    \"emerald\",\n    \"fire opal\",\n    \"opal\",\n    \"star ruby\",\n    \"star sapphire\",\n    \"yellow sapphire\",\n  ];\n}\n\nfunction getJewels(): string[] {\n  return [\"black sapphire\", \"diamond\", \"jacinth\", \"ruby\"];\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport * as Words from \"@ironarachne/words\";\nimport * as Currency from \"../../currency/currency.js\";\nimport type Item from \"../../equipment/item.js\";\nimport ItemGenerator from \"../../equipment/itemgenerator.js\";\nimport ItemGeneratorConfig from \"../../equipment/itemgeneratorconfig.js\";\nimport * as Patterns from \"../../equipment/patterns/patterns.js\";\nimport type TreasureGenerator from \"./treasuregenerator.js\";\n\nexport default class MagicItemGenerator implements TreasureGenerator {\n  minValue: number;\n  maxValue: number;\n  count: number;\n\n  constructor(min: number, max: number, count: number) {\n    this.minValue = min;\n    this.maxValue = max;\n    this.count = count;\n  }\n\n  generate(): Item[] {\n    let items = [];\n    let possibleItems = Patterns.all();\n\n    for (let i = 0; i < this.count; i++) {\n      let itemGenConfig = new ItemGeneratorConfig();\n      itemGenConfig.pattern = RND.item(possibleItems);\n      itemGenConfig.useMutator = true;\n      itemGenConfig.minQuality = 2;\n      itemGenConfig.maxQuality = 5;\n      itemGenConfig.minValue = this.minValue;\n      itemGenConfig.maxValue = this.maxValue;\n      let itemGen = new ItemGenerator(itemGenConfig);\n      let item = itemGen.generate();\n\n      let worth = Currency.valueToCoins(item.value, false, false, false);\n\n      item.description = `${Words.article(item.name)} ${item.name} worth ${worth}`;\n\n      items.push(item);\n    }\n\n    return items;\n  }\n}\n","\"use strict\";\n\nimport * as Dice from \"../../../dice.js\";\nimport ArtObjectGenerator from \"../artobjectgenerator.js\";\nimport CoinGenerator from \"../coingenerator.js\";\nimport GemGenerator from \"../gemgenerator.js\";\nimport MagicItemGenerator from \"../magicitemgenerator.js\";\nimport TreasureTable from \"../table.js\";\nimport TreasureTableEntry from \"../tableentry.js\";\n\nexport function horde(): TreasureTable[] {\n  return [\n    new TreasureTable([\n      new TreasureTableEntry(30, new CoinGenerator(\"6d6x100\", \"3d6x100\", \"\", \"2d6x10\", \"\")),\n    ]),\n    new TreasureTable([\n      new TreasureTableEntry(8, new GemGenerator(900, 1000, Dice.roll(\"2d6\"))),\n      new TreasureTableEntry(12, new ArtObjectGenerator(1500, 3500, Dice.roll(\"2d4\"))),\n      new TreasureTableEntry(8, new GemGenerator(4500, 5000, Dice.roll(\"2d6\"))),\n    ]),\n  ];\n}\n\nexport function individual(): TreasureTable[] {\n  return [\n    new TreasureTable([\n      new TreasureTableEntry(30, new CoinGenerator(\"5d6\", \"\", \"\", \"\", \"\")),\n      new TreasureTableEntry(30, new CoinGenerator(\"\", \"4d6\", \"\", \"\", \"\")),\n      new TreasureTableEntry(10, new CoinGenerator(\"\", \"\", \"3d6\", \"\", \"\")),\n      new TreasureTableEntry(25, new CoinGenerator(\"\", \"\", \"\", \"3d6\", \"\")),\n      new TreasureTableEntry(5, new CoinGenerator(\"\", \"\", \"\", \"\", \"1d6\")),\n    ]),\n  ];\n}\n","\"use strict\";\n\nimport * as Dice from \"../../../dice.js\";\nimport ArtObjectGenerator from \"../artobjectgenerator.js\";\nimport CoinGenerator from \"../coingenerator.js\";\nimport GemGenerator from \"../gemgenerator.js\";\nimport MagicItemGenerator from \"../magicitemgenerator.js\";\nimport TreasureTable from \"../table.js\";\nimport TreasureTableEntry from \"../tableentry.js\";\n\nexport function horde(): TreasureTable[] {\n  return [\n    new TreasureTable([\n      new TreasureTableEntry(30, new CoinGenerator(\"\", \"\", \"\", \"4d6x1000\", \"5d6x100\")),\n    ]),\n    new TreasureTable([\n      new TreasureTableEntry(20, new ArtObjectGenerator(20000, 30000, Dice.roll(\"2d4\"))),\n      new TreasureTableEntry(30, new GemGenerator(45000, 50000, Dice.roll(\"3d6\"))),\n      new TreasureTableEntry(8, new GemGenerator(95000, 100000, Dice.roll(\"3d6\"))),\n      new TreasureTableEntry(10, new ArtObjectGenerator(70000, 80000, Dice.roll(\"2d4\"))),\n    ]),\n    new TreasureTable([\n      new TreasureTableEntry(5, new MagicItemGenerator(10000, 30000, Dice.roll(\"1d6\"))),\n    ]),\n  ];\n}\n\nexport function individual(): TreasureTable[] {\n  return [\n    new TreasureTable([\n      new TreasureTableEntry(20, new CoinGenerator(\"\", \"4d6x100\", \"\", \"1d6x100\", \"\")),\n      new TreasureTableEntry(15, new CoinGenerator(\"\", \"\", \"1d6x100\", \"1d6x100\", \"\")),\n      new TreasureTableEntry(40, new CoinGenerator(\"\", \"\", \"\", \"2d6x100\", \"1d6x10\")),\n      new TreasureTableEntry(25, new CoinGenerator(\"\", \"\", \"\", \"2d6x100\", \"2d6x10\")),\n    ]),\n  ];\n}\n","\"use strict\";\n\nimport * as Dice from \"../../../dice.js\";\nimport ArtObjectGenerator from \"../artobjectgenerator.js\";\nimport CoinGenerator from \"../coingenerator.js\";\nimport GemGenerator from \"../gemgenerator.js\";\nimport MagicItemGenerator from \"../magicitemgenerator.js\";\nimport TreasureTable from \"../table.js\";\nimport TreasureTableEntry from \"../tableentry.js\";\n\nexport function horde(): TreasureTable[] {\n  return [\n    new TreasureTable([\n      new TreasureTableEntry(30, new CoinGenerator(\"2d6x100\", \"2d6x1000\", \"\", \"6d6x100\", \"3d6x10\")),\n    ]),\n    new TreasureTable([\n      new TreasureTableEntry(20, new ArtObjectGenerator(1500, 3000, Dice.roll(\"2d4\"))),\n      new TreasureTableEntry(30, new GemGenerator(4500, 5000, Dice.roll(\"2d6\"))),\n      new TreasureTableEntry(8, new GemGenerator(9500, 10000, Dice.roll(\"3d6\"))),\n      new TreasureTableEntry(10, new ArtObjectGenerator(20000, 30000, Dice.roll(\"2d4\"))),\n    ]),\n  ];\n}\n\nexport function individual(): TreasureTable[] {\n  return [\n    new TreasureTable([\n      new TreasureTableEntry(30, new CoinGenerator(\"4d6x100\", \"\", \"1d6x10\", \"\", \"\")),\n      new TreasureTableEntry(30, new CoinGenerator(\"\", \"6d6x10\", \"\", \"2d6x10\", \"\")),\n      new TreasureTableEntry(10, new CoinGenerator(\"\", \"\", \"1d6x100\", \"2d6x10\", \"\")),\n      new TreasureTableEntry(25, new CoinGenerator(\"\", \"\", \"\", \"4d6x10\", \"\")),\n      new TreasureTableEntry(5, new CoinGenerator(\"\", \"\", \"\", \"2d6x10\", \"3d6\")),\n    ]),\n  ];\n}\n","\"use strict\";\n\nimport * as RND from \"@ironarachne/rng\";\nimport * as Words from \"@ironarachne/words\";\nimport * as _ from \"lodash\";\nimport random from \"random\";\nimport EncounterGenerator from \"../encounters/generator.js\";\nimport EncounterGeneratorConfig from \"../encounters/generatorconfig.js\";\nimport * as Doors from \"./doors.js\";\nimport Dungeon from \"./dungeon.js\";\nimport DungeonGeneratorConfig from \"./dungeongeneratorconfig.js\";\nimport * as DungeonThemes from \"./dungeonthemes/all.js\";\nimport EncounterSpawn from \"./encounterspawn.js\";\nimport * as Mutators from \"./rooms/mutators/mutators.js\";\nimport Room from \"./rooms/room.js\";\nimport RoomGenerator from \"./rooms/roomgenerator.js\";\nimport RoomGeneratorConfig from \"./rooms/roomgeneratorconfig.js\";\nimport * as Rooms from \"./rooms/rooms.js\";\nimport * as RoomThemes from \"./rooms/themes/themes.js\";\nimport * as Tiles from \"./tiles.js\";\nimport TreasureResultGenerator from \"./treasure/generator.js\";\nimport TreasureGeneratorConfig from \"./treasure/generatorconfig.js\";\nimport Key from \"./treasure/key.js\";\nimport * as CommonTables from \"./treasure/tables/common.js\";\nimport * as RareTables from \"./treasure/tables/rare.js\";\nimport * as UncommonTables from \"./treasure/tables/uncommon.js\";\nimport TreasureSpawn from \"./treasurespawn.js\";\n\nexport default class DungeonGenerator {\n  config: DungeonGeneratorConfig;\n\n  constructor(config: DungeonGeneratorConfig) {\n    this.config = config;\n  }\n\n  generate(): Dungeon {\n    let dungeon = new Dungeon();\n    dungeon.environment = RND.item([\n      \"arctic\",\n      \"coastal\",\n      \"desert\",\n      \"forest\",\n      \"grassland\",\n      \"hill\",\n      \"mountain\",\n      \"urban\",\n      \"underdark\",\n    ]);\n    dungeon.tiles = initializeTiles(this.config.width, this.config.height);\n\n    let themeOptions = DungeonThemes.all();\n    dungeon.theme = RND.item(themeOptions);\n    dungeon.name = dungeon.theme.nameGenerator.generate(1)[0];\n\n    dungeon = generateEntrance(dungeon, this.config.width, this.config.height);\n\n    let numRooms = random.int(this.config.minRooms, this.config.maxRooms);\n    dungeon = generateRooms(dungeon, numRooms, this.config.width, this.config.height);\n\n    for (let i = 0; i < 2; i++) {\n      dungeon = Doors.addDoorsToDungeon(dungeon);\n    }\n\n    dungeon = addLight(dungeon);\n\n    let keySpawns = generateKeySpawns(dungeon);\n\n    // TODO: generate trap spawns\n    // trap spawns have a type, a min and max room for location, and a potential treasure spawn\n    // note that trap spawns can target doors or features\n\n    let encounterSpawns = [];\n    let numberOfEncounters = 0;\n\n    for (let i = 1; i < dungeon.rooms.length; i++) {\n      let encounterChance = RND.simple(100);\n      let encounterType = \"none\";\n      if (i == dungeon.rooms.length - 1) {\n        encounterType = \"boss\";\n      } else if (encounterChance > 90) {\n        encounterType = \"strong\";\n      } else if (encounterChance > 30) {\n        encounterType = \"weak\";\n      }\n\n      if (encounterType != \"none\") {\n        let spawn = generateEncounterSpawn(dungeon, encounterType, i);\n        encounterSpawns.push(spawn);\n        numberOfEncounters++;\n      }\n    }\n\n    let treasureSpawns = generateTreasureHordes(dungeon);\n\n    dungeon = generateEncounters(dungeon, encounterSpawns);\n    dungeon = generateKeys(dungeon, keySpawns);\n    dungeon = generateTreasure(dungeon, treasureSpawns);\n\n    dungeon.averageThreatLevel = Math.floor(dungeon.totalThreatLevel / numberOfEncounters);\n\n    return dungeon;\n  }\n}\n\nfunction addLight(dungeon: Dungeon): Dungeon {\n  let allMutators = Mutators.all();\n  let lights = Mutators.withTag(\"light\", allMutators);\n\n  for (let i = 0; i < dungeon.rooms.length; i++) {\n    if (RND.simple(100) > 60) {\n      let lightMutator = RND.item(lights);\n      dungeon.rooms[i] = lightMutator.mutate(dungeon.rooms[i]);\n    }\n  }\n\n  return dungeon;\n}\n\nfunction addRoomToTiles(room: Room, tiles: number[][]): number[][] {\n  for (let i = 0; i < room.vertices.length; i++) {\n    tiles[room.vertices[i].y][room.vertices[i].x] = Tiles.ROOM;\n  }\n\n  return tiles;\n}\n\nfunction generateEncounters(dungeon: Dungeon, encounterSpawns: EncounterSpawn[]): Dungeon {\n  for (let i = 0; i < encounterSpawns.length; i++) {\n    let maxRoom = encounterSpawns[i].maxRoom;\n    if (maxRoom == -1) {\n      maxRoom = dungeon.rooms.length - 1;\n    }\n    let minRoom = encounterSpawns[i].minRoom;\n    let roomId = random.int(minRoom, maxRoom);\n\n    let eGen = new EncounterGenerator();\n    eGen.config = encounterSpawns[i].encounterConfig;\n\n    let encounter = eGen.generate();\n\n    dungeon.rooms[roomId].encounters.push(encounter);\n    dungeon.totalThreatLevel += encounter.totalThreatLevel;\n\n    if (encounterSpawns[i].treasureSpawns.length > 0) {\n      for (let j = 0; j < encounterSpawns[i].treasureSpawns.length; j++) {\n        let ts = encounterSpawns[i].treasureSpawns[j];\n        for (let k = 0; k < encounter.groups.length; k++) {\n          for (let l = 0; l < encounter.groups[k].mobs.length; l++) {\n            if (RND.simple(100) > 50) {\n              encounter.groups[k].mobs[l].carried.push(RND.item(ts.treasure));\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return dungeon;\n}\n\nfunction generateEncounterSpawn(\n  dungeon: Dungeon,\n  encounterType: string,\n  roomId: number,\n): EncounterSpawn {\n  let config = new EncounterGeneratorConfig();\n  config.environment = dungeon.environment;\n  config.sentientOptions = dungeon.theme.sentientOptions;\n  let treasureTables = CommonTables.individual();\n\n  if (encounterType == \"boss\") {\n    config.template = RND.weighted(dungeon.theme.bossEncounterTemplates);\n    config.minThreatLevel = 3;\n    config.maxThreatLevel = 10;\n    treasureTables = RareTables.individual();\n  } else if (encounterType == \"strong\") {\n    config.template = RND.weighted(dungeon.theme.strongEncounterTemplates);\n    treasureTables = UncommonTables.individual();\n  } else {\n    config.template = RND.weighted(dungeon.theme.weakEncounterTemplates);\n  }\n\n  let spawn = new EncounterSpawn();\n  spawn.minRoom = roomId;\n  spawn.maxRoom = roomId;\n  spawn.encounterConfig = config;\n\n  let addTreasureToEncounter = false;\n\n  if (spawn.encounterConfig.template === null) {\n    throw new Error(\"Encounter template is null\");\n  }\n\n  for (let j = 0; j < spawn.encounterConfig.template.groupTemplates.length; j++) {\n    if (spawn.encounterConfig.template.groupTemplates[j].isSentient) {\n      addTreasureToEncounter = true;\n    }\n  }\n\n  let treasureConfig = new TreasureGeneratorConfig();\n  treasureConfig.tables = treasureTables;\n  let treasureGen = new TreasureResultGenerator(treasureConfig);\n  let treasure = treasureGen.generate();\n  let ts = new TreasureSpawn();\n  ts.treasure = ts.treasure.concat(treasure);\n  if (addTreasureToEncounter) {\n    spawn.treasureSpawns.push(ts);\n  }\n\n  return spawn;\n}\n\nfunction generateEntrance(dungeon: Dungeon, mapWidth: number, mapHeight: number): Dungeon {\n  let entranceTheme = RoomThemes.getEntrance();\n  entranceTheme.flooringOptions = dungeon.theme.flooringOptions;\n  let roomGenConfig = new RoomGeneratorConfig(mapWidth, mapHeight, entranceTheme);\n\n  let roomGen = new RoomGenerator(roomGenConfig);\n\n  let firstRoom = roomGen.generate();\n  firstRoom.id = 0;\n\n  dungeon.rooms.push(firstRoom);\n  dungeon.tiles = addRoomToTiles(firstRoom, dungeon.tiles);\n\n  return dungeon;\n}\n\nfunction generateKeySpawns(dungeon: Dungeon): TreasureSpawn[] {\n  let keySpawns = [];\n\n  for (let i = 0; i < dungeon.doors.length; i++) {\n    if (dungeon.doors[i].lock !== null) {\n      let keySpawn = new TreasureSpawn();\n      keySpawn.behavior = `This key unlocks the door between room ${dungeon.doors[i].room1 + 1} and room ${\n        dungeon.doors[i].room2 + 1\n      } in ${dungeon.name}.`;\n      keySpawn.minRoom = 0;\n      keySpawn.maxRoom = dungeon.doors[i].room1;\n      let key = new Key();\n      key.name = \"a key\";\n      let lock = dungeon.doors[i].lock;\n      if (lock === null) {\n        throw new Error(\"Door has no lock but expected one\");\n      }\n      key.lockId = lock.id;\n\n      let keyDescription = RND.item([\n        `a ${RND.item([\"simple\", \"plain\", \"rough\"])} key`,\n        `a ${RND.item([\"small\", \"ornate\", \"shiny\", \"tarnished\"])} key`,\n      ]);\n      key.description = `${keyDescription} that unlocks the door between room ${dungeon.doors[i].room1 + 1} and room ${\n        dungeon.doors[i].room2 + 1\n      }`;\n      key.value = random.int(1, 10);\n      keySpawn.treasure.push(key);\n      keySpawns.push(keySpawn);\n    }\n  }\n\n  return keySpawns;\n}\n\nfunction generateKeys(dungeon: Dungeon, keySpawns: TreasureSpawn[]): Dungeon {\n  for (let i = 0; i < keySpawns.length; i++) {\n    let roomId = random.int(keySpawns[i].minRoom, keySpawns[i].maxRoom);\n    if (dungeon.rooms[roomId].encounters.length > 0) {\n      let e = RND.item(dungeon.rooms[roomId].encounters);\n      let m = RND.item(e.groups[0].mobs);\n      m.carried.push(keySpawns[i].treasure[0]);\n    } else {\n      dungeon.rooms[roomId].treasureCaches.push(keySpawns[i].treasure[0].description);\n    }\n  }\n\n  return dungeon;\n}\n\nfunction generateRooms(\n  dungeon: Dungeon,\n  numRooms: number,\n  mapWidth: number,\n  mapHeight: number,\n): Dungeon {\n  let id = 0;\n  let roomGeneration = true;\n  let failedIterations = 0;\n  let failedMax = 5;\n\n  for (let i = 0; i < dungeon.theme.requiredRooms.length; i++) {\n    let rr = dungeon.theme.requiredRooms[i];\n\n    let roomCount = random.int(rr.minCount, rr.maxCount);\n\n    for (let j = 0; j < roomCount; j++) {\n      let r = Rooms.getPlaceableRoom(mapWidth, mapHeight, rr.theme, dungeon.rooms);\n\n      if (r === null) {\n        console.debug(`Room broke`, rr, dungeon.theme.name);\n      } else {\n        id += 1;\n        r.id = id;\n\n        dungeon.rooms.push(r);\n        dungeon.tiles = addRoomToTiles(r, dungeon.tiles);\n      }\n    }\n  }\n\n  while (roomGeneration) {\n    if (dungeon.rooms.length >= numRooms) {\n      roomGeneration = false;\n    } else {\n      let roomTheme = RND.weighted(dungeon.theme.roomThemes);\n      if (roomTheme.environment == dungeon.theme.mainEnvironment) {\n        roomTheme.flooringOptions = dungeon.theme.flooringOptions;\n      }\n      let r = Rooms.getPlaceableRoom(mapWidth, mapHeight, roomTheme, dungeon.rooms);\n      if (r === null) {\n        failedIterations++;\n      } else {\n        id += 1;\n        r.id = id;\n\n        dungeon.rooms.push(r);\n        dungeon.tiles = addRoomToTiles(r, dungeon.tiles);\n      }\n\n      if (failedIterations > failedMax) {\n        roomGeneration = false;\n      }\n    }\n  }\n\n  return dungeon;\n}\n\nfunction generateTreasure(dungeon: Dungeon, treasureSpawns: TreasureSpawn[]): Dungeon {\n  for (let i = 0; i < treasureSpawns.length; i++) {\n    let maxRoom = treasureSpawns[i].maxRoom;\n    if (maxRoom == -1) {\n      maxRoom = dungeon.rooms.length - 1;\n    }\n    let minRoom = treasureSpawns[i].minRoom;\n    if (minRoom == -1) {\n      minRoom = 1;\n    }\n    let roomId = random.int(minRoom, maxRoom);\n\n    let descriptions = [];\n\n    for (const t of treasureSpawns[i].treasure) {\n      descriptions.push(t.description);\n    }\n\n    let treasureDescription = Words.arrayToPhrase(descriptions);\n\n    if (treasureSpawns[i].isHidden) {\n      treasureDescription += `, hidden somewhere in the room`;\n      dungeon.rooms[roomId].treasureCaches.push(treasureDescription);\n    } else if (treasureSpawns[i].isCarried) {\n      let te = RND.item(dungeon.rooms[roomId].encounters);\n      let mob = RND.item(te.groups[0].mobs);\n      mob.carried.push(treasureDescription);\n    } else {\n      let containers = [];\n      for (let i = 0; i < dungeon.rooms[roomId].features.length; i++) {\n        if (dungeon.rooms[roomId].features[i].isContainer) {\n          containers.push(i);\n        }\n      }\n      if (containers.length > 0) {\n        if (RND.simple(100) > 10) {\n          treasureDescription += \", inside \" + dungeon.rooms[roomId].features[RND.item(containers)].name;\n        }\n        dungeon.rooms[roomId].treasureCaches.push(treasureDescription);\n      } else {\n        dungeon.rooms[roomId].treasureCaches.push(treasureDescription);\n      }\n    }\n  }\n\n  return dungeon;\n}\n\nfunction generateTreasureHordes(dungeon: Dungeon): TreasureSpawn[] {\n  let hordeChance = 100;\n  let treasureSpawns = [];\n  let commonHordeTables = CommonTables.horde();\n  let bossHordeTables = RareTables.horde();\n\n  for (let i = 1; i < dungeon.rooms.length; i++) {\n    // Chance of a treasure horde - increases the higher the room number, but decreases after each horde\n    if (RND.simple(100) > hordeChance) {\n      let hordeConfig = new TreasureGeneratorConfig();\n      hordeConfig.tables = commonHordeTables;\n      if (i == dungeon.rooms.length - 1) {\n        hordeConfig.tables = bossHordeTables;\n      }\n      let treasureGen = new TreasureResultGenerator(hordeConfig);\n      let treasure = treasureGen.generate();\n      let horde = new TreasureSpawn();\n      horde.treasure = horde.treasure.concat(treasure);\n\n      treasureSpawns.push(horde);\n      hordeChance = 100;\n    } else {\n      hordeChance -= 2;\n    }\n  }\n\n  return treasureSpawns;\n}\n\nfunction initializeTiles(width: number, height: number): number[][] {\n  let v: number[][] = [];\n\n  for (let y = 0; y < height; y++) {\n    let row: number[] = [];\n    v[y] = row;\n    for (let x = 0; x < width; x++) {\n      v[y][x] = Tiles.STONE;\n    }\n  }\n\n  return v;\n}\n","\"use strict\";\n\nimport Vertex from \"../geometry/vertex.js\";\nimport Dungeon from \"./dungeon.js\";\nimport * as Tiles from \"./tiles.js\";\n\nexport default class DungeonTileRenderer {\n  tileSize: number;\n  mapHeight: number;\n  mapWidth: number;\n  imageWidth: number;\n  imageHeight: number;\n\n  constructor(imageWidth: number, imageHeight: number, mapHeight: number, mapWidth: number) {\n    this.imageWidth = imageWidth;\n    this.imageHeight = imageHeight;\n    this.mapHeight = mapHeight;\n    this.mapWidth = mapWidth;\n    this.tileSize = imageWidth / mapWidth;\n  }\n\n  render(dungeon: Dungeon, canvas: HTMLCanvasElement) {\n    const ctx = canvas.getContext(\"2d\");\n\n    if (ctx == null) {\n      throw new Error(\"Could not get 2d context from canvas\");\n    }\n\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, this.imageWidth, this.imageHeight);\n\n    let showCoords = false;\n\n    for (let y = 0; y < this.mapHeight; y++) {\n      for (let x = 0; x < this.mapWidth; x++) {\n        let tile = dungeon.tiles[y][x];\n\n        if (tile == Tiles.H_DOOR) {\n          renderHDoor(ctx, x, y, this.tileSize);\n        } else if (tile == Tiles.V_DOOR) {\n          renderVDoor(ctx, x, y, this.tileSize);\n        } else if (tile == Tiles.ROOM) {\n          renderRoom(ctx, x, y, this.tileSize);\n        } else if (tile == Tiles.H_S_DOOR) {\n          renderHSecretDoor(ctx, x, y, this.tileSize);\n        } else if (tile == Tiles.V_S_DOOR) {\n          renderVSecretDoor(ctx, x, y, this.tileSize);\n        } else {\n          renderStone(ctx, x, y, this.tileSize);\n        }\n\n        if (showCoords) {\n          renderCoords(ctx, x, y, this.tileSize);\n        }\n      }\n    }\n\n    for (let i = 0; i < dungeon.rooms.length; i++) {\n      let x = dungeon.rooms[i].minX * this.tileSize\n        + ((dungeon.rooms[i].maxX - dungeon.rooms[i].minX) * this.tileSize) / 2\n        + this.tileSize * 0.25;\n      let y = dungeon.rooms[i].minY * this.tileSize\n        + ((dungeon.rooms[i].maxY - dungeon.rooms[i].minY) * this.tileSize) / 2\n        + this.tileSize * 0.8;\n\n      // TODO: calculate placement of label in the center of the biggest block of ROOM tiles for this room, not the actual room center\n      ctx.beginPath();\n      ctx.strokeStyle = \"#5698DA\";\n      ctx.fillStyle = \"#5698DA\";\n      ctx.font = \"20px Eczar\";\n      ctx.fillText(`${dungeon.rooms[i].id + 1}`, x, y);\n      ctx.strokeText(`${dungeon.rooms[i].id + 1}`, x, y);\n    }\n  }\n}\n\nfunction renderCoords(ctx: CanvasRenderingContext2D, x: number, y: number, tileSize: number) {\n  let mx = x * tileSize;\n  let my = y * tileSize;\n\n  ctx.beginPath();\n  ctx.strokeStyle = \"red\";\n  ctx.fillStyle = \"red\";\n  ctx.font = \"8px sans-serif\";\n  ctx.fillText(`${x},${y}`, mx, my);\n}\n\nfunction renderGrid(ctx: CanvasRenderingContext2D, x: number, y: number, tileSize: number) {\n  let mx = x * tileSize;\n  let my = y * tileSize;\n\n  ctx.fillRect(mx, my, tileSize, tileSize);\n\n  ctx.strokeStyle = \"#85BBF1\";\n  ctx.strokeRect(mx, my, tileSize, tileSize);\n}\n\nfunction renderHDoor(ctx: CanvasRenderingContext2D, x: number, y: number, tileSize: number) {\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(x * tileSize, y * tileSize, tileSize, tileSize);\n\n  renderGrid(ctx, x, y, tileSize);\n\n  ctx.beginPath();\n  ctx.strokeStyle = \"#85BBF1\";\n\n  let t = new Vertex(x * tileSize + tileSize / 2, y * tileSize);\n  let b = new Vertex(x * tileSize + tileSize / 2, y * tileSize + tileSize);\n\n  ctx.moveTo(t.x, t.y);\n  ctx.lineTo(b.x, b.y);\n  ctx.stroke();\n\n  ctx.fillRect(\n    x * tileSize + tileSize * 0.35,\n    y * tileSize + tileSize * 0.2,\n    tileSize * 0.3,\n    tileSize * 0.6,\n  );\n\n  ctx.strokeRect(\n    x * tileSize + tileSize * 0.35,\n    y * tileSize + tileSize * 0.2,\n    tileSize * 0.3,\n    tileSize * 0.6,\n  );\n}\n\nfunction renderHSecretDoor(ctx: CanvasRenderingContext2D, x: number, y: number, tileSize: number) {\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(x * tileSize, y * tileSize, tileSize, tileSize);\n\n  renderGrid(ctx, x, y, tileSize);\n\n  ctx.beginPath();\n  ctx.strokeStyle = \"#85BBF1\";\n\n  let t = new Vertex(x * tileSize + tileSize / 2, y * tileSize);\n  let b = new Vertex(x * tileSize + tileSize / 2, y * tileSize + tileSize);\n\n  ctx.moveTo(t.x, t.y);\n  ctx.lineTo(b.x, b.y);\n  ctx.stroke();\n\n  ctx.fillStyle = \"#85BBF1\";\n  ctx.font = \"12px sans-serif\";\n  ctx.fillText(\"S\", x * tileSize + tileSize / 3.5, y * tileSize + tileSize / 1.3);\n}\n\nfunction renderStone(ctx: CanvasRenderingContext2D, x: number, y: number, tileSize: number) {\n  ctx.fillStyle = \"#A4CFF9\";\n\n  let mx = x * tileSize;\n  let my = y * tileSize;\n\n  ctx.fillRect(mx, my, tileSize, tileSize);\n}\n\nfunction renderRoom(ctx: CanvasRenderingContext2D, x: number, y: number, tileSize: number) {\n  ctx.fillStyle = \"white\";\n\n  let mx = x * tileSize;\n  let my = y * tileSize;\n\n  ctx.fillRect(mx, my, tileSize, tileSize);\n\n  renderGrid(ctx, x, y, tileSize);\n}\n\nfunction renderVDoor(ctx: CanvasRenderingContext2D, x: number, y: number, tileSize: number) {\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(x * tileSize, y * tileSize, tileSize, tileSize);\n\n  renderGrid(ctx, x, y, tileSize);\n\n  ctx.beginPath();\n  ctx.strokeStyle = \"#85BBF1\";\n\n  let l = new Vertex(x * tileSize, y * tileSize + tileSize / 2);\n  let r = new Vertex(x * tileSize + tileSize, y * tileSize + tileSize / 2);\n\n  ctx.moveTo(l.x, l.y);\n  ctx.lineTo(r.x, r.y);\n  ctx.stroke();\n\n  ctx.fillRect(\n    x * tileSize + tileSize * 0.2,\n    y * tileSize + tileSize * 0.35,\n    tileSize * 0.6,\n    tileSize * 0.3,\n  );\n\n  ctx.strokeRect(\n    x * tileSize + tileSize * 0.2,\n    y * tileSize + tileSize * 0.35,\n    tileSize * 0.6,\n    tileSize * 0.3,\n  );\n}\n\nfunction renderVSecretDoor(ctx: CanvasRenderingContext2D, x: number, y: number, tileSize: number) {\n  ctx.fillStyle = \"white\";\n  ctx.fillRect(x * tileSize, y * tileSize, tileSize, tileSize);\n\n  renderGrid(ctx, x, y, tileSize);\n\n  ctx.beginPath();\n  ctx.strokeStyle = \"#85BBF1\";\n\n  let l = new Vertex(x * tileSize, y * tileSize + tileSize / 2);\n  let r = new Vertex(x * tileSize + tileSize, y * tileSize + tileSize / 2);\n\n  ctx.moveTo(l.x, l.y);\n  ctx.lineTo(r.x, r.y);\n  ctx.stroke();\n\n  ctx.save();\n  ctx.translate(x * tileSize + tileSize / 2, y * tileSize + tileSize / 2);\n  ctx.rotate((90 * Math.PI) / 180);\n  ctx.fillStyle = \"#85BBF1\";\n  ctx.font = \"12px sans-serif\";\n  ctx.fillText(\"S\", -ctx.measureText(\"S\").width / 2, 4);\n  ctx.restore();\n}\n","<script lang=\"ts\">\n  import * as Currency from \"$lib/currency/currency\";\n  import * as RND from \"@ironarachne/rng\";\n  import * as Words from '@ironarachne/words';\n  import random from \"random\";\n  import seedrandom from \"seedrandom\";\n  import DungeonGeneratorConfig from \"$lib/dungeon/dungeongeneratorconfig\";\n  import DungeonGenerator from \"$lib/dungeon/dungeongenerator\";\n  import DungeonTileRenderer from \"$lib/dungeon/tilerenderer\";\n  import { onMount } from \"svelte\";\n\n  let seed = RND.randomString(13);\n\n  let canvas: HTMLCanvasElement;\n  let minRooms = 20;\n  let maxRooms = 30;\n\n  let config = new DungeonGeneratorConfig();\n  let generator = new DungeonGenerator(config);\n  config.minRooms = minRooms;\n  config.maxRooms = maxRooms;\n  let dungeon = generator.generate();\n  let renderer = new DungeonTileRenderer(800, 1000, config.height, config.width);\n\n  function generate() {\n    random.use(seedrandom(seed));\n\n    config.minRooms = minRooms;\n    config.maxRooms = maxRooms;\n\n    dungeon = generator.generate();\n    renderer.render(dungeon, canvas);\n  }\n\n  function newSeed() {\n    seed = RND.randomString(13);\n    generate();\n  }\n\n  onMount(() => {\n    canvas = <HTMLCanvasElement> document.getElementById('mapCanvas');\n    newSeed();\n  });\n</script>\n\n<style lang=\"scss\">\n  @import \"$lib/styles/reset.scss\";\n  @import \"$lib/styles/main.scss\";\n  @import '$lib/styles/global.scss';\n  @import '$lib/styles/fantasy.scss';\n\n  div.mobs {\n    display: block;\n    padding: 0;\n    margin: 0;\n  }\n\n  div.mob {\n    border: 1px solid black;\n    padding: 0.5rem;\n    margin: 0.5rem;\n  }\n\n  div.mob > h4 {\n    display: block;\n    font-size: 1rem;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    border-bottom: 1px solid black;\n  }\n\n  div.room-description {\n    border: 3px solid black;\n    padding: 0.5rem;\n    margin: 0.5rem;\n  }\n\n  div.room-secrets {\n    padding: 0.5rem;\n  }\n</style>\n\n<svelte:head>\n  <title>Dungeon Generator | Iron Arachne</title>\n</svelte:head>\n\n<section class=\"fantasy main\">\n  <h1>Dungeon Generator</h1>\n\n  <p>A dungeon generator.</p>\n\n  <div class=\"input-group\">\n    <label for=\"seed\">Random Seed</label>\n    <input type=\"text\" name=\"seed\" bind:value={seed} id=\"seed\"/>\n  </div>\n\n  <div class=\"input-group\">\n    <label for=\"minRooms\">Min. Rooms</label>\n    <input type=\"number\" name=\"minRooms\" bind:value={minRooms} id=\"minRooms\"/>\n  </div>\n\n  <div class=\"input-group\">\n    <label for=\"maxRooms\">Max. Rooms</label>\n    <input type=\"number\" name=\"maxRooms\" bind:value={maxRooms} id=\"maxRooms\"/>\n  </div>\n\n  <button on:click={generate}>Generate From Seed</button>\n  <button on:click={newSeed}>Random Seed (and Generate)</button>\n\n  <h2>{dungeon.name}</h2>\n\n  <p><strong>Environment:</strong> {dungeon.environment}</p>\n  <p><strong>Total Threat Level:</strong> {dungeon.totalThreatLevel}</p>\n  <p><strong>Average Threat Level:</strong> {dungeon.averageThreatLevel}</p>\n\n  <canvas id=\"mapCanvas\" width=\"800\" height=\"1000\"></canvas>\n\n  {#each dungeon.rooms as room }\n  <div class=\"room\">\n    <h3>{room.id + 1}. {Words.title(room.name)}</h3>\n    {#if room.lightLevel == 0}<p>This room is dark.</p>{/if}\n    <div class=\"room-description\">\n      {room.description}\n      {#each room.features as feature}\n      {feature.description + ' '}\n      {/each}\n    </div>\n    {#if room.secrets != ''}\n    <div class=\"room-secrets\">\n      {room.secrets}\n    </div>\n    {/if}\n    <div class=\"encounter\">\n      {#each room.encounters as encounter}\n        {#each encounter.groups as group}\n        <p>There {#if group.mobs.length > 1}are {group.mobs.length}{:else}is {Words.article(group.name)}{/if} {group.name} here.</p>\n        <div class=\"mobs\">\n          {#each group.mobs as mob}\n          <div class=\"mob\">\n            <h4>{mob.name}, {mob.summary} (TL {mob.threatLevel})</h4>\n            {#if mob.abilities.length > 0}\n            <p>Abilities:</p>\n            <ul>\n              {#each mob.abilities as ability}\n              <li>{ability}</li>\n              {/each}\n            </ul>\n            {/if}\n            {#if mob.carried.length > 0}\n            <p>Carrying the following:</p>\n            <ul>\n              {#each mob.carried as item}\n              <li>{item.description}, worth {Currency.valueToCoins(item.value, false, false, false)}</li>\n              {/each}\n            </ul>\n            {/if}\n          </div>\n          {/each}\n        </div>\n        {/each}\n      {/each}\n    </div>\n    {#if room.treasureCaches.length > 0}\n    <div class=\"treasure\">\n      <h4>Treasure</h4>\n      <ul>\n        {#each room.treasureCaches as cache}\n        <li>{cache}</li>\n        {/each}\n      </ul>\n    </div>\n    {/if}\n  </div>\n  {/each}\n</section>\n"],"names":["all","BladedWeapons.all","Components.withMaxQuality","Components.withMinQuality","Mutators.withAnyTag","Climates.random","modify","Animals.all","Skeletal.modify","Vampire.modify","Zombie.modify","Demonic.all","Elementals.all","Insects.all","Magical.all","Monstrosities.all","Oozes.all","Undead.all","withAnyTag","withCreatureType","Mobs.hasAllTagsIn","Mobs.hasAnyTagIn","Mobs.hasCreatureType","Mobs.hasEnvironment","Mobs.hasNoTagIn","FantasySpecies.all","FantasyCreatures.all","CommonSpecies.getSkeletonVariants","CommonSpecies.getVampireVariants","CommonSpecies.getZombieVariants","PremadeConfigs.getFantasy","Tiles.STONE","Tiles.ROOM","distance","Geometry.distance","Tiles.H_DOOR","Tiles.V_DOOR","Tiles.H_S_DOOR","Tiles.V_S_DOOR","Rooms.getNeighboringRooms","byName","Components.all","Mutators.all","Patterns.byName","Patterns.forCategory","ItemGenerators.getItemGeneratorByTag","ItemGenerators.getItemGenerator","Cleric.all","Cult.all","Mage.all","Martial.all","FantasyArchetypes.all","Archetypes.byName","Bandits.all","GenericDungeon.all","Magic.all","Wilderness.all","withTag","Dungeon.all","getTheme","FantasyEncounters.all","CommonSpecies.withCreatureType","Encounters.withTag","Encounters.belowThreatLevel","Encounters.inThreatLevelRange","Encounters.withThreatLevel","CommonSpecies.byTag","CommonSpecies.randomUniqueSet","RoomThemes.all","RoomThemes.byName","RoomThemes.byTag","GenericEncounters.all","UndeadEncounters.all","Cult.getTheme","Fortress.getTheme","MageLair.getTheme","Tomb.getTheme","Currency.valueToCoins","Dice.roll","Patterns.all","horde","individual","DungeonThemes.all","Doors.addDoorsToDungeon","Mutators.withTag","CommonTables.individual","RareTables.individual","UncommonTables.individual","RoomThemes.getEntrance","Rooms.getPlaceableRoom","CommonTables.horde","RareTables.horde"],"mappings":"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CQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MACQ,OAAA;AAAA,IACC;AAAA,IACT;AAAA,MACA,MAAA;AAAA,MA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"}